[{"categories":["Golang"],"content":" for-range å‰¯æœ¬çš„é—®é¢˜ func TestForRange() { arr := [3]int{1,2,3} for _, v := range arr[:] { // è½¬æˆåˆ‡ç‰‡ fmt.Println(v) } } 202305181719 for-range ä¸­çš„å‰¯æœ¬æ‹·è´ ","date":"2023-05-18","objectID":"/202305181801-%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E4%BC%98%E5%8C%96/:0:0","series":["Golangæ€§èƒ½ä¼˜åŒ–"],"tags":[],"title":"æé«˜æ€§èƒ½çš„ä¸€äº›å°ä¼˜åŒ–","uri":"/202305181801-%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E4%BC%98%E5%8C%96/#heading"},{"categories":["Golang"],"content":" func TestForRange() { arr := [3]int{1,2,3} for _, v := range arr { arr[2] = 4 fmt.Println(v) } fmt.Println() slice := []int{1,2,3} for _, v := range slice { slice[2] = 4 fmt.Println(v) } } ä»¥ä¸Šçš„è¾“å‡ºä¸ºä»€ä¹ˆæ˜¯ï¼š 1 2 3 1 2 4 åŸå› ï¼š ä½¿ç”¨ for-range éå†å®¹å™¨ï¼Œå®é™…ä¸Šéå†çš„æ˜¯å®¹å™¨çš„ä¸€ä¸ªå‰¯æœ¬å€¼ï¼Œé¦–å…ˆç¡®å®šè¢«éå†çš„ä¸¤ä¸ªå¯¹è±¡çš„ç±»å‹ï¼š arrï¼šæ•°ç»„ sliceï¼šåˆ‡ç‰‡ éå† arr æ•°ç»„çš„æ—¶å€™ï¼Œå¤åˆ¶å¦å¤–ä¸€ä»½æ•°ç»„ arr2 ç”¨æ¥éå†ï¼Œå› æ­¤å°±ç®—åœ¨å¾ªç¯å†…ä¿®æ”¹ arr çš„å€¼ï¼Œæ˜¯ä¸ä¼šå½±å“åˆ° arr2 çš„ï¼›éå† slice åˆ‡ç‰‡çš„æ—¶å€™ï¼Œå‰¯æœ¬ slice2 ä»ç„¶æ˜¯åˆ‡ç‰‡ï¼Œsliceã€slice2 æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªåº•å±‚çš„åºåˆ—ï¼Œslice çš„ä¿®æ”¹ä¼šå½±å“åˆ° slice2ï¼Œå› æ­¤è¾“å‡ºçš„ç»“æœä¼šéšç€ä¿®æ”¹äº§ç”Ÿå˜åŒ– é‚£ä¹ˆåœ¨éå†æ•°ç»„çš„æ—¶å€™å¯ä»¥ç”¨è¿™æ ·çš„æ–¹å¼æ¥æé«˜æ•ˆç‡ï¼š func TestForRange() { arr := [3]int{1,2,3} for _, v := range arr[:] { // è½¬æˆåˆ‡ç‰‡ fmt.Println(v) } } ","date":"2023-05-18","objectID":"/202305181719-for-range-%E4%B8%AD%E7%9A%84%E5%89%AF%E6%9C%AC%E6%8B%B7%E8%B4%9D/:0:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":[],"title":"for-range ä¸­çš„å‰¯æœ¬æ‹·è´","uri":"/202305181719-for-range-%E4%B8%AD%E7%9A%84%E5%89%AF%E6%9C%AC%E6%8B%B7%E8%B4%9D/#heading"},{"categories":["Golang"],"content":" åˆ‡ç‰‡å…‹éš† sClone := make([]T, len(s)) copy(sCLone, s) ","date":"2023-05-18","objectID":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/:1:0","series":["Golangä»£ç ç‰‡æ®µ"],"tags":[],"title":"åˆ‡ç‰‡çš„ä¸€äº›æ“ä½œ","uri":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/#åˆ‡ç‰‡å…‹éš†"},{"categories":["Golang"],"content":" åˆ é™¤å…ƒç´ ","date":"2023-05-18","objectID":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/:2:0","series":["Golangä»£ç ç‰‡æ®µ"],"tags":[],"title":"åˆ‡ç‰‡çš„ä¸€äº›æ“ä½œ","uri":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/#åˆ é™¤å…ƒç´ "},{"categories":["Golang"],"content":" ä¿è¯å‰©ä¸‹çš„å…ƒç´ æœ‰åº s = append(s[:i], s[i+1:]...) ","date":"2023-05-18","objectID":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/:2:1","series":["Golangä»£ç ç‰‡æ®µ"],"tags":[],"title":"åˆ‡ç‰‡çš„ä¸€äº›æ“ä½œ","uri":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/#ä¿è¯å‰©ä¸‹çš„å…ƒç´ æœ‰åº"},{"categories":["Golang"],"content":" ä¸ä¿è¯å‰©ä¸‹çš„å…ƒç´ æœ‰åº s[i] = s[len(s)-1] s = s[:len(s)-1] ","date":"2023-05-18","objectID":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/:2:2","series":["Golangä»£ç ç‰‡æ®µ"],"tags":[],"title":"åˆ‡ç‰‡çš„ä¸€äº›æ“ä½œ","uri":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/#ä¸ä¿è¯å‰©ä¸‹çš„å…ƒç´ æœ‰åº"},{"categories":["Golang"],"content":" tipï¼šé¿å…æš‚æ—¶æ€§çš„å†…å­˜æ³„æ¼å¦‚æœåˆ‡ç‰‡å…ƒç´ å¼•ç”¨ç€å…¶ä»–å€¼ï¼ˆå¦‚æŒ‡é’ˆã€åˆ‡ç‰‡ã€æ˜ å°„ï¼‰ï¼Œåº”è¯¥é‡ç½®å¤šå‡ºæ¥çš„å…ƒç´ æ§½ä¸Šçš„å…ƒç´ å€¼ï¼Œé¿å…æš‚æ—¶æ€§çš„å†…å­˜æ³„æ¼ï¼š s[len(s) : len(s)+1][0] = t0 // ç±»å‹é›¶å€¼ example type Person struct { Name string Age int } func main() { people := []*Person{ {Name: \"Alice\", Age: 25}, {Name: \"Bob\", Age: 30}, {Name: \"Charlie\", Age: 35}, } // åˆ é™¤ç¬¬äºŒä¸ªå…ƒç´  copy(people[1:], people[2:]) people[len(people)-1] = nil // å°†æœ€åä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸ºé›¶å€¼ people = people[:len(people)-1] // å¤„ç†è¢«åˆ é™¤çš„å…ƒç´  // ... } åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ copy å‡½æ•°å°†ç¬¬ä¸‰ä¸ªå…ƒç´ å¤åˆ¶åˆ°ç¬¬äºŒä¸ªå…ƒç´ çš„ä½ç½®ï¼Œå¹¶å°†æœ€åä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸ºé›¶å€¼ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿è¢«åˆ é™¤çš„å…ƒç´ æ‰€å¼•ç”¨çš„å€¼è¢«åŠæ—¶é‡Šæ”¾ï¼Œä»è€Œé¿å…å†…å­˜æ³„æ¼ã€‚ ","date":"2023-05-18","objectID":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/:2:3","series":["Golangä»£ç ç‰‡æ®µ"],"tags":[],"title":"åˆ‡ç‰‡çš„ä¸€äº›æ“ä½œ","uri":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/#tipé¿å…æš‚æ—¶æ€§çš„å†…å­˜æ³„æ¼"},{"categories":["Golang"],"content":" æŠŠä¸€ä¸ªåˆ‡ç‰‡çš„æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°å¦ä¸€ä¸ªåˆ‡ç‰‡ s = append(s[:i], append(elements, s[i:]...)...) ","date":"2023-05-18","objectID":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/:3:0","series":["Golangä»£ç ç‰‡æ®µ"],"tags":[],"title":"åˆ‡ç‰‡çš„ä¸€äº›æ“ä½œ","uri":"/202305181748-%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/#æŠŠä¸€ä¸ªåˆ‡ç‰‡çš„æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°å¦ä¸€ä¸ªåˆ‡ç‰‡"},{"categories":["Golang"],"content":" åŒºåˆ« new make åˆ†é…å†…å­˜ åˆ†é…å†…å­˜å¹¶åˆå§‹åŒ– è¿”å›æŒ‡å‘ç±»å‹çš„æŒ‡é’ˆ è¿”å›å¯¹è±¡çš„å¼•ç”¨ ","date":"2023-05-18","objectID":"/202305181645-new-%E5%92%8C-make/:1:0","series":["Golangåˆè¯†"],"tags":[],"title":"new å’Œ make","uri":"/202305181645-new-%E5%92%8C-make/#åŒºåˆ«"},{"categories":["Golang"],"content":" ä½¿ç”¨åœºæ™¯ new ç”¨æ¥åˆ›å»ºå€¼ç±»å‹çš„å¯¹è±¡ï¼Œæ¯”å¦‚ intã€floatâ€¦ make ç”¨æ¥åˆ›å»ºæŒ‡é’ˆæŒæœ‰è€…ç±»å‹çš„å¯¹è±¡ï¼Œæ¯”å¦‚ sliceã€mapã€channelâ€¦ ","date":"2023-05-18","objectID":"/202305181645-new-%E5%92%8C-make/:2:0","series":["Golangåˆè¯†"],"tags":[],"title":"new å’Œ make","uri":"/202305181645-new-%E5%92%8C-make/#ä½¿ç”¨åœºæ™¯"},{"categories":["Golang"],"content":" åŸºæœ¬æ¦‚å¿µM-P-G åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆï¼Ÿ MMachineï¼šä¼ ç»Ÿæ„ä¹‰ä¸Šçš„çº¿ç¨‹ï¼Œwork thread PProcessorï¼šè®¤ä¸ºæŠ½è±¡çš„å¤„ç†å™¨ GGoroutineï¼šåç¨‹ ","date":"2023-05-18","objectID":"/202305181327-go-%E7%9A%84%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6mpg%E6%A8%A1%E5%9E%8B/:1:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹","uri":"/202305181327-go-%E7%9A%84%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6mpg%E6%A8%A1%E5%9E%8B/#åŸºæœ¬æ¦‚å¿µ"},{"categories":["Golang"],"content":" å·¥ä½œçº¿ç¨‹å‡è®¾å·¥ä½œçº¿ç¨‹æ€»æ˜¯è´ªå¿ƒçš„æ‰§è¡Œæ¯ä¸ª Gï¼Œé‚£ä¹ˆå¯èƒ½å­˜åœ¨ä¸‹é¢ä¸¤ç§æƒ…å†µï¼š G çš„æ•°é‡ \u003e æœ¬åœ°çº¿ç¨‹çš„æ•°é‡ G çš„æ•°é‡ \u003c æœ¬åœ°çº¿ç¨‹çš„æ•°é‡ ","date":"2023-05-18","objectID":"/202305181327-go-%E7%9A%84%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6mpg%E6%A8%A1%E5%9E%8B/:1:1","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹","uri":"/202305181327-go-%E7%9A%84%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6mpg%E6%A8%A1%E5%9E%8B/#å·¥ä½œçº¿ç¨‹"},{"categories":["Golang"],"content":" ä¸€ä¸ªç®€å•çš„å·¥ä½œæµç¨‹åœ¨ MPG å¹¶å‘æ¨¡å‹ä¸­ï¼Œè°ƒåº¦å™¨ï¼ˆSchedulerï¼‰è´Ÿè´£ç®¡ç†å’Œè°ƒåº¦å·¥ä½œçº¿ç¨‹ï¼ˆWorker Threadï¼‰ï¼Œä»¥å®ç°åç¨‹çš„å¹¶å‘æ‰§è¡Œã€‚MPG è°ƒåº¦çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š åˆå§‹åŒ–ï¼šåœ¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œè°ƒåº¦å™¨ä¼šåˆå§‹åŒ–ä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ± ï¼Œå¹¶å°†å…¶ä¸­çš„æ¯ä¸ªå·¥ä½œçº¿ç¨‹æ ‡è®°ä¸ºç©ºé—²çŠ¶æ€ã€‚ åç¨‹åˆ›å»ºï¼šå½“ä¸€ä¸ªåç¨‹è¢«åˆ›å»ºæ—¶ï¼Œè°ƒåº¦å™¨ä¼šå°†è¯¥åç¨‹åŠ å…¥åˆ°åç¨‹é˜Ÿåˆ—ä¸­ï¼Œå¹¶ç­‰å¾…è°ƒåº¦æ‰§è¡Œã€‚ å·¥ä½œçº¿ç¨‹é€‰æ‹©ï¼šå½“ä¸€ä¸ªåç¨‹éœ€è¦æ‰§è¡Œæ—¶ï¼Œè°ƒåº¦å™¨ä¼šä»å·¥ä½œçº¿ç¨‹æ± ä¸­é€‰æ‹©ä¸€ä¸ªç©ºé—²çš„å·¥ä½œçº¿ç¨‹ï¼Œå¹¶å°†è¯¥åç¨‹ç»‘å®šåˆ°è¯¥å·¥ä½œçº¿ç¨‹ä¸Šã€‚ åç¨‹æ‰§è¡Œï¼šå½“ä¸€ä¸ªåç¨‹è¢«ç»‘å®šåˆ°å·¥ä½œçº¿ç¨‹ä¸Šåï¼Œè¯¥åç¨‹å°±å¯ä»¥å¼€å§‹æ‰§è¡Œäº†ã€‚å¦‚æœè¯¥åç¨‹éœ€è¦æš‚åœæˆ–è€…ç­‰å¾… I/O æ“ä½œå®Œæˆï¼Œåˆ™è°ƒåº¦å™¨ä¼šå°†è¯¥åç¨‹çš„çŠ¶æ€è®¾ç½®ä¸ºæš‚åœçŠ¶æ€ï¼Œå¹¶å°†è¯¥åç¨‹æ‰€ç»‘å®šçš„å·¥ä½œçº¿ç¨‹æ ‡è®°ä¸ºç©ºé—²çŠ¶æ€ã€‚ å·¥ä½œçº¿ç¨‹ç©ºé—²ï¼šå½“ä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ‰§è¡Œå®Œæ¯•æˆ–è€…æš‚åœæ—¶ï¼Œè°ƒåº¦å™¨ä¼šå°†è¯¥å·¥ä½œçº¿ç¨‹æ ‡è®°ä¸ºç©ºé—²çŠ¶æ€ï¼Œå¹¶ç­‰å¾…ä¸‹ä¸€ä¸ªåç¨‹çš„è°ƒåº¦ã€‚ åç¨‹æ¢å¤æ‰§è¡Œï¼šå½“ä¸€ä¸ªåç¨‹éœ€è¦ç»§ç»­æ‰§è¡Œæ—¶ï¼Œè°ƒåº¦å™¨ä¼šé‡æ–°é€‰æ‹©ä¸€ä¸ªç©ºé—²çš„å·¥ä½œçº¿ç¨‹ï¼Œå¹¶å°†è¯¥åç¨‹ç»‘å®šåˆ°è¯¥å·¥ä½œçº¿ç¨‹ä¸Šï¼Œä»è€Œå®ç°åç¨‹çš„æ¢å¤æ‰§è¡Œã€‚ é€šè¿‡åˆç†åœ°ç®¡ç†å’Œè°ƒåº¦å·¥ä½œçº¿ç¨‹ï¼ŒMPG å¹¶å‘æ¨¡å‹å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºèµ„æºï¼Œæé«˜ç¨‹åºçš„æ€§èƒ½å’Œå“åº”èƒ½åŠ›ã€‚åŒæ—¶ï¼Œä¸ºäº†ä¿è¯å¹¶å‘çš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ï¼Œè¿˜éœ€è¦ä½¿ç”¨é”ã€ä¿¡å·é‡ã€äº’æ–¥é‡ç­‰æœºåˆ¶æ¥æ§åˆ¶å¯¹å…±äº«èµ„æºçš„è®¿é—® https://golang.design/under-the-hood/zh-cn/part2runtime/ch06sched/mpg/ ","date":"2023-05-18","objectID":"/202305181327-go-%E7%9A%84%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6mpg%E6%A8%A1%E5%9E%8B/:2:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹","uri":"/202305181327-go-%E7%9A%84%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6mpg%E6%A8%A1%E5%9E%8B/#ä¸€ä¸ªç®€å•çš„å·¥ä½œæµç¨‹"},{"categories":["Golang"],"content":" goroutine å¹¶å‘ä¸å¹¶è¡Œ å¹¶å‘ï¼šä¸¤ä¸ªè®¡ç®—åªåœ¨ä¸€å°æ®µæ—¶é—´å†…ä¼šåŒæ—¶è¿è¡Œï¼Œä½†å¤§éƒ¨åˆ†æ˜¯åˆ†å¼€è¿è¡Œçš„ï¼Œcpu é€šè¿‡ä¸æ–­çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è®©ä¸¤ä¸ªè®¡ç®—çœ‹èµ·æ¥æ˜¯åŒæ—¶è¿è¡Œçš„ å¹¶è¡Œï¼šä»»ä½•æ—¶é—´å†…ï¼Œä¸¤ä¸ªè®¡ç®—éƒ½æ˜¯åŒæ—¶è¿è¡Œçš„ ç±»å‹ ç‰¹ç‚¹ æ˜¯å¦å…±äº«èµ„æº å¹¶å‘ äº¤æ›¿è¿è¡Œï¼Œä¹Ÿæœ‰å¯èƒ½åŒæ—¶è¿è¡Œ å…±äº« å¹¶è¡Œ åŒæ—¶è¿è¡Œ ä¸å…±äº« åç¨‹å’Œçº¿ç¨‹ ç±»å‹ è°ƒåº¦ åˆ‡æ¢å¼€é”€ åç¨‹ ç”¨æˆ·æ€ å¼€é”€å° çº¿ç¨‹ ç³»ç»Ÿè°ƒåº¦ å¼€é”€å¤§ ","date":"2023-05-18","objectID":"/202305181209-goroutinedefer/:1:0","series":["Golangåˆè¯†"],"tags":[],"title":"goroutineã€defer","uri":"/202305181209-goroutinedefer/#goroutine"},{"categories":["Golang"],"content":" å¹¶å‘æ§åˆ¶âŒ å…ˆçœ‹ä¸ªé”™è¯¯çš„ä¾‹å­ï¼š func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) time.Sleep(2 * time.Second) } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } } ä¸Šé¢ç¨‹åºçš„è¾“å‡ºå¯èƒ½ä¸ºï¼š hi! hello! hello! hello! hi! hi! å¹¶æ²¡æœ‰å„è‡ªæ‰“å°å®Œ 10 æ¬¡ç»“æœï¼Œå› ä¸ºåœ¨ç¨‹åºçš„ä¸»åç¨‹æ¨å‡ºä¹‹åï¼Œä¸¤ä¸ª SayGreetings çš„ä»»åŠ¡ä¹Ÿé€€å‡ºäº†ï¼Œæ²¡æœ‰ç­‰åˆ°ä»»åŠ¡ç»“æŸ æ•°æ®ç«äº‰åœ¨å¹¶å‘ä»»åŠ¡ä¸­ï¼Œå¸¸è§çš„æ•°æ®ç«äº‰ï¼š ä¸€ä¸ªå†™æ•°æ®ï¼Œä¸€ä¸ªè¯»æ•°æ® ä¸¤ä¸ªéƒ½å†™æ•°æ® å¦‚æœä¸åšåŒæ­¥ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ•°æ®å‡ºé”™ WaitGroup var wg sync.WaitGroup func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) wg.Add(2) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) wg.Wait() } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } wg.Done() } ç»è¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæ€»å…±æ‰“å°äº† 20 æ¡è¯­å¥ï¼Œè¯´æ˜ä¸»åç¨‹ç­‰ä¸¤ä¸ªä»»åŠ¡éƒ½å®Œæˆäº†æ‰é€€å‡º åç¨‹çš„çŠ¶æ€ è¿è¡Œ é˜»å¡ ï¼ˆåç¨‹ä¸åŒºåˆ†ç¡çœ ã€å°±ç»ªçŠ¶æ€ï¼Œæ¯”å¦‚é€šè¿‡ time.Sleep è°ƒç”¨è®©åç¨‹è¿›å…¥ç¡çœ ï¼Œæ—¶é—´åˆ°äº†ä¹‹ååº”è¯¥å¤„äºå°±ç»ªæ€ï¼Œç­‰å¾…ç³»ç»Ÿè°ƒåº¦ã€‚åç¨‹è®¤ä¸ºç¡çœ ã€å°±ç»ªä¸ºè¿è¡ŒçŠ¶æ€ï¼‰ åç¨‹ä¸èƒ½ä»é˜»å¡çŠ¶æ€é€€å‡º åç¨‹çš„é˜»å¡çŠ¶æ€å¿…é¡»æ˜¯è¢«åŠ¨ç»“æŸçš„ï¼ˆè¢«å¦ä¸€ä¸ªåç¨‹é€šè¿‡æŸç§åŒæ­¥æ–¹æ³•è¢«åŠ¨ç»“æŸï¼‰ åç¨‹çš„è°ƒåº¦åŒä¸€æ—¶åˆ»ï¼Œæœ€å¤šåŒæ—¶è¿è¡Œçš„åç¨‹æ•°é‡ = é€»è¾‘ cpu çš„æ•°é‡ã€‚ é€»è¾‘cpuï¼Œæ˜¯ç”±è®¡ç®—æœºçš„å¤„ç†å™¨ã€è¶…çº¿ç¨‹æŠ€æœ¯åŒæ—¶å†³å®šçš„ æ¯”å¦‚ï¼š ä¸€ä¸ªä¸æ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å¤„ç†å™¨ï¼Œé€»è¾‘cpu = 2 ä¸€ä¸ªæ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å››çº¿ç¨‹å¤„ç†å™¨ï¼Œç›¸å½“äº 2 ä¸ªç‰©ç† cpuã€4 ä¸ªé€»è¾‘ cpu go æ ‡å‡†ç¼–è¯‘å™¨é€šè¿‡ MPG æ¨¡å‹ï¼ˆ202305181327 Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹ï¼‰æ¥å®ç°åç¨‹çš„è°ƒåº¦ ","date":"2023-05-18","objectID":"/202305181209-goroutinedefer/:1:1","series":["Golangåˆè¯†"],"tags":[],"title":"goroutineã€defer","uri":"/202305181209-goroutinedefer/#å¹¶å‘æ§åˆ¶"},{"categories":["Golang"],"content":" å¹¶å‘æ§åˆ¶âŒ å…ˆçœ‹ä¸ªé”™è¯¯çš„ä¾‹å­ï¼š func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) time.Sleep(2 * time.Second) } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } } ä¸Šé¢ç¨‹åºçš„è¾“å‡ºå¯èƒ½ä¸ºï¼š hi! hello! hello! hello! hi! hi! å¹¶æ²¡æœ‰å„è‡ªæ‰“å°å®Œ 10 æ¬¡ç»“æœï¼Œå› ä¸ºåœ¨ç¨‹åºçš„ä¸»åç¨‹æ¨å‡ºä¹‹åï¼Œä¸¤ä¸ª SayGreetings çš„ä»»åŠ¡ä¹Ÿé€€å‡ºäº†ï¼Œæ²¡æœ‰ç­‰åˆ°ä»»åŠ¡ç»“æŸ æ•°æ®ç«äº‰åœ¨å¹¶å‘ä»»åŠ¡ä¸­ï¼Œå¸¸è§çš„æ•°æ®ç«äº‰ï¼š ä¸€ä¸ªå†™æ•°æ®ï¼Œä¸€ä¸ªè¯»æ•°æ® ä¸¤ä¸ªéƒ½å†™æ•°æ® å¦‚æœä¸åšåŒæ­¥ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ•°æ®å‡ºé”™ WaitGroup var wg sync.WaitGroup func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) wg.Add(2) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) wg.Wait() } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } wg.Done() } ç»è¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæ€»å…±æ‰“å°äº† 20 æ¡è¯­å¥ï¼Œè¯´æ˜ä¸»åç¨‹ç­‰ä¸¤ä¸ªä»»åŠ¡éƒ½å®Œæˆäº†æ‰é€€å‡º åç¨‹çš„çŠ¶æ€ è¿è¡Œ é˜»å¡ ï¼ˆåç¨‹ä¸åŒºåˆ†ç¡çœ ã€å°±ç»ªçŠ¶æ€ï¼Œæ¯”å¦‚é€šè¿‡ time.Sleep è°ƒç”¨è®©åç¨‹è¿›å…¥ç¡çœ ï¼Œæ—¶é—´åˆ°äº†ä¹‹ååº”è¯¥å¤„äºå°±ç»ªæ€ï¼Œç­‰å¾…ç³»ç»Ÿè°ƒåº¦ã€‚åç¨‹è®¤ä¸ºç¡çœ ã€å°±ç»ªä¸ºè¿è¡ŒçŠ¶æ€ï¼‰ åç¨‹ä¸èƒ½ä»é˜»å¡çŠ¶æ€é€€å‡º åç¨‹çš„é˜»å¡çŠ¶æ€å¿…é¡»æ˜¯è¢«åŠ¨ç»“æŸçš„ï¼ˆè¢«å¦ä¸€ä¸ªåç¨‹é€šè¿‡æŸç§åŒæ­¥æ–¹æ³•è¢«åŠ¨ç»“æŸï¼‰ åç¨‹çš„è°ƒåº¦åŒä¸€æ—¶åˆ»ï¼Œæœ€å¤šåŒæ—¶è¿è¡Œçš„åç¨‹æ•°é‡ = é€»è¾‘ cpu çš„æ•°é‡ã€‚ é€»è¾‘cpuï¼Œæ˜¯ç”±è®¡ç®—æœºçš„å¤„ç†å™¨ã€è¶…çº¿ç¨‹æŠ€æœ¯åŒæ—¶å†³å®šçš„ æ¯”å¦‚ï¼š ä¸€ä¸ªä¸æ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å¤„ç†å™¨ï¼Œé€»è¾‘cpu = 2 ä¸€ä¸ªæ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å››çº¿ç¨‹å¤„ç†å™¨ï¼Œç›¸å½“äº 2 ä¸ªç‰©ç† cpuã€4 ä¸ªé€»è¾‘ cpu go æ ‡å‡†ç¼–è¯‘å™¨é€šè¿‡ MPG æ¨¡å‹ï¼ˆ202305181327 Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹ï¼‰æ¥å®ç°åç¨‹çš„è°ƒåº¦ ","date":"2023-05-18","objectID":"/202305181209-goroutinedefer/:1:1","series":["Golangåˆè¯†"],"tags":[],"title":"goroutineã€defer","uri":"/202305181209-goroutinedefer/#æ•°æ®ç«äº‰"},{"categories":["Golang"],"content":" å¹¶å‘æ§åˆ¶âŒ å…ˆçœ‹ä¸ªé”™è¯¯çš„ä¾‹å­ï¼š func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) time.Sleep(2 * time.Second) } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } } ä¸Šé¢ç¨‹åºçš„è¾“å‡ºå¯èƒ½ä¸ºï¼š hi! hello! hello! hello! hi! hi! å¹¶æ²¡æœ‰å„è‡ªæ‰“å°å®Œ 10 æ¬¡ç»“æœï¼Œå› ä¸ºåœ¨ç¨‹åºçš„ä¸»åç¨‹æ¨å‡ºä¹‹åï¼Œä¸¤ä¸ª SayGreetings çš„ä»»åŠ¡ä¹Ÿé€€å‡ºäº†ï¼Œæ²¡æœ‰ç­‰åˆ°ä»»åŠ¡ç»“æŸ æ•°æ®ç«äº‰åœ¨å¹¶å‘ä»»åŠ¡ä¸­ï¼Œå¸¸è§çš„æ•°æ®ç«äº‰ï¼š ä¸€ä¸ªå†™æ•°æ®ï¼Œä¸€ä¸ªè¯»æ•°æ® ä¸¤ä¸ªéƒ½å†™æ•°æ® å¦‚æœä¸åšåŒæ­¥ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ•°æ®å‡ºé”™ WaitGroup var wg sync.WaitGroup func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) wg.Add(2) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) wg.Wait() } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } wg.Done() } ç»è¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæ€»å…±æ‰“å°äº† 20 æ¡è¯­å¥ï¼Œè¯´æ˜ä¸»åç¨‹ç­‰ä¸¤ä¸ªä»»åŠ¡éƒ½å®Œæˆäº†æ‰é€€å‡º åç¨‹çš„çŠ¶æ€ è¿è¡Œ é˜»å¡ ï¼ˆåç¨‹ä¸åŒºåˆ†ç¡çœ ã€å°±ç»ªçŠ¶æ€ï¼Œæ¯”å¦‚é€šè¿‡ time.Sleep è°ƒç”¨è®©åç¨‹è¿›å…¥ç¡çœ ï¼Œæ—¶é—´åˆ°äº†ä¹‹ååº”è¯¥å¤„äºå°±ç»ªæ€ï¼Œç­‰å¾…ç³»ç»Ÿè°ƒåº¦ã€‚åç¨‹è®¤ä¸ºç¡çœ ã€å°±ç»ªä¸ºè¿è¡ŒçŠ¶æ€ï¼‰ åç¨‹ä¸èƒ½ä»é˜»å¡çŠ¶æ€é€€å‡º åç¨‹çš„é˜»å¡çŠ¶æ€å¿…é¡»æ˜¯è¢«åŠ¨ç»“æŸçš„ï¼ˆè¢«å¦ä¸€ä¸ªåç¨‹é€šè¿‡æŸç§åŒæ­¥æ–¹æ³•è¢«åŠ¨ç»“æŸï¼‰ åç¨‹çš„è°ƒåº¦åŒä¸€æ—¶åˆ»ï¼Œæœ€å¤šåŒæ—¶è¿è¡Œçš„åç¨‹æ•°é‡ = é€»è¾‘ cpu çš„æ•°é‡ã€‚ é€»è¾‘cpuï¼Œæ˜¯ç”±è®¡ç®—æœºçš„å¤„ç†å™¨ã€è¶…çº¿ç¨‹æŠ€æœ¯åŒæ—¶å†³å®šçš„ æ¯”å¦‚ï¼š ä¸€ä¸ªä¸æ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å¤„ç†å™¨ï¼Œé€»è¾‘cpu = 2 ä¸€ä¸ªæ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å››çº¿ç¨‹å¤„ç†å™¨ï¼Œç›¸å½“äº 2 ä¸ªç‰©ç† cpuã€4 ä¸ªé€»è¾‘ cpu go æ ‡å‡†ç¼–è¯‘å™¨é€šè¿‡ MPG æ¨¡å‹ï¼ˆ202305181327 Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹ï¼‰æ¥å®ç°åç¨‹çš„è°ƒåº¦ ","date":"2023-05-18","objectID":"/202305181209-goroutinedefer/:1:1","series":["Golangåˆè¯†"],"tags":[],"title":"goroutineã€defer","uri":"/202305181209-goroutinedefer/#waitgroup"},{"categories":["Golang"],"content":" å¹¶å‘æ§åˆ¶âŒ å…ˆçœ‹ä¸ªé”™è¯¯çš„ä¾‹å­ï¼š func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) time.Sleep(2 * time.Second) } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } } ä¸Šé¢ç¨‹åºçš„è¾“å‡ºå¯èƒ½ä¸ºï¼š hi! hello! hello! hello! hi! hi! å¹¶æ²¡æœ‰å„è‡ªæ‰“å°å®Œ 10 æ¬¡ç»“æœï¼Œå› ä¸ºåœ¨ç¨‹åºçš„ä¸»åç¨‹æ¨å‡ºä¹‹åï¼Œä¸¤ä¸ª SayGreetings çš„ä»»åŠ¡ä¹Ÿé€€å‡ºäº†ï¼Œæ²¡æœ‰ç­‰åˆ°ä»»åŠ¡ç»“æŸ æ•°æ®ç«äº‰åœ¨å¹¶å‘ä»»åŠ¡ä¸­ï¼Œå¸¸è§çš„æ•°æ®ç«äº‰ï¼š ä¸€ä¸ªå†™æ•°æ®ï¼Œä¸€ä¸ªè¯»æ•°æ® ä¸¤ä¸ªéƒ½å†™æ•°æ® å¦‚æœä¸åšåŒæ­¥ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ•°æ®å‡ºé”™ WaitGroup var wg sync.WaitGroup func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) wg.Add(2) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) wg.Wait() } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } wg.Done() } ç»è¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæ€»å…±æ‰“å°äº† 20 æ¡è¯­å¥ï¼Œè¯´æ˜ä¸»åç¨‹ç­‰ä¸¤ä¸ªä»»åŠ¡éƒ½å®Œæˆäº†æ‰é€€å‡º åç¨‹çš„çŠ¶æ€ è¿è¡Œ é˜»å¡ ï¼ˆåç¨‹ä¸åŒºåˆ†ç¡çœ ã€å°±ç»ªçŠ¶æ€ï¼Œæ¯”å¦‚é€šè¿‡ time.Sleep è°ƒç”¨è®©åç¨‹è¿›å…¥ç¡çœ ï¼Œæ—¶é—´åˆ°äº†ä¹‹ååº”è¯¥å¤„äºå°±ç»ªæ€ï¼Œç­‰å¾…ç³»ç»Ÿè°ƒåº¦ã€‚åç¨‹è®¤ä¸ºç¡çœ ã€å°±ç»ªä¸ºè¿è¡ŒçŠ¶æ€ï¼‰ åç¨‹ä¸èƒ½ä»é˜»å¡çŠ¶æ€é€€å‡º åç¨‹çš„é˜»å¡çŠ¶æ€å¿…é¡»æ˜¯è¢«åŠ¨ç»“æŸçš„ï¼ˆè¢«å¦ä¸€ä¸ªåç¨‹é€šè¿‡æŸç§åŒæ­¥æ–¹æ³•è¢«åŠ¨ç»“æŸï¼‰ åç¨‹çš„è°ƒåº¦åŒä¸€æ—¶åˆ»ï¼Œæœ€å¤šåŒæ—¶è¿è¡Œçš„åç¨‹æ•°é‡ = é€»è¾‘ cpu çš„æ•°é‡ã€‚ é€»è¾‘cpuï¼Œæ˜¯ç”±è®¡ç®—æœºçš„å¤„ç†å™¨ã€è¶…çº¿ç¨‹æŠ€æœ¯åŒæ—¶å†³å®šçš„ æ¯”å¦‚ï¼š ä¸€ä¸ªä¸æ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å¤„ç†å™¨ï¼Œé€»è¾‘cpu = 2 ä¸€ä¸ªæ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å››çº¿ç¨‹å¤„ç†å™¨ï¼Œç›¸å½“äº 2 ä¸ªç‰©ç† cpuã€4 ä¸ªé€»è¾‘ cpu go æ ‡å‡†ç¼–è¯‘å™¨é€šè¿‡ MPG æ¨¡å‹ï¼ˆ202305181327 Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹ï¼‰æ¥å®ç°åç¨‹çš„è°ƒåº¦ ","date":"2023-05-18","objectID":"/202305181209-goroutinedefer/:1:1","series":["Golangåˆè¯†"],"tags":[],"title":"goroutineã€defer","uri":"/202305181209-goroutinedefer/#åç¨‹çš„çŠ¶æ€"},{"categories":["Golang"],"content":" å¹¶å‘æ§åˆ¶âŒ å…ˆçœ‹ä¸ªé”™è¯¯çš„ä¾‹å­ï¼š func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) time.Sleep(2 * time.Second) } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } } ä¸Šé¢ç¨‹åºçš„è¾“å‡ºå¯èƒ½ä¸ºï¼š hi! hello! hello! hello! hi! hi! å¹¶æ²¡æœ‰å„è‡ªæ‰“å°å®Œ 10 æ¬¡ç»“æœï¼Œå› ä¸ºåœ¨ç¨‹åºçš„ä¸»åç¨‹æ¨å‡ºä¹‹åï¼Œä¸¤ä¸ª SayGreetings çš„ä»»åŠ¡ä¹Ÿé€€å‡ºäº†ï¼Œæ²¡æœ‰ç­‰åˆ°ä»»åŠ¡ç»“æŸ æ•°æ®ç«äº‰åœ¨å¹¶å‘ä»»åŠ¡ä¸­ï¼Œå¸¸è§çš„æ•°æ®ç«äº‰ï¼š ä¸€ä¸ªå†™æ•°æ®ï¼Œä¸€ä¸ªè¯»æ•°æ® ä¸¤ä¸ªéƒ½å†™æ•°æ® å¦‚æœä¸åšåŒæ­¥ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ•°æ®å‡ºé”™ WaitGroup var wg sync.WaitGroup func main() { rand.Seed(time.Now().UnixNano()) // Go 1.20ä¹‹å‰éœ€è¦ log.SetFlags(0) wg.Add(2) go SayGreetings(\"hi!\", 10) go SayGreetings(\"hello!\", 10) wg.Wait() } func SayGreetings(greeting string, times int) { for i := 0; i \u003c times; i++ { log.Println(greeting) d := time.Second * time.Duration(rand.Intn(5)) / 2 time.Sleep(d) // ç¡çœ ç‰‡åˆ»ï¼ˆéšæœº0åˆ°2.5ç§’ï¼‰ } wg.Done() } ç»è¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæ€»å…±æ‰“å°äº† 20 æ¡è¯­å¥ï¼Œè¯´æ˜ä¸»åç¨‹ç­‰ä¸¤ä¸ªä»»åŠ¡éƒ½å®Œæˆäº†æ‰é€€å‡º åç¨‹çš„çŠ¶æ€ è¿è¡Œ é˜»å¡ ï¼ˆåç¨‹ä¸åŒºåˆ†ç¡çœ ã€å°±ç»ªçŠ¶æ€ï¼Œæ¯”å¦‚é€šè¿‡ time.Sleep è°ƒç”¨è®©åç¨‹è¿›å…¥ç¡çœ ï¼Œæ—¶é—´åˆ°äº†ä¹‹ååº”è¯¥å¤„äºå°±ç»ªæ€ï¼Œç­‰å¾…ç³»ç»Ÿè°ƒåº¦ã€‚åç¨‹è®¤ä¸ºç¡çœ ã€å°±ç»ªä¸ºè¿è¡ŒçŠ¶æ€ï¼‰ åç¨‹ä¸èƒ½ä»é˜»å¡çŠ¶æ€é€€å‡º åç¨‹çš„é˜»å¡çŠ¶æ€å¿…é¡»æ˜¯è¢«åŠ¨ç»“æŸçš„ï¼ˆè¢«å¦ä¸€ä¸ªåç¨‹é€šè¿‡æŸç§åŒæ­¥æ–¹æ³•è¢«åŠ¨ç»“æŸï¼‰ åç¨‹çš„è°ƒåº¦åŒä¸€æ—¶åˆ»ï¼Œæœ€å¤šåŒæ—¶è¿è¡Œçš„åç¨‹æ•°é‡ = é€»è¾‘ cpu çš„æ•°é‡ã€‚ é€»è¾‘cpuï¼Œæ˜¯ç”±è®¡ç®—æœºçš„å¤„ç†å™¨ã€è¶…çº¿ç¨‹æŠ€æœ¯åŒæ—¶å†³å®šçš„ æ¯”å¦‚ï¼š ä¸€ä¸ªä¸æ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å¤„ç†å™¨ï¼Œé€»è¾‘cpu = 2 ä¸€ä¸ªæ”¯æŒè¶…çº¿ç¨‹çš„åŒæ ¸å››çº¿ç¨‹å¤„ç†å™¨ï¼Œç›¸å½“äº 2 ä¸ªç‰©ç† cpuã€4 ä¸ªé€»è¾‘ cpu go æ ‡å‡†ç¼–è¯‘å™¨é€šè¿‡ MPG æ¨¡å‹ï¼ˆ202305181327 Go çš„å¹¶å‘è°ƒåº¦ï¼šMPGæ¨¡å‹ï¼‰æ¥å®ç°åç¨‹çš„è°ƒåº¦ ","date":"2023-05-18","objectID":"/202305181209-goroutinedefer/:1:1","series":["Golangåˆè¯†"],"tags":[],"title":"goroutineã€defer","uri":"/202305181209-goroutinedefer/#åç¨‹çš„è°ƒåº¦"},{"categories":["Golang"],"content":" deferä¸€ä¸ªå»¶è¿Ÿè°ƒç”¨çš„è¯­å¥è¢«æ‰§è¡Œæ—¶ï¼Œå…¶ä¸­çš„å»¶è¿Ÿå‡½æ•°ä¸ä¼šé©¬ä¸Šè¢«æ‰§è¡Œï¼Œè€Œæ˜¯æ¨å…¥ç”±å½“å‰åç¨‹ç»´æŠ¤çš„ä¸€ä¸ªæ ˆä¸­ï¼Œåœ¨æ–¹æ³•é€€å‡ºä¹‹å‰å†ä¾æ¬¡æ‰§è¡Œ æ³¨æ„ç‚¹ï¼š å¦‚æœå‘ç”Ÿäº† panicï¼Œdefer çš„å†…å®¹æ˜¯ä¸ä¼šæ‰§è¡Œçš„ ä¼ å…¥çš„å‚æ•°æ˜¯æ³¨å†Œæ—¶æ±‚å€¼ï¼Œè€Œä¸æ˜¯æ‰§è¡Œæ—¶æ±‚å€¼ func main() { defer fmt.Println(\"The third line.\") defer fmt.Println(\"The second line.\") fmt.Println(\"The first line.\") } è¾“å‡ºç»“æœï¼š The first line. The second line. The third line. å…³äºä¼°å€¼çš„é—®é¢˜ï¼š å»¶è¿Ÿè°ƒç”¨çš„å®å‚åœ¨æ³¨å†Œçš„æ—¶å€™ä¼°å€¼ åŒ¿åå‡½æ•°ä½“å†…çš„è¡¨è¾¾å¼å®åœ¨å‡½æ•°è¢«æ‰§è¡Œçš„æ—¶å€™ä¼°å€¼ func main() { func() { for i := 0; i \u003c 3; i++ { defer fmt.Println(\"a:\", i) } }() fmt.Println() func() { for i := 0; i \u003c 3; i++ { defer func() { fmt.Println(\"b:\", i) }() } }() } å› æ­¤ä¸Šé¢çš„ç¨‹åºè¾“å‡ºï¼š a: 2 a: 1 a: 0 b: 3 b: 3 b: 3 https://gfw.go101.org/article/control-flows-more.html ","date":"2023-05-18","objectID":"/202305181209-goroutinedefer/:2:0","series":["Golangåˆè¯†"],"tags":[],"title":"goroutineã€defer","uri":"/202305181209-goroutinedefer/#defer"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 11. ç››æœ€å¤šæ°´çš„å®¹å™¨#åŒæŒ‡é’ˆ func maxArea(height []int) int { l, r := 0, len(height) - 1 ans := math.MinInt for l \u003c r { ans = max(ans, (r-l) * min(height[l], height[r])) // calc area if height[l] \u003c height[r] { l++ } else { r-- } } return ans } func max(a, b int) int { if a \u003c b { return b } return a } func min(a, b int) int { if a \u003c b { return a } return b } çœ‹åˆ°ä¸€æ¡æœ‰è¶£çš„è¯„è®ºï¼š ","date":"2023-05-18","objectID":"/202305181153-leetcode-%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95-v2/:0:0","series":["leetcode"],"tags":[],"title":"leetcode åšé¢˜è®°å½• v2","uri":"/202305181153-leetcode-%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95-v2/#heading"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 11. ç››æœ€å¤šæ°´çš„å®¹å™¨#åŒæŒ‡é’ˆ func maxArea(height []int) int { l, r := 0, len(height) - 1 ans := math.MinInt for l \u003c r { ans = max(ans, (r-l) * min(height[l], height[r])) // calc area if height[l] \u003c height[r] { l++ } else { r-- } } return ans } func max(a, b int) int { if a \u003c b { return b } return a } func min(a, b int) int { if a \u003c b { return a } return b } çœ‹åˆ°ä¸€æ¡æœ‰è¶£çš„è¯„è®ºï¼š ","date":"2023-05-18","objectID":"/202305181153-leetcode-%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95-v2/:0:0","series":["leetcode"],"tags":[],"title":"leetcode åšé¢˜è®°å½• v2","uri":"/202305181153-leetcode-%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95-v2/#11-ç››æœ€å¤šæ°´çš„å®¹å™¨httpsleetcodecnproblemscontainer-with-most-water"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è§„åˆ’åŒº gantt dateFormat HH:mm axisFormat %H:%M tickInterval 1h title ä»Šå¤©å¤§æ¦‚è¦åš section å­¦ä¹  1.æ•´ç†ä¸€äº›golangå¸¸è§é—®é¢˜: 09:00, 5h 2.channel: 1h section ä¹ æƒ¯ ç®—æ³•æ¯æ—¥ä¸€é¢˜: 1h ","date":"2023-05-18","objectID":"/2023-05-18/:1:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-18 æ—¥è®°å½•","uri":"/2023-05-18/#è§„åˆ’åŒº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-ä¹ æƒ¯è®°å½•(v2.0)æ‰“å¡çŠ¶æ€ï¼š âœ… | âŒ æ”¹æˆä½¿ç”¨ todo åˆ—è¡¨çš„å½¢å¼æ¥è¡¨ç°ï¼Œæ¯ä¸ªæœˆçš„æ‰“å¡æƒ…å†µåœ¨æœˆåº¦æ€»ç»“é‡Œé¢ä½“ç° ç®—æ³•æ¯æ—¥ä¸€é¢˜ ","date":"2023-05-18","objectID":"/2023-05-18/:2:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-18 æ—¥è®°å½•","uri":"/2023-05-18/#è®°å½•åŒº-ä¹ æƒ¯è®°å½•"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-äº‹\u0026ç‰©è®° é‡è¦äº‹è®° æ—  æ–°äº‹ç‰© ","date":"2023-05-18","objectID":"/2023-05-18/:3:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-18 æ—¥è®°å½•","uri":"/2023-05-18/#è®°å½•åŒº-äº‹ç‰©è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-éšæ‰‹è®°ğŸ§ğŸµï¼ˆæŒ‘é¦–æ­Œï¼Ÿlocal:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ remote:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ï¼‰ ","date":"2023-05-18","objectID":"/2023-05-18/:4:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-18 æ—¥è®°å½•","uri":"/2023-05-18/#è®°å½•åŒº-éšæ‰‹è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ€»ç»“å¿ƒæƒ…æ‰“åˆ†ï¼š ğŸ˜† å¾ˆå¿«ä¹ ğŸ™‚ ä¸€èˆ¬å¿«ä¹ ğŸ˜¶ æ— æ˜æ˜¾æƒ…ç»ªæ³¢åŠ¨ ğŸ§æœ‰ç–‘é—® ğŸ˜µâ€ğŸ’« å¾ˆæ··ä¹± ğŸ˜®â€ğŸ’¨å¹æ°” ğŸ˜¡ ç”Ÿæ°” è¾“å‡ºå†…å®¹ï¼š ","date":"2023-05-18","objectID":"/2023-05-18/:5:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-18 æ—¥è®°å½•","uri":"/2023-05-18/#è®°å½•åŒº-æ€»ç»“"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ˜å¤©","date":"2023-05-18","objectID":"/2023-05-18/:6:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-18 æ—¥è®°å½•","uri":"/2023-05-18/#è®°å½•åŒº-æ˜å¤©"},{"categories":["Golang"],"content":" Go è¯­è¨€ä¸­ï¼Œç»“æ„ä½“ä¸­é•¿åº¦ä¸º 0 çš„å­—æ®µä¸ºä»€ä¹ˆä¼šå½±å“ç»“æ„ä½“çš„å¤§å°ï¼Ÿ ans ä¸¾ä¸ªä¾‹å­ï¼š type A struct { a int32 b struct{} } ç»“æ„ä½“ A.a ä¸º 4 ä¸ªå­—èŠ‚ï¼Œb çš„å°ºå¯¸ä¸º 0 ï¼Œä½†æ˜¯ç»“æ„ä½“ A çš„å°ºå¯¸ä¸º 8ï¼Œè¯´æ˜ b çš„å­—æ®µå½±å“åˆ°äº†ç»“æ„ä½“çš„å°ºå¯¸ï¼Œä¸ºä»€ä¹ˆï¼Ÿ ç»“è®ºï¼šä¸ºäº†é˜²æ­¢è®¿é—®å­—æ®µçš„æ—¶å€™å‘ç”Ÿè¶Šç•Œ å‡è®¾ç»“æ„ä½“ A çš„å°ºå¯¸ä¸º 4ï¼Œé‚£ä¹ˆå½“ b çš„å­—æ®µä¸ä¸ºç©ºçš„æ—¶å€™ï¼Œè®¿é—®å­—æ®µ b å°±ä¼šè®¿é—®åˆ° A å¯¹è±¡å†…å­˜ä¹‹å¤–çš„ç©ºé—´ï¼Œè¿™æ˜¯ä¸å¯çŸ¥çš„ èµ‹å€¼æ˜¯åŸå­æ“ä½œå—ï¼Ÿ ans ä¸æ˜¯ã€‚ flowchart LR a[å¯„å­˜å™¨ or å†…å­˜]--\u003e|è¯»å–|b[å¯„å­˜å™¨] b--\u003e|å†™å…¥|c[\"å†…å­˜åœ°å€(å˜é‡)\"] å¯ä»¥å°†èµ‹å€¼åˆ†ä¸ºä¸¤æ­¥ï¼š ä»å¯„å­˜å™¨æˆ–è€…å†…å­˜ä¸­è¯»å–å³ä¾§å˜é‡çš„å€¼ï¼Œè¯»åˆ°å¯„å­˜å™¨ä¸­ å°†å¯„å­˜å™¨ä¸­çš„å€¼å†™å…¥å·¦ä¾§å˜é‡æ‰€åœ¨çš„å†…å­˜åœ°å€ time.Sleep(d) çš„çŠ¶æ€è½¬æ¢ï¼Ÿ and stateDiagram-v2 [*]--\u003eè¿è¡Œ è¿è¡Œ--\u003eé˜»å¡: time.Sleep(d) é˜»å¡--\u003eå°±ç»ª: åˆ°è¾¾æŒ‡å®šçš„ d æ—¶é—´ å°±ç»ª--\u003eè¿è¡Œ: è¢«è°ƒåº¦å™¨é‡æ–°è°ƒåº¦ t ä»ä¸Šé¢çš„çŠ¶æ€è½¬æ¢å¯ä»¥çœ‹å‡ºæ¥ï¼Œä½¿ç”¨ time.Sleep(d) å¹¶ä¸èƒ½ç²¾ç¡®çš„è¾¾åˆ° d æ—¶é—´ä¹‹åç»§ç»­æ‰§è¡Œçš„æ•ˆæœï¼Œè¿˜éœ€è¦è€ƒè™‘ä¸Šè¢«è°ƒåº¦å™¨é‡æ–°è°ƒåº¦çš„æ—¶é—´ t æ ‡å‡†åº“åŒ…math/randå’Œcrypto/randç”Ÿæˆçš„éšæœºæ•°ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ans é€šè¿‡math/randæ ‡å‡†åº“åŒ…ç”Ÿæˆçš„ä¼ªéšæœºæ•°åºåˆ—å¯¹äºç»™å®šçš„ç§å­æ˜¯ç¡®å®šçš„ã€‚ è¿™æ ·ç”Ÿæˆçš„éšæœºæ•°ä¸é€‚ç”¨äºå®‰å…¨æ•æ„Ÿçš„ç¯å¢ƒä¸­ã€‚ crypto/rand åŒ…æä¾›äº†ä¸€ä¸ªå®‰å…¨çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œå®ƒå¯ä»¥ç”¨äºç”Ÿæˆå¯†ç å­¦ä¸Šå®‰å…¨çš„ä¼ªéšæœºåºåˆ—ã€‚è¿™ä¸ªä¼ªéšæœºåºåˆ—æ˜¯æ ¹æ®æ“ä½œç³»ç»Ÿæä¾›çš„ç†µæ± ï¼ˆentropy poolï¼‰ä¸­çš„éšæœºæ•°æ®ç”Ÿæˆçš„ã€‚ ç†µæ± æ˜¯ç”±æ“ä½œç³»ç»Ÿç»´æŠ¤çš„ä¸€äº›éšæœºæ•°æ®çš„é›†åˆï¼ŒåŒ…æ‹¬ç¡¬ä»¶äº‹ä»¶ï¼ˆå¦‚é”®ç›˜è¾“å…¥ã€é¼ æ ‡ç§»åŠ¨ã€ç£ç›˜è®¿é—®ç­‰ï¼‰å’Œè½¯ä»¶äº‹ä»¶ï¼ˆå¦‚è¿›ç¨‹è°ƒåº¦ã€ç½‘ç»œæµé‡ç­‰ï¼‰ã€‚è¿™äº›äº‹ä»¶äº§ç”Ÿçš„éšæœºæ•°æ®è¢«æ··åˆåœ¨ä¸€èµ·ï¼Œå¹¶ç»è¿‡åŠ å¯†å“ˆå¸Œå‡½æ•°å¤„ç†ï¼Œç”Ÿæˆä¸€ä¸ªç§å­å€¼ã€‚ç„¶åï¼Œè¿™ä¸ªç§å­å€¼è¢«è¾“å…¥åˆ°ä¼ªéšæœºæ•°ç”Ÿæˆç®—æ³•ä¸­ï¼Œç”Ÿæˆä¼ªéšæœºåºåˆ—ã€‚ ç”±äºç†µæ± ä¸­çš„éšæœºæ•°æ®æ˜¯ç”±å¤šä¸ªä¸å¯é¢„æµ‹çš„æºäº§ç”Ÿçš„ï¼Œå› æ­¤ç”Ÿæˆçš„ä¼ªéšæœºåºåˆ—å…·æœ‰é«˜åº¦çš„éšæœºæ€§å’Œä¸å¯é¢„æµ‹æ€§ï¼Œå¯ä»¥æ»¡è¶³å¯†ç å­¦ä¸Šçš„å®‰å…¨è¦æ±‚ã€‚ Go è¯­è¨€ä¸­ï¼Œå“ªäº›ç±»å‹æ˜¯ä¸èƒ½æ¯”è¾ƒçš„ï¼Ÿ å¼•ç”¨ Go è¯­è¨€ä¸­ï¼Œå¼•ç”¨ç±»å‹ä¸èƒ½æ¯”è¾ƒï¼Œå€¼ç±»å‹å¯ä»¥æ¯”è¾ƒ å¼•ç”¨ç±»å‹ï¼šmapã€sliceã€function å€¼ç±»å‹ï¼šintã€boolã€floatã€stringã€arrayâ€¦ å¯¹äºå¼•ç”¨ç±»å‹æ¥è¯´ï¼Œä»–ä»¬é€šå¸¸æŒ‡å‘ä¸€ä¸ªåº•å±‚çš„æ•°æ®ï¼Œå¦‚æœç›´æ¥å¯¹å¼•ç”¨ç±»å‹è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”è¾ƒçš„æ˜¯ä»–ä»¬çš„åœ°å€ï¼Œè€Œä¸æ˜¯å®é™…çš„åº•å±‚æ•°æ®ï¼Œè¿™æ˜¯ä¸ç¬¦åˆæœŸæœ›çš„ å®šä¹‰å¯å¯»å€è·Ÿä¸å¯å¯»å€çš„å‡ºå‘ç‚¹æ˜¯ä»€ä¹ˆ example åœ¨ Go è¯­è¨€ä¸­ï¼Œå®šä¹‰å¯å¯»å€å’Œä¸å¯å¯»å€çš„å‡ºå‘ç‚¹æ˜¯ä¸ºäº†ä¿è¯ç¨‹åºçš„å®‰å…¨æ€§å’Œæ­£ç¡®æ€§ã€‚ å¯å¯»å€çš„å€¼æ˜¯æŒ‡å¯ä»¥é€šè¿‡å–åœ°å€ç¬¦ \u0026 è·å–å…¶å†…å­˜åœ°å€çš„å€¼ã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œå˜é‡ã€æ•°ç»„å…ƒç´ ã€ç»“æ„ä½“å­—æ®µä»¥åŠé€šè¿‡æŒ‡é’ˆé—´æ¥å¼•ç”¨çš„å€¼éƒ½æ˜¯å¯å¯»å€çš„ã€‚ ä¸å¯å¯»å€çš„å€¼æ˜¯æŒ‡ä¸èƒ½é€šè¿‡å–åœ°å€ç¬¦ \u0026 è·å–å…¶å†…å­˜åœ°å€çš„å€¼ã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œå¸¸é‡ã€å­—é¢é‡ã€è¡¨è¾¾å¼ç»“æœä»¥åŠå‡½æ•°è¿”å›å€¼ç­‰éƒ½æ˜¯ä¸å¯å¯»å€çš„ã€‚ è¿™ç§åŒºåˆ†å¯å¯»å€å’Œä¸å¯å¯»å€çš„å€¼çš„åšæ³•å¯ä»¥é¿å…ä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼š é˜²æ­¢å¯¹å¸¸é‡è¿›è¡Œä¿®æ”¹ï¼šå¸¸é‡æ˜¯ä¸å¯å¯»å€çš„ï¼Œå› æ­¤æ— æ³•é€šè¿‡æŒ‡é’ˆæ¥ä¿®æ”¹å¸¸é‡çš„å€¼ï¼Œä»è€Œä¿è¯äº†å¸¸é‡çš„ä¸å¯å˜æ€§ã€‚ é¿å…å¯¹ä¸´æ—¶å˜é‡è¿›è¡Œå–åœ°å€æ“ä½œï¼šä¸´æ—¶å˜é‡æ˜¯ä¸å¯å¯»å€çš„ï¼Œå¦‚æœå¯¹å…¶è¿›è¡Œå–åœ°å€æ“ä½œï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒæˆ–è€…äº§ç”Ÿä¸å¯é¢„æœŸçš„ç»“æœã€‚ ç¡®ä¿å‡½æ•°è¿”å›å€¼çš„å®‰å…¨æ€§ï¼šå¦‚æœå‡½æ•°è¿”å›å€¼æ˜¯ä¸å¯å¯»å€çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥é¿å…åœ¨å‡½æ•°å¤–éƒ¨å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œä»è€Œä¿è¯äº†å‡½æ•°è¿”å›å€¼çš„å®‰å…¨æ€§ã€‚ æ€»ä¹‹ï¼ŒGo è¯­è¨€ä¸­å®šä¹‰å¯å¯»å€å’Œä¸å¯å¯»å€çš„å‡ºå‘ç‚¹æ˜¯ä¸ºäº†ä¿è¯ç¨‹åºçš„å®‰å…¨æ€§å’Œæ­£ç¡®æ€§ï¼Œé¿å…ä¸€äº›æ½œåœ¨çš„é—®é¢˜ã€‚ åˆ—ä¸¾ä¸€äº›å¯å¯»å€ç±»å‹ã€ä¸å¯å¯»å€ç±»å‹ example å¯å¯»å€çš„ç±»å‹ï¼š æŒ‡é’ˆç±»å‹ var p *int = new(int) æ•°ç»„ç±»å‹ var arr [3]int åˆ‡ç‰‡ç±»å‹ var s []int ç»“æ„ä½“ç±»å‹ var p Person æ•°ç»„æŒ‡é’ˆç±»å‹ var p *[3]int = new([3]int) ç»“æ„ä½“æŒ‡é’ˆç±»å‹ var p *Person = new(Person) ä¸å¯å¯»å€çš„ç±»å‹ï¼š å¸¸é‡ const PI = 3.14 å­—é¢é‡ var p *int = \u002610 // error:cannot take the address of 10 è¡¨è¾¾å¼ç»“æœ var x int = 1 + 2 // é”™è¯¯ï¼šcannot take the address of 1 + 2 æ¥å£ç±»å‹ var i interface{} = 42 // é”™è¯¯ï¼šcannot take the address of i \u0026T{} çš„å†™æ³•æ˜¯å…è®¸çš„ï¼Œèƒ½å¤Ÿè¯´æ˜ T{} æ˜¯èƒ½å¤Ÿè¢«å¯»å€çš„å—ï¼Ÿ example T{} å¹¶ä¸èƒ½è¢«å¯»å€ \u0026T{} å®é™…ä¸Šæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼š tmp := T{} (\u0026tmp) ç”±äºå˜é‡æ˜¯èƒ½å¤Ÿè¢«å¯»å€çš„ï¼Œå› æ­¤ä¸Šé¢çš„å†™æ³•æ˜¯å…è®¸çš„ ä¸ºä»€ä¹ˆ mapï¼ˆæ˜ å°„ï¼‰å…ƒç´ ä¸å¯è¢«å–åœ°å€ example æ˜ å°„å…ƒç´ çš„åœ°å€å¯èƒ½æ”¹å˜ å¯èƒ½æ˜¯é›¶å€¼ åœ¨ Go ä¸­ï¼Œä¸ºä»€ä¹ˆè¿”å›ä¸€ä¸ªå±€éƒ¨å˜é‡çš„åœ°å€æ˜¯å®‰å…¨çš„ example å½“ä¸€ä¸ªå‡½æ•°è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€æ—¶ï¼Œä¼šå°†è¯¥å˜é‡çš„å€¼èµ‹å€¼åˆ°å †ä¸Šï¼Œå¹¶è¿”å›è¯¥å˜é‡çš„åœ°å€ ","date":"2023-05-17","objectID":"/202305171836-golang-%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/:0:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":[],"title":"golang é—®é¢˜æ±‡æ€»","uri":"/202305171836-golang-%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/#heading"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è§„åˆ’åŒº gantt dateFormat HH:mm axisFormat %H:%M tickInterval 1h title ä»Šå¤©å¤§æ¦‚è¦åš section å­¦ä¹  1.é‡æ–°æ¢³ç†ä¸€ä¸‹ä¹‹å‰çš„è§„åˆ’:done, 06:30, 4h 2.golangå­¦ä¹ : done, 3h section ä¹ æƒ¯ ç®—æ³•æ¯æ—¥ä¸€é¢˜: 1h ","date":"2023-05-17","objectID":"/2023-05-17/:1:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-17 æ—¥è®°å½•","uri":"/2023-05-17/#è§„åˆ’åŒº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-ä¹ æƒ¯è®°å½•(v2.0)æ‰“å¡çŠ¶æ€ï¼š âœ… | âŒ æ”¹æˆä½¿ç”¨ todo åˆ—è¡¨çš„å½¢å¼æ¥è¡¨ç°ï¼Œæ¯ä¸ªæœˆçš„æ‰“å¡æƒ…å†µåœ¨æœˆåº¦æ€»ç»“é‡Œé¢ä½“ç° ç®—æ³•æ¯æ—¥ä¸€é¢˜ ","date":"2023-05-17","objectID":"/2023-05-17/:2:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-17 æ—¥è®°å½•","uri":"/2023-05-17/#è®°å½•åŒº-ä¹ æƒ¯è®°å½•"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-äº‹\u0026ç‰©è®° é‡è¦äº‹è®° æ—  æ–°äº‹ç‰© ","date":"2023-05-17","objectID":"/2023-05-17/:3:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-17 æ—¥è®°å½•","uri":"/2023-05-17/#è®°å½•åŒº-äº‹ç‰©è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-éšæ‰‹è®°ğŸ§ğŸµï¼ˆæŒ‘é¦–æ­Œï¼Ÿlocal:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ remote:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ï¼‰ ","date":"2023-05-17","objectID":"/2023-05-17/:4:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-17 æ—¥è®°å½•","uri":"/2023-05-17/#è®°å½•åŒº-éšæ‰‹è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ€»ç»“å¿ƒæƒ…æ‰“åˆ†ï¼š ğŸ˜† å¾ˆå¿«ä¹ ğŸ™‚ ä¸€èˆ¬å¿«ä¹ ğŸ˜¶ æ— æ˜æ˜¾æƒ…ç»ªæ³¢åŠ¨ ğŸ§æœ‰ç–‘é—® ğŸ˜µâ€ğŸ’« å¾ˆæ··ä¹± ğŸ˜®â€ğŸ’¨å¹æ°” ğŸ˜¡ ç”Ÿæ°” è¾“å‡ºå†…å®¹ï¼š ","date":"2023-05-17","objectID":"/2023-05-17/:5:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-17 æ—¥è®°å½•","uri":"/2023-05-17/#è®°å½•åŒº-æ€»ç»“"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ˜å¤©","date":"2023-05-17","objectID":"/2023-05-17/:6:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-17 æ—¥è®°å½•","uri":"/2023-05-17/#è®°å½•åŒº-æ˜å¤©"},{"categories":["åˆ†ç±»-box"],"content":" å…«è‚¡æ–‡æ–¹é¢","date":"2023-05-17","objectID":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":["ä¸ªäººè®°å½•"],"title":"é¢ç»æ”¶é›†","uri":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/#å…«è‚¡æ–‡æ–¹é¢"},{"categories":["åˆ†ç±»-box"],"content":" è®¤è¯†æ€§è´¨çš„æé—® è¯´ä¸€ä¸‹ docker è¯´ä¸€ä¸‹ kubernetes è¯´ä¸€ä¸‹ redis ä¸ºä»€ä¹ˆæœ‰ http è¿˜è¦æœ‰ rpc k8s çš„æ¶æ„ ","date":"2023-05-17","objectID":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/:1:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":["ä¸ªäººè®°å½•"],"title":"é¢ç»æ”¶é›†","uri":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/#è®¤è¯†æ€§è´¨çš„æé—®"},{"categories":["åˆ†ç±»-box"],"content":" æ·±ç©¶ golang go çš„ gc go çš„åç¨‹æ€ä¹ˆå®ç°çš„ ","date":"2023-05-17","objectID":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/:1:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":["ä¸ªäººè®°å½•"],"title":"é¢ç»æ”¶é›†","uri":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/#æ·±ç©¶"},{"categories":["åˆ†ç±»-box"],"content":" æ·±ç©¶ golang go çš„ gc go çš„åç¨‹æ€ä¹ˆå®ç°çš„ ","date":"2023-05-17","objectID":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/:1:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":["ä¸ªäººè®°å½•"],"title":"é¢ç»æ”¶é›†","uri":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/#golang"},{"categories":["åˆ†ç±»-box"],"content":" æ·±ç©¶çŸ¥è¯†ç‚¹çš„æé—®","date":"2023-05-17","objectID":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/:1:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":["ä¸ªäººè®°å½•"],"title":"é¢ç»æ”¶é›†","uri":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/#æ·±ç©¶çŸ¥è¯†ç‚¹çš„æé—®"},{"categories":["åˆ†ç±»-box"],"content":" å¼€æ”¾æ€§é—®é¢˜ æœ€è¿‘è¯»äº†ä»€ä¹ˆä¹¦ï¼Œæœ‰æ²¡æœ‰å‹åŠ›å¤§çš„æƒ…å†µ ä¸ªäººå¦‚ä½•åšæƒ…ç»ªç®¡ç†çš„ï¼Ÿ ä¸ªäººçš„èŒä¸šè§„åˆ’ï¼Ÿä½ è¿›æ¥èƒ½åšä»€ä¹ˆå·¥ä½œï¼Ÿ é¡¹ç›®é‡Œæ„Ÿè§‰æœ€å›°éš¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ ä½ æœ‰ä»€ä¹ˆè¦é—®æˆ‘çš„å—ï¼Ÿ ç¦»èŒåŸå›  ç¦»èŒæœŸé—´çš„è§„åˆ’ï¼Ÿ ç¦»èŒæœŸé—´æ²¡æœ‰åšä¸€ä¸ªå¾ˆå…·ä½“çš„è§„åˆ’ï¼Œä½†æ˜¯åœ¨è¿™æ®µæ—¶é—´é‡Œé¢ï¼Œæˆ‘æ˜¯æœ‰è¦æ±‚è‡ªå·±åšåˆ°ä¸€äº›äº‹æƒ…çš„ï¼šåœ¨ä¸“ä¸šçŸ¥è¯†çš„æ–¹é¢ï¼Œæˆ‘éœ€è¦å¯¹ä¹‹å‰å·¥ä½œä¸Šç”¨åˆ°çš„ã€æ¥è§¦åˆ°çš„å†…å®¹å†åšä¸€ä¸ªå›é¡¾ï¼Œå¯¹å½“æ—¶ä¸å¤ªç†è§£çš„ä¸€äº›ä¸œè¥¿åšé€‚å½“çš„æ‰©å±•ã€è¡¥å……ä¹‹ç±»çš„ï¼Œç„¶åå¯¹ä¸€äº›å¯èƒ½å·²ç»é—å¿˜çš„çŸ¥è¯†ç¨å¾®åšä¸€ä¸‹å›é¡¾ï¼Œæ¯”å¦‚è¯´ç®—æ³•ã€æ“ä½œç³»ç»Ÿä¹‹ç±»çš„ï¼Œç„¶åå°±æ˜¯ä¸“ä¸šçŸ¥è¯†ä¹‹å¤–çš„ä¸€äº›ä¸œè¥¿ï¼Œåƒé˜…è¯»ã€çˆ±å¥½ã€æ—…æ¸¸ä¹‹ç±»çš„ï¼Œè°ƒæ•´ä¸€ä¸‹è‡ªå·±çš„çŠ¶æ€ ","date":"2023-05-17","objectID":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":["ä¸ªäººè®°å½•"],"title":"é¢ç»æ”¶é›†","uri":"/202305170654-%E9%9D%A2%E7%BB%8F%E6%94%B6%E9%9B%86/#å¼€æ”¾æ€§é—®é¢˜"},{"categories":["åˆ†ç±»-box"],"content":" cke ","date":"2023-05-17","objectID":"/202305170617-%E4%B8%80%E4%BA%9B%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9%E8%AE%B0%E5%BD%95%E6%80%BB%E8%A7%88/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"ä¸€äº›å·¥ä½œå†…å®¹è®°å½•æ€»è§ˆ","uri":"/202305170617-%E4%B8%80%E4%BA%9B%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9%E8%AE%B0%E5%BD%95%E6%80%BB%E8%A7%88/#cke"},{"categories":["åˆ†ç±»-box"],"content":" ecsã€ebs ","date":"2023-05-17","objectID":"/202305170617-%E4%B8%80%E4%BA%9B%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9%E8%AE%B0%E5%BD%95%E6%80%BB%E8%A7%88/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"ä¸€äº›å·¥ä½œå†…å®¹è®°å½•æ€»è§ˆ","uri":"/202305170617-%E4%B8%80%E4%BA%9B%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9%E8%AE%B0%E5%BD%95%E6%80%BB%E8%A7%88/#ecsebs"},{"categories":["åˆ†ç±»-box"],"content":" åœºæ™¯å®è·µ","date":"2023-05-16","objectID":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"App Operator å®‰è£…è„šæœ¬åŒ–ï¼ˆcdpï¼‰","uri":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/#åœºæ™¯å®è·µ"},{"categories":["åˆ†ç±»-box"],"content":" Operator installæ‰‹åŠ¨å®‰è£…ï¼Œè®°å½•å‘é€çš„apiï¼š https://console-ccos-console.apps.hhqcluster.hhqdomain/api/kubernetes/apis/operators.coreos.com/v1alpha1/namespaces/ccos-operators/subscriptions POST {\"apiVersion\":\"operators.coreos.com/v1alpha1\",\"kind\":\"Subscription\",\"metadata\":{\"name\":\"xsky-operator\",\"namespace\":\"ccos-operators\"},\"spec\":{\"source\":\"ceake-operators\",\"sourceNamespace\":\"ccos-marketplace\",\"name\":\"xsky-operator\",\"startingCSV\":\"xsky-operator.v1.0.0\",\"channel\":\"alpha\",\"installPlanApproval\":\"Automatic\"}} éœ€è¦çš„ä¸¤ä¸ª Headerï¼šcookieã€X-CSRFToken è¿”å›çš„ç»“æœï¼š { \"apiVersion\": \"operators.coreos.com/v1alpha1\", \"kind\": \"Subscription\", \"metadata\": { \"creationTimestamp\": \"2022-09-05T06:23:06Z\", \"generation\": 1, \"managedFields\": [ { \"apiVersion\": \"operators.coreos.com/v1alpha1\", \"fieldsType\": \"FieldsV1\", \"fieldsV1\": { \"f:spec\": { \".\": {}, \"f:channel\": {}, \"f:installPlanApproval\": {}, \"f:name\": {}, \"f:source\": {}, \"f:sourceNamespace\": {}, \"f:startingCSV\": {} } }, \"manager\": \"ApiPOST Runtime +https:\", \"operation\": \"Update\", \"time\": \"2022-09-05T06:23:06Z\" } ], \"name\": \"xsky-operator\", \"namespace\": \"ccos-operators\", \"resourceVersion\": \"3039592\", \"uid\": \"08282869-7cf5-4a7a-b33a-ce71821282bb\" }, \"spec\": { \"channel\": \"alpha\", \"installPlanApproval\": \"Automatic\", \"name\": \"xsky-operator\", \"source\": \"ceake-operators\", \"sourceNamespace\": \"ccos-marketplace\", \"startingCSV\": \"xsky-operator.v1.0.0\" } } convert to yaml: apiVersion: operators.coreos.com/v1alpha1 kind: Subscription metadata: name: xsky-operator namespace: ccos-operators spec: channel: alpha installPlanApproval: Automatic name: xsky-operator source: ceake-operators sourceNamespace: ccos-marketplace startingCSV: xsky-operator.v1.0.0 ","date":"2023-05-16","objectID":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/:1:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"App Operator å®‰è£…è„šæœ¬åŒ–ï¼ˆcdpï¼‰","uri":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/#operator-install"},{"categories":["åˆ†ç±»-box"],"content":" å‘é€ api åˆ›å»º CR èµ„æº","date":"2023-05-16","objectID":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/:1:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"App Operator å®‰è£…è„šæœ¬åŒ–ï¼ˆcdpï¼‰","uri":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/#å‘é€-api-åˆ›å»º-cr-èµ„æº"},{"categories":["åˆ†ç±»-box"],"content":" è„šæœ¬åŒ– å®‰è£…operatorã€åˆ›å»ºè‡ªå®šä¹‰çš„ CR ç­‰åœ¨æµ‹è¯•å‰éœ€è¦åšçš„æ“ä½œéƒ½å¯ä»¥é€šè¿‡åˆ›å»ºæ‰€éœ€çš„ yaml èµ„æºæ¥å®Œæˆ ","date":"2023-05-16","objectID":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"App Operator å®‰è£…è„šæœ¬åŒ–ï¼ˆcdpï¼‰","uri":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/#è„šæœ¬åŒ–"},{"categories":["åˆ†ç±»-box"],"content":" yaml Namespace OperatorGroup Subscription apiVersion: v1 kind: Namespace metadata: name: ccos-adp --- apiVersion: operators.coreos.com/v1 kind: OperatorGroup metadata: generateName: ccos-adp- generation: 1 name: ccos-adp-cj4jr namespace: ccos-adp spec: targetNamespaces: - ccos-adp --- apiVersion: operators.coreos.com/v1alpha1 kind: Subscription metadata: name: oadp-operator namespace: ccos-adp spec: channel: stable installPlanApproval: Automatic name: oadp-operator source: hhq-operators sourceNamespace: ccos-marketplace startingCSV: oadp-operator.v1.0.0 Secret apiVersion: v1 data: cloud: W2RlZmF1bHRdCmF3c19hY2Nlc3Nfa2V5X2lkPW1pbmlvCmF3c19zZWNyZXRfYWNjZXNzX2tleT1taW5pbzEyMw== kind: Secret metadata: name: cloud-credentials namespace: ccos-adp type: Opaque DPA apiVersion: oadp.ccos.io/v1alpha1 kind: DataProtectionApplication metadata: name: velero-sample namespace: ccos-adp spec: backupLocations: - velero: config: insecureSkipTLSVerify: \"true\" profile: default region: minio s3ForcePathStyle: \"true\" s3Url: http://10.253.11.215:9000 credential: key: cloud name: cloud-credentials default: true objectStorage: bucket: velero prefix: single provider: aws configuration: restic: enable: true velero: defaultPlugins: - aws - csi - ccos ","date":"2023-05-16","objectID":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/:2:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"App Operator å®‰è£…è„šæœ¬åŒ–ï¼ˆcdpï¼‰","uri":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/#yaml"},{"categories":["åˆ†ç±»-box"],"content":" åœ¨æµç¨‹ä¸­çš„ä½ç½® æ¯ä¸ªApplication Operator å¯¹åº”ä¸€ä¸ªè‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬ å¦‚ oadp-operator çš„è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬ï¼šoadp-operator.sh è‡ªåŠ¨åŒ–è„šæœ¬ä»“åº“ï¼š10.253.6.101:/root/ApplicationOperatorScripts ","date":"2023-05-16","objectID":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"App Operator å®‰è£…è„šæœ¬åŒ–ï¼ˆcdpï¼‰","uri":"/202305161542-app-operator-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%8C%96cdp/#åœ¨æµç¨‹ä¸­çš„ä½ç½®"},{"categories":["å­˜å‚¨"],"content":" iscsi ç£ç›˜å¸è½½æœ‰æ®‹ç•™çš„ bugfixï¼ˆå‚è€ƒ os-brick å¸è½½æ–¹å¼ï¼‰ https://www.processon.com/diagraming/6231a55ef346fb07f931b183 ","date":"2023-05-16","objectID":"/202305161550-iscsi-%E7%A3%81%E7%9B%98%E5%8D%B8%E8%BD%BD%E6%9C%89%E6%AE%8B%E7%95%99%E7%9A%84%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90/:0:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":["é—®é¢˜å®šä½"],"title":"iSCSI ç£ç›˜å¸è½½æœ‰æ®‹ç•™çš„åŸå› åˆ†æ","uri":"/202305161550-iscsi-%E7%A3%81%E7%9B%98%E5%8D%B8%E8%BD%BD%E6%9C%89%E6%AE%8B%E7%95%99%E7%9A%84%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90/#"},{"categories":["åˆ†ç±»-box"],"content":" ä¸€ã€éœ€æ±‚èƒŒæ™¯","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#ä¸€éœ€æ±‚èƒŒæ™¯"},{"categories":["åˆ†ç±»-box"],"content":" 1.1 æå‡ºé—®é¢˜ç›®å‰è¶Šæ¥è¶Šå¤šçš„åº”ç”¨å¾€ Kubernetes ä¸Šè¿ç§»ï¼ŒåŒ…æ‹¬éœ€è¦è¿›è¡Œå¤§é‡è®¡ç®—çš„äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ï¼Œè€Œæƒ³è¦ä»¥åŸç”Ÿçš„ Kubernetes æ¥è¿è¡Œè¿™äº›ä»»åŠ¡ï¼Œåœ¨è°ƒåº¦ç­–ç•¥ä¸Šå¹¶ä¸èƒ½å®Œå…¨æ»¡è¶³ï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š å¤šä¸ª TFJob åŒæ—¶æäº¤äº§ç”Ÿçš„èµ„æºç«äº‰å¯èƒ½å¯¼è‡´æ­»é”ï¼Œå¤šä¸ªä»»åŠ¡éƒ½æ— æ³•å®Œæˆ å•ä¸ªå¤§èµ„æºä»»åŠ¡é•¿æœŸæŠ¢å æˆ–è€…ä¸åˆç†åˆ†é…èµ„æºï¼Œå¯¼è‡´å°ä»»åŠ¡æ— æ³•è·å¾—èµ„æº åŒä¸€ä¸ªä»»åŠ¡ä¸­éœ€è¦é¢‘ç¹äº¤æµçš„å‡ ä¸ªå­ä»»åŠ¡åˆ†å¸ƒåˆ°äº†ä¸åŒèŠ‚ç‚¹ï¼Œå¯¼è‡´è®­ç»ƒæ•ˆç‡ä½ä¸‹ â€¦ ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:1:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#11-æå‡ºé—®é¢˜"},{"categories":["åˆ†ç±»-box"],"content":" 1.2 é—®é¢˜åœºæ™¯ä¸¾ä¾‹ å¤šä¸ª TFJob åŒæ—¶ä½œä¸šå¯¼è‡´æ­»é”çš„åœºæ™¯ TFJob1 ä¸ TFJob2 å‡éœ€è¦ 4 ä¸ª GPU èµ„æºï¼Œéœ€è¦å…¶å››ä¸ªå­ä»»åŠ¡ Pod åŒæ—¶è¿è¡Œæ‰èƒ½å¼€å§‹ä½œä¸šï¼Œå¦‚æœ TFJob1 ä¸ TFJob2 åŒæ—¶æäº¤ï¼Œå„è‡ªåªæœ‰ä¸¤ä¸ª Pod è·å–åˆ°äº† GPU èµ„æºï¼Œä¾¿å‡ºç°äº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºçš„æƒ…å†µï¼Œå½¢æˆæ­»é”ï¼Œæ— æ³•å®Œæˆä½œä¸šï¼Œä¹Ÿé€ æˆäº† GPU èµ„æºçš„æµªè´¹ Kubernetes é»˜è®¤è°ƒåº¦ç­–ç•¥ä¸‹ï¼Œäº§ç”Ÿè¾ƒå¤šç¢ç‰‡èµ„æºçš„åœºæ™¯ Kubernetes é»˜è®¤ä½¿ç”¨çš„ LeastRequestedPriority ä¼˜å…ˆçº§ç­–ç•¥ä¼šå°† Pod ä¼˜å…ˆè°ƒåº¦åˆ°æ¶ˆè€—èµ„æºå°‘çš„èŠ‚ç‚¹ä¸Šï¼Œè®©å„èŠ‚ç‚¹çš„èµ„æºä½¿ç”¨ç‡å°½é‡å‡åŒ€ï¼Œä½†è¿™æ ·å®¹æ˜“äº§ç”Ÿç¢ç‰‡ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨é›†ç¾¤çš„è§’åº¦ï¼Œè¿˜å¯ä»¥æä¾› 2 ä¸ª GPU èµ„æºï¼Œä½†æ— æ³•è°ƒåº¦ä¸€ä¸ªéœ€è¦ 2 GPU èµ„æºçš„ Pod â€¦ ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:1:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#12-é—®é¢˜åœºæ™¯ä¸¾ä¾‹"},{"categories":["åˆ†ç±»-box"],"content":" 1.3 éœ€æ±‚ https://wiki.cestc.cn/pages/viewpage.action?pageId=190216766 è‡³å°‘éœ€è¦æ”¯æŒä»¥ä¸‹ä¸¤ç§è°ƒåº¦ç­–ç•¥ï¼š Gang Scheduling ä½œä¸šçš„æ‰€æœ‰å­ä»»åŠ¡éƒ½èƒ½æ»¡è¶³èµ„æºéœ€æ±‚æ‰æ•´ä½“åˆ†é…ï¼Œå¦åˆ™ä¸åˆ†é…ä»»åŠ¡èµ„æºã€‚é¿å…ç”±äºèµ„æºæ­»é”ï¼Œå¯¼è‡´å¤§ä½œä¸šæŒ¤å å°ä½œä¸š Binpack Scheduling ä½œä¸šä¼˜å…ˆé›†ä¸­åˆ†é…åœ¨æŸä¸ªèŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹èµ„æºä¸è¶³æ—¶ï¼Œä¾æ¬¡åœ¨ä¸‹ä¸€èŠ‚ç‚¹é›†ä¸­åˆ†é…ï¼Œé€‚åˆå•æœºå¤šå¡è®­ç»ƒä»»åŠ¡ï¼Œé¿å…è·¨æœºæ•°æ®ä¼ è¾“ï¼Œé˜²æ­¢èµ„æºç¢ç‰‡ ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:1:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#13-éœ€æ±‚"},{"categories":["åˆ†ç±»-box"],"content":" äºŒã€*å‹å•†æ–¹æ¡ˆå¯¹æ¯”","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#äºŒå‹å•†æ–¹æ¡ˆå¯¹æ¯”"},{"categories":["åˆ†ç±»-box"],"content":" 2.1 Kubernetes Scheduler æ‰©å±•æ–¹å¼ç®€å•å¯¹æ¯” æ‰©å±•è°ƒåº¦çš„æ–¹å¼ ç‰¹ç‚¹ ç¼ºç‚¹ Scheduler Extender æ”¯æŒ Filterã€Preemptã€Prioritizeã€Bind çš„æ‰©å±•ï¼› é¦–å…ˆæ‰§è¡Œ Kubernetes å†…ç½®çš„è°ƒåº¦ç­–ç•¥ï¼Œé€šè¿‡ http è°ƒç”¨ Extender æ³¨å†Œçš„ webhook è¿è¡Œæ‰©å±•é€»è¾‘ï¼Œå½±å“è°ƒåº¦ç»“æœ ä½¿ç”¨ http è¯·æ±‚è·å–è‡ªå®šä¹‰çš„è°ƒåº¦ç»“æœï¼Œå—ç½‘ç»œå½±å“ï¼Œæ€§èƒ½ä¸åŠæœ¬åœ°å‡½æ•°è°ƒç”¨ï¼› æ‰©å±•ç‚¹æœ‰é™ï¼Œè¾ƒä¸çµæ´»ï¼› å¿…é¡»æ‰§è¡Œå®Œ Kubernetes é»˜è®¤çš„ Filter ç­–ç•¥åæ‰è°ƒç”¨è‡ªå®šä¹‰çš„ç­–ç•¥ Multiple schedulers è°ƒåº¦æ€§èƒ½å¼ºäº Scheduler Extender å¯æ‰©å±•æ€§å¼º ä¸é»˜è®¤è°ƒåº¦å™¨åŒæ—¶éƒ¨ç½²ä¼šå¯¼è‡´èµ„æºå†²çª ç ”å‘ã€ç»´æŠ¤æˆæœ¬è¾ƒé«˜ Scheduling Framework Kubernetes è°ƒåº¦å™¨çš„å¯æ’æ‹”æ¶æ„ Scheduler Extender Multiple Schedulers Scheduling Framework ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:2:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#21-kubernetes-scheduler-æ‰©å±•æ–¹å¼ç®€å•å¯¹æ¯”"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 å‹å•†å·²æœ‰è§£å†³æ–¹æ¡ˆå¯¹æ¯” 2.2.1 åä¸ºäº‘ - Volcano https://volcano.sh/zh/ Volcanoæ˜¯CNCF ä¸‹é¦–ä¸ªä¹Ÿæ˜¯å”¯ä¸€çš„åŸºäºKubernetesçš„å®¹å™¨æ‰¹é‡è®¡ç®—å¹³å°ï¼Œä¸»è¦ç”¨äºé«˜æ€§èƒ½è®¡ç®—åœºæ™¯ã€‚å®ƒæä¾›äº†Kubernetesç›®å‰ç¼º å°‘çš„ä¸€å¥—æœºåˆ¶ï¼Œè¿™äº›æœºåˆ¶é€šå¸¸æ˜¯æœºå™¨å­¦ä¹ å¤§æ•°æ®åº”ç”¨ã€ç§‘å­¦è®¡ç®—ã€ç‰¹æ•ˆæ¸²æŸ“ç­‰å¤šç§é«˜æ€§èƒ½å·¥ä½œè´Ÿè½½æ‰€éœ€çš„ã€‚ä½œä¸ºä¸€ä¸ªé€šç”¨æ‰¹å¤„ç†å¹³å°ï¼ŒVolcanoä¸å‡ ä¹æ‰€æœ‰çš„ä¸»æµè®¡ç®—æ¡† æ¶æ— ç¼å¯¹æ¥ï¼Œå¦‚Spark ã€TensorFlow ã€PyTorch ã€ Flink ã€Argo ã€MindSpore ã€ PaddlePaddle ç­‰ã€‚å®ƒè¿˜æä¾›äº†åŒ…æ‹¬åŸºäºå„ç§ä¸»æµæ¶æ„çš„CPUã€GPUåœ¨å†…çš„å¼‚æ„è®¾å¤‡æ··åˆè°ƒåº¦èƒ½åŠ›ã€‚Volcanoçš„è®¾è®¡ ç†å¿µå»ºç«‹åœ¨15å¹´æ¥å¤šç§ç³»ç»Ÿå’Œå¹³å°å¤§è§„æ¨¡è¿è¡Œå„ç§é«˜æ€§èƒ½å·¥ä½œè´Ÿè½½çš„ä½¿ç”¨ç»éªŒä¹‹ä¸Šï¼Œå¹¶ç»“åˆæ¥è‡ªå¼€æºç¤¾åŒºçš„æœ€ä½³æ€æƒ³å’Œå®è·µã€‚(https://volcano.sh/zh/docs/#%E7%AE%80%E4%BB%8B) æ”¯æŒçš„è°ƒåº¦ç­–ç•¥ï¼š Gang-scheduling Binpack-scheduling Fair-share scheduling Queue scheduling Preemption scheduling Topology-based scheduling Reclaims Backfill Resource Reservation (Volcanoæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰pluginå’Œactionä»¥æ”¯æŒæ›´å¤šè°ƒåº¦ç®—æ³•) æ”¯æŒçš„è®¡ç®—æ¡†æ¶ï¼š TensoFlow Pytorch MindSpore PaddlePaddle Spark Flink OpenMPI Horovod MXNet Kubeflow Argo KubeGene 2.2.2 é˜¿é‡Œäº‘æ–¹æ¡ˆ é˜¿é‡Œäº‘ Gang scheduling é˜¿é‡Œäº‘ Capacity Scheduling åªæ‰¾åˆ°ç›¸å…³çš„ä¸€äº›å®ç°æ€è·¯ã€è§£å†³æ–¹æ¡ˆï¼Œæ²¡æœ‰å·²æœ‰çš„å¼€æºé¡¹ç›® ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#22-å‹å•†å·²æœ‰è§£å†³æ–¹æ¡ˆå¯¹æ¯”"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 å‹å•†å·²æœ‰è§£å†³æ–¹æ¡ˆå¯¹æ¯” 2.2.1 åä¸ºäº‘ - Volcano https://volcano.sh/zh/ Volcanoæ˜¯CNCF ä¸‹é¦–ä¸ªä¹Ÿæ˜¯å”¯ä¸€çš„åŸºäºKubernetesçš„å®¹å™¨æ‰¹é‡è®¡ç®—å¹³å°ï¼Œä¸»è¦ç”¨äºé«˜æ€§èƒ½è®¡ç®—åœºæ™¯ã€‚å®ƒæä¾›äº†Kubernetesç›®å‰ç¼º å°‘çš„ä¸€å¥—æœºåˆ¶ï¼Œè¿™äº›æœºåˆ¶é€šå¸¸æ˜¯æœºå™¨å­¦ä¹ å¤§æ•°æ®åº”ç”¨ã€ç§‘å­¦è®¡ç®—ã€ç‰¹æ•ˆæ¸²æŸ“ç­‰å¤šç§é«˜æ€§èƒ½å·¥ä½œè´Ÿè½½æ‰€éœ€çš„ã€‚ä½œä¸ºä¸€ä¸ªé€šç”¨æ‰¹å¤„ç†å¹³å°ï¼ŒVolcanoä¸å‡ ä¹æ‰€æœ‰çš„ä¸»æµè®¡ç®—æ¡† æ¶æ— ç¼å¯¹æ¥ï¼Œå¦‚Spark ã€TensorFlow ã€PyTorch ã€ Flink ã€Argo ã€MindSpore ã€ PaddlePaddle ç­‰ã€‚å®ƒè¿˜æä¾›äº†åŒ…æ‹¬åŸºäºå„ç§ä¸»æµæ¶æ„çš„CPUã€GPUåœ¨å†…çš„å¼‚æ„è®¾å¤‡æ··åˆè°ƒåº¦èƒ½åŠ›ã€‚Volcanoçš„è®¾è®¡ ç†å¿µå»ºç«‹åœ¨15å¹´æ¥å¤šç§ç³»ç»Ÿå’Œå¹³å°å¤§è§„æ¨¡è¿è¡Œå„ç§é«˜æ€§èƒ½å·¥ä½œè´Ÿè½½çš„ä½¿ç”¨ç»éªŒä¹‹ä¸Šï¼Œå¹¶ç»“åˆæ¥è‡ªå¼€æºç¤¾åŒºçš„æœ€ä½³æ€æƒ³å’Œå®è·µã€‚(https://volcano.sh/zh/docs/#%E7%AE%80%E4%BB%8B) æ”¯æŒçš„è°ƒåº¦ç­–ç•¥ï¼š Gang-scheduling Binpack-scheduling Fair-share scheduling Queue scheduling Preemption scheduling Topology-based scheduling Reclaims Backfill Resource Reservation (Volcanoæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰pluginå’Œactionä»¥æ”¯æŒæ›´å¤šè°ƒåº¦ç®—æ³•) æ”¯æŒçš„è®¡ç®—æ¡†æ¶ï¼š TensoFlow Pytorch MindSpore PaddlePaddle Spark Flink OpenMPI Horovod MXNet Kubeflow Argo KubeGene 2.2.2 é˜¿é‡Œäº‘æ–¹æ¡ˆ é˜¿é‡Œäº‘ Gang scheduling é˜¿é‡Œäº‘ Capacity Scheduling åªæ‰¾åˆ°ç›¸å…³çš„ä¸€äº›å®ç°æ€è·¯ã€è§£å†³æ–¹æ¡ˆï¼Œæ²¡æœ‰å·²æœ‰çš„å¼€æºé¡¹ç›® ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#221-åä¸ºäº‘---volcano"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 å‹å•†å·²æœ‰è§£å†³æ–¹æ¡ˆå¯¹æ¯” 2.2.1 åä¸ºäº‘ - Volcano https://volcano.sh/zh/ Volcanoæ˜¯CNCF ä¸‹é¦–ä¸ªä¹Ÿæ˜¯å”¯ä¸€çš„åŸºäºKubernetesçš„å®¹å™¨æ‰¹é‡è®¡ç®—å¹³å°ï¼Œä¸»è¦ç”¨äºé«˜æ€§èƒ½è®¡ç®—åœºæ™¯ã€‚å®ƒæä¾›äº†Kubernetesç›®å‰ç¼º å°‘çš„ä¸€å¥—æœºåˆ¶ï¼Œè¿™äº›æœºåˆ¶é€šå¸¸æ˜¯æœºå™¨å­¦ä¹ å¤§æ•°æ®åº”ç”¨ã€ç§‘å­¦è®¡ç®—ã€ç‰¹æ•ˆæ¸²æŸ“ç­‰å¤šç§é«˜æ€§èƒ½å·¥ä½œè´Ÿè½½æ‰€éœ€çš„ã€‚ä½œä¸ºä¸€ä¸ªé€šç”¨æ‰¹å¤„ç†å¹³å°ï¼ŒVolcanoä¸å‡ ä¹æ‰€æœ‰çš„ä¸»æµè®¡ç®—æ¡† æ¶æ— ç¼å¯¹æ¥ï¼Œå¦‚Spark ã€TensorFlow ã€PyTorch ã€ Flink ã€Argo ã€MindSpore ã€ PaddlePaddle ç­‰ã€‚å®ƒè¿˜æä¾›äº†åŒ…æ‹¬åŸºäºå„ç§ä¸»æµæ¶æ„çš„CPUã€GPUåœ¨å†…çš„å¼‚æ„è®¾å¤‡æ··åˆè°ƒåº¦èƒ½åŠ›ã€‚Volcanoçš„è®¾è®¡ ç†å¿µå»ºç«‹åœ¨15å¹´æ¥å¤šç§ç³»ç»Ÿå’Œå¹³å°å¤§è§„æ¨¡è¿è¡Œå„ç§é«˜æ€§èƒ½å·¥ä½œè´Ÿè½½çš„ä½¿ç”¨ç»éªŒä¹‹ä¸Šï¼Œå¹¶ç»“åˆæ¥è‡ªå¼€æºç¤¾åŒºçš„æœ€ä½³æ€æƒ³å’Œå®è·µã€‚(https://volcano.sh/zh/docs/#%E7%AE%80%E4%BB%8B) æ”¯æŒçš„è°ƒåº¦ç­–ç•¥ï¼š Gang-scheduling Binpack-scheduling Fair-share scheduling Queue scheduling Preemption scheduling Topology-based scheduling Reclaims Backfill Resource Reservation (Volcanoæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰pluginå’Œactionä»¥æ”¯æŒæ›´å¤šè°ƒåº¦ç®—æ³•) æ”¯æŒçš„è®¡ç®—æ¡†æ¶ï¼š TensoFlow Pytorch MindSpore PaddlePaddle Spark Flink OpenMPI Horovod MXNet Kubeflow Argo KubeGene 2.2.2 é˜¿é‡Œäº‘æ–¹æ¡ˆ é˜¿é‡Œäº‘ Gang scheduling é˜¿é‡Œäº‘ Capacity Scheduling åªæ‰¾åˆ°ç›¸å…³çš„ä¸€äº›å®ç°æ€è·¯ã€è§£å†³æ–¹æ¡ˆï¼Œæ²¡æœ‰å·²æœ‰çš„å¼€æºé¡¹ç›® ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#222-é˜¿é‡Œäº‘æ–¹æ¡ˆ"},{"categories":["åˆ†ç±»-box"],"content":" ä¸‰ã€æ•´ä½“æ–¹æ¡ˆæ¶æ„/ç»„ä»¶æ¶æ„","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:3:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#ä¸‰æ•´ä½“æ–¹æ¡ˆæ¶æ„ç»„ä»¶æ¶æ„"},{"categories":["åˆ†ç±»-box"],"content":" 3.1é€‰ç”¨å¼€æºé¡¹ç›® Volcano ä»¥æ”¯æŒå¤šç§è°ƒåº¦ç­–ç•¥é€‰ç”¨å·²æœ‰çš„ï¼Œç”±åä¸ºå¼€æºçš„ Volcano é¡¹ç›®ï¼Œæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæä¾›äº†ä¸°å¯Œçš„è°ƒåº¦ç­–ç•¥ä¸ Job æ§åˆ¶èƒ½åŠ›ã€‚Volcano ä¸ Kubernetes å¤©ç„¶å…¼å®¹ï¼Œå…¶ç³»ç»Ÿæ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š Volcano ä¸»è¦ç”± Schedulerã€ControllerManagerã€Admission ç»„æˆï¼š Schedulerï¼šé€šè¿‡ä¸€äº›åˆ— actionã€plugin è°ƒåº¦ Jobï¼Œä¸ºå…¶æ‰¾åˆ°æœ€åˆé€‚çš„èŠ‚ç‚¹ï¼Œä¸ Kubernetes default-scheduler ç›¸æ¯”ï¼ŒVolcano æ”¯æŒ Job çš„å¤šç§è°ƒåº¦ç®—æ³• actionï¼šå®šä¹‰äº†è°ƒåº¦å„ç¯èŠ‚ä¸­æ‰§è¡Œçš„åŠ¨ä½œ pluginï¼šæ ¹æ®ä¸åŒçš„åœºæ™¯æä¾›äº† action ä¸­ç®—æ³•çš„å…·ä½“ç»†èŠ‚ scheduler å…·ä½“å·¥ä½œæµç¨‹ï¼šhttps://volcano.sh/zh/docs/schduler_introduction/#%E5%B7%A5%E4%BD%9C%E6%B5%81 ControllerManagerï¼šç®¡ç† CRD èµ„æºçš„ç”Ÿå‘½å‘¨æœŸã€‚ä¸»è¦ç”± Queue CMã€PodGroup CMã€VCJob CM ç»„æˆ Admissionï¼šè´Ÿè´£å¯¹ CRD API èµ„æºè¿›è¡Œæ ¡éªŒ ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:3:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#31é€‰ç”¨å¼€æºé¡¹ç›®-volcano-ä»¥æ”¯æŒå¤šç§è°ƒåº¦ç­–ç•¥"},{"categories":["åˆ†ç±»-box"],"content":" 3.2 å¦‚ä½•å¯¹æ¥åˆ°æˆ‘ä»¬çš„é›†ç¾¤é€šè¿‡ Application Operator çš„å½¢å¼ï¼Œç”¨æˆ·åœ¨ OperatorHub ç•Œé¢é€šè¿‡å®‰è£… volcano-operatorï¼Œå°† Volcano çš„ç›¸å…³èµ„æºå®‰è£…åˆ°é›†ç¾¤ä¸­ï¼š ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:3:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#32-å¦‚ä½•å¯¹æ¥åˆ°æˆ‘ä»¬çš„é›†ç¾¤"},{"categories":["åˆ†ç±»-box"],"content":" å››ã€æ–¹æ¡ˆæµç¨‹è¯¦ç»†è®¾è®¡","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:4:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#å››æ–¹æ¡ˆæµç¨‹è¯¦ç»†è®¾è®¡"},{"categories":["åˆ†ç±»-box"],"content":" 4.1 æµç¨‹ä¸»è¦åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ† ï¼ˆå…·ä½“å›¾ç¤ºè§ 3.2ï¼‰ volcano çš„å®‰è£…ï¼šç”± volcano-operator æ¥å®Œæˆ volcano æ‰€éœ€èµ„æºçš„å®‰è£… volcano çš„ä½¿ç”¨ é€šè¿‡ volcano-operator åœ¨ç•Œé¢ä¸Šæä¾› volcano APIs çš„æ“ä½œå…¥å£ å¯¹äºå…·ä½“è°ƒåº¦é€»è¾‘çš„éªŒè¯ volcano çš„å¸è½½ åˆ é™¤ç”¨äºè§¦å‘åˆ›å»º volcano èµ„æºçš„ VolcanoBackend CR å®ä¾‹ï¼Œè§¦å‘ volcano-operator å®Œæˆ volcano ç›¸å…³èµ„æºçš„å¸è½½ å¸è½½ volcano-operator ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:4:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#41-æµç¨‹ä¸»è¦åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†-å…·ä½“å›¾ç¤ºè§-32"},{"categories":["åˆ†ç±»-box"],"content":" 4.2 è¯¥æ–¹æ¡ˆå…·ä½“éœ€è¦å®Œæˆå·¥ä½œ ä»»åŠ¡é¡¹ todo è°ƒåº¦é€»è¾‘æ”¯æŒ ä½¿ç”¨ volcano å¼€æºé¡¹ç›®ï¼ˆhuaweiï¼‰ volcano èµ„æºå®‰è£…ã€å¸è½½ volcano-operator å¼€å‘ ç»„ä»¶ e2e æ–°å¢ç‰¹æ€§ï¼Œceake-origin éœ€æ–°å¢å¯¹åº”çš„æµ‹è¯•ä¾‹ éœ€å…·ä½“äº†è§£ volcano é¡¹ç›®ç›¸å…³ç‰¹æ€§ï¼Œå®Œæˆæµ‹è¯•ä¾‹å¼€å‘ ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:4:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#42-è¯¥æ–¹æ¡ˆå…·ä½“éœ€è¦å®Œæˆå·¥ä½œ"},{"categories":["åˆ†ç±»-box"],"content":" äº”ã€API æ¥å£è®¾è®¡/å‚è€ƒç›®å‰ volcano-operator æä¾›çš„ api ä¸»è¦æ˜¯ 1 ä¸ªè‡ªèº«çš„ API + volcano é¡¹ç›®æä¾›çš„ 5 ä¸ª API å…± 6 ä¸ª API ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:5:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#äº”api-æ¥å£è®¾è®¡å‚è€ƒ"},{"categories":["åˆ†ç±»-box"],"content":" 5.1 VolcanoBackend VolcanoBackend æ˜¯ volcano-operator æœ¬èº«æä¾›çš„ api volcano-operator åœ¨å®‰è£…çš„æ—¶å€™ä¼šè‡ªå·±åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ VolcanoBackend èµ„æºï¼Œä½äºdefaultå‘½åç©ºé—´ä¸‹ï¼Œåç§°ä¸ºdefaultè¯¥èµ„æºä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š è§¦å‘ VolcanoBackendReconcile é€»è¾‘ï¼Œä»è€Œå®‰è£… volcano çš„ç›¸å…³èµ„æº å¸è½½ volcano-operator ä¹‹å‰éœ€è¦åˆ é™¤è¯¥é»˜è®¤èµ„æºï¼Œå¸è½½ volcano çš„ç›¸å…³èµ„æº ç”¨æˆ·æ— éœ€åˆ›å»ºè¯¥èµ„æº Property Type Description metav1.TypeMeta metav1.TypeMeta metav1.ObjectMeta metav1.ObjectMeta Spec VolcanoBackendSpec Status VolcanoBackendStatus VolcanoBackendSpec: Property Type Description Description string å¯é€‰çš„æè¿°å­—æ®µ e.g. apiVersion: operator.volcano.sh/v1 kind: VolcanoBackend metadata: finalizers: - operator.volcano.sh/finalizer name: default namespace: default spec: description: 'func: triggering volcano resources creation' ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:5:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#51-volcanobackendhttp10253112156060pkgcodecestccnccosceavolcano-operatorapisoperatorv1volcanobackend"},{"categories":["åˆ†ç±»-box"],"content":" 5.2 Job Job æ˜¯ volcano é¡¹ç›®æä¾›çš„ APIï¼Œé€šè¿‡ OperatorHub ä¸­çš„ volcano-operator ç»™ç”¨æˆ·æä¾›ç•Œé¢ä¸Šçš„æ“ä½œå…¥å£ Property Type Description metav1.TypeMeta metav1.TypeMeta metav1.ObjectMeta metav1.ObjectMeta Spec vcv1alpha1.JobSpec Specification of the desired behavior of the volcano job, including the minAvailable Status vcv1alpha1.JobStatus Current status of the volcano Job vcv1alpha1.JobSpec: Property Type Description SchedulerName string SchedulerName is the default value of tasks.template.spec.schedulerName. MinAvailable int32 The minimal available pods to run for this Job Defaults to the summary of tasksâ€™ replicas Volumes [] VolumeSpec The volumes mount on Job Tasks [] TaskSpec Tasks specifies the task specification of Job Policies [] LifecyclePolicy Specifies the default lifecycle of tasks Plugins map [string] []string Specifies the plugin of job Key is plugin name, value is the arguments of the plugin RunningEstimate *metav1.Duration Running Estimate is a user running duration estimate for the job Default to nil Queue string Specifies the queue that will be used in the scheduler, â€œdefaultâ€ queue is used this leaves empty. MaxRetry int32 Specifies the maximum number of retries before marking this Job failed. Defaults to 3. TTLSecondsAfterFinished *int32 ttlSecondsAfterFinished limits the lifetime of a Job that has finished execution (either Completed or Failed). If this field is set, ttlSecondsAfterFinished after the Job finishes, it is eligible to be automatically deleted. If this field is unset, the Job wonâ€™t be automatically deleted. If this field is set to zero, the Job becomes eligible to be deleted immediately after it finishes. PriorityClassName string If specified, indicates the jobâ€™s priority. MinSuccess *int32 The minimal success pods to run for this Job Minimum=1 e.g. // TODO ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:5:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#52-jobhttp10253112156060pkgcodecestccnccosceavolcano-operatorapisbatchv1alpha1job"},{"categories":["åˆ†ç±»-box"],"content":" 5.3 Command Command æ˜¯ volcano é¡¹ç›®æä¾›çš„ APIï¼Œé€šè¿‡ OperatorHub ä¸­çš„ volcano-operator ç»™ç”¨æˆ·æä¾›ç•Œé¢ä¸Šçš„æ“ä½œå…¥å£ Property Type Description metav1.TypeMeta metav1.TypeMeta metav1.ObjectMeta metav1.ObjectMeta Action string Action defines the action that will be took to the target object. TargetObject *metav1.OwnerReference TargetObject defines the target object of this command. Reason string Unique, one-word, CamelCase reason for this command. Message string Human-readable message indicating details of this command. e.g. // TODO ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:5:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#53-commandhttp10253112156060pkgvolcanoshapispkgapisbusv1alpha1command"},{"categories":["åˆ†ç±»-box"],"content":" 5.4 Numatopology Numatopology æ˜¯ volcano é¡¹ç›®æä¾›çš„ APIï¼Œé€šè¿‡ OperatorHub ä¸­çš„ volcano-operator ç»™ç”¨æˆ·æä¾›ç•Œé¢ä¸Šçš„æ“ä½œå…¥å£ Property Type Description metav1.TypeMeta metav1.TypeMeta metav1.ObjectMeta metav1.ObjectMeta Spec NumatopoSpec Specification of the numa information of the worker node NumatopoSpec: Property Type Description Policies map[ PolicyName ] string Specifies the policy of the manager ResReserved map[ string ] string Specifies the reserved resource of the node Key is resource name NumaResMap map[ string ] ResourceInfo Specifies the numa info for the resource Key is resource name CPUDetail map[ string ] CPUInfo Specifies the cpu topology info Key is cpu id e.g. // TODO ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:5:4","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#54-numatopologyhttp10253112156060pkgvolcanoshapispkgapisnodeinfov1alpha1numatopology"},{"categories":["åˆ†ç±»-box"],"content":" 5.5 Queue Queue æ˜¯ volcano é¡¹ç›®æä¾›çš„ APIï¼Œé€šè¿‡ OperatorHub ä¸­çš„ volcano-operator ç»™ç”¨æˆ·æä¾›ç•Œé¢ä¸Šçš„æ“ä½œå…¥å£ Property Type Description metav1.TypeMeta metav1.TypeMeta metav1.ObjectMeta metav1.ObjectMeta Spec QueueSpec Specification of the desired behavior of the queue. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#spec-and-status Status QueueStatus The status of queue. QueueSpec: Property Type Description Weight int32 Capability v1.ResourceList Reclaimable *bool Reclaimable indicate whether the queue can be reclaimed by other queue ExtendClusters [] Cluster extendCluster indicate the jobs in this Queue will be dispatched to these clusters. Guarantee Guarantee Guarantee indicate configuration about resource reservation e.g. // TODO ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:5:5","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#55-queuehttp10253112156060pkgvolcanoshapispkgapisschedulingv1beta1queue"},{"categories":["åˆ†ç±»-box"],"content":" 5.6 PodGroup PodGroup æ˜¯ volcano é¡¹ç›®æä¾›çš„ APIï¼Œé€šè¿‡ OperatorHub ä¸­çš„ volcano-operator ç»™ç”¨æˆ·æä¾›ç•Œé¢ä¸Šçš„æ“ä½œå…¥å£ Property Type Description metav1.TypeMeta metav1.TypeMeta metav1.ObjectMeta metav1.ObjectMeta Spec PodGroupSpec Specification of the desired behavior of the pod group. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#spec-and-status Status PodGroupStatus Status represents the current information about a pod group. This data may not be up to date. PodGroupSpec: Property Type Description MinMember int32 MinMember defines the minimal number of members/tasks to run the pod group; if thereâ€™s not enough resources to start all tasks, the scheduler will not start anyone. MinTaskMember map[ string ] int32 MinTaskMember defines the minimal number of pods to run each task in the pod group; if thereâ€™s not enough resources to start each task, the scheduler will not start anyone. Queue string Queue defines the queue to allocate resource for PodGroup; if queue does not exist, the PodGroup will not be scheduled. Defaults to default Queue with the lowest weight. PriorityClassName string If specified, indicates the PodGroupâ€™s priority. â€œsystem-node-criticalâ€ and â€œsystem-cluster-criticalâ€ are two special keywords which indicate the highest priorities with the former being the highest priority. Any other name must be defined by creating a PriorityClass object with that name. If not specified, the PodGroup priority will be default or zero if there is no MinResources v1.ResourceList MinResources defines the minimal resource of members/tasks to run the pod group; if thereâ€™s not enough resources to start all tasks, the scheduler will not start anyone. e.g. // TODO ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:5:6","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#56-podgrouphttp10253112156060pkgvolcanoshapispkgapisschedulingv1beta1podgroup"},{"categories":["åˆ†ç±»-box"],"content":" *ã€å‚è€ƒèµ„æ–™ https://www.6aiq.com/article/1628641646793 https://support.huaweicloud.com/bestpractice-cce/cce_bestpractice_0075.html#section1 https://volcano.sh/ https://developer.aliyun.com/article/766998 https://www.cncf.io/wp-content/uploads/2020/08/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E5%A6%82%E4%BD%95%E6%89%A9%E5%B1%95Kubernetes-%E8%B0%83%E5%BA%A6%E5%99%A8%E6%94%AF%E6%8C%81-AI-%E5%92%8C%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%BD%9C%E4%B8%9A%EF%BC%9F1-xi-jiang.pdf https://github.com/kubernetes-sigs/scheduler-plugins/blob/master/kep/9-capacity-scheduling/README.md ","date":"2023-05-16","objectID":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/:6:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"é«˜æ€§èƒ½è®¡ç®—-æ”¯æŒä½œä¸šé«˜çº§è°ƒåº¦ç­–ç•¥æ–¹æ¡ˆ","uri":"/202305161508-%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97-%E6%94%AF%E6%8C%81%E4%BD%9C%E4%B8%9A%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88/#å‚è€ƒèµ„æ–™"},{"categories":["åˆ†ç±»-box"],"content":" ä¸€ã€ä¸ºä»€ä¹ˆè¦æ”¯æŒè®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥é—®é¢˜ï¼šæœ‰å¾ˆå¤šèŠ‚ç‚¹é—®é¢˜ä¼šå½±å“åˆ°èŠ‚ç‚¹ä¸Šæ­£åœ¨è¿è¡Œçš„podï¼Œæ¯”å¦‚å†…æ ¸æ­»é”ã€OOMã€æ–‡ä»¶ç³»ç»ŸæŸåã€å®¹å™¨è¿è¡Œæ—¶å¼‚å¸¸â€¦ï¼Œåœ¨é›†ç¾¤ä¸­ï¼Œæœ‰äº›é—®é¢˜å¯¹äºä¸Šå±‚æ¥è¯´ä¸å¯è§ï¼Œpodè¿˜æ˜¯æœ‰å¯èƒ½ä¼šè°ƒåº¦åˆ°æœ‰é—®é¢˜çš„èŠ‚ç‚¹ã€‚Kubelet é»˜è®¤å¯¹èŠ‚ç‚¹çš„ PIDPressureã€MemoryPressureã€DiskPressure ç­‰èµ„æºçŠ¶æ€è¿›è¡Œç›‘æ§ï¼Œä½†æ˜¯å­˜åœ¨å½“ Kubelet ä¸ŠæŠ¥çŠ¶æ€æ—¶èŠ‚ç‚¹å·²å¤„äºä¸å¯ç”¨çŠ¶æ€çš„æƒ…å†µï¼Œç”šè‡³ Kubelet å¯èƒ½å·²å¼€å§‹é©±é€ Pod ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œå¼•å…¥èŠ‚ç‚¹å¥åº·æ£€æŸ¥ï¼Œæ·»åŠ æ›´ç»†è‡´åŒ–çš„æŒ‡æ ‡ï¼Œåœ¨äººå·¥å¹²é¢„ä¹‹å‰ï¼ŒåŠæ—©å‘ç°é—®é¢˜ï¼Œæå‰é¢„çŸ¥èŠ‚ç‚¹çš„èµ„æºå‹åŠ›ï¼Œåé¦ˆç»™é›†ç¾¤ï¼Œåœ¨ä¸šåŠ¡podä¸å¯ç”¨ä¹‹å‰æå‰å‘ç°èŠ‚ç‚¹å¼‚å¸¸ï¼Œå¹¶ä½œå‡ºç›¸åº”çš„è¡¥æ•‘ç­–ç•¥ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#ä¸€ä¸ºä»€ä¹ˆè¦æ”¯æŒè®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥"},{"categories":["åˆ†ç±»-box"],"content":" äºŒã€å¦‚ä½•æ¥åšèŠ‚ç‚¹çš„å¥åº·æ£€æŸ¥","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#äºŒå¦‚ä½•æ¥åšèŠ‚ç‚¹çš„å¥åº·æ£€æŸ¥"},{"categories":["åˆ†ç±»-box"],"content":" 2.1 ç›¸å…³æŠ€æœ¯ Node Problem Detectorï¼ˆNPDï¼ŒèŠ‚ç‚¹å¥åº·æ£€æŸ¥ï¼‰ Node Health Check Operator ï¼ˆNHCï¼Œç›‘å¬èŠ‚ç‚¹çŠ¶æ€ï¼Œè§¦å‘ä¿®å¤ï¼‰+ Self Node Remediation Operatorï¼ˆSNRï¼Œä¿®å¤ï¼‰ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:2:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#21-ç›¸å…³æŠ€æœ¯"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 æ•´ä½“èŠ‚ç‚¹æ£€æŸ¥ã€ä¿®å¤æµç¨‹ 2.2.1 æ¦‚è§ˆ 2.2.2 æ•´ä½“æµç¨‹ NPD åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œå®ˆæŠ¤è¿›ç¨‹ï¼Œæ£€æµ‹å¹¶æŠ¥å‘ŠèŠ‚ç‚¹çš„å¥åº·çŠ¶å†µ NPD ç»„ä»¶æ£€æµ‹èŠ‚ç‚¹ä¸Šçš„æ•…éšœï¼Œå¦‚ Linux Kernel Hangã€å®¹å™¨è¿è¡Œæ—¶å¼‚å¸¸ã€æ–‡ä»¶æè¿°ç¬¦å¼‚å¸¸ç­‰ï¼Œå¹¶è½¬æ¢ä¸ºèŠ‚ç‚¹çš„äº‹ä»¶ï¼ˆEventï¼‰æˆ–è€… Conditionä¸ŠæŠ¥ç»™é›†ç¾¤ ç›‘æ§é¡¹ï¼šæ¯ä¸ª NPD åˆ›å»ºå­å®ˆæŠ¤è¿›ç¨‹ï¼Œç›‘è§†å¯¹åº”ç±»å‹çš„èŠ‚ç‚¹é—®é¢˜ï¼š SystemLogMonitorï¼šç”¨äºç›‘æ§ç³»ç»Ÿå’Œå†…æ ¸çš„æ—¥å¿—ï¼Œæ ¹æ®é¢„å®šä¹‰çš„è§„åˆ™æ¥æŠ¥å‘Šé—®é¢˜ã€æŒ‡æ ‡ã€‚æ”¯æŒåŸºäºæ–‡ä»¶çš„æ—¥å¿—ã€journaldã€kmsg SystemStatusMonitorï¼šä»ä¸é€šçš„ç³»ç»Ÿç»„ä»¶æ”¶é›†é¢„å®šä¹‰çš„ç›¸å…³å¥åº·æŒ‡æ ‡ï¼Œæ”¯æŒçš„ç»„ä»¶ï¼šcpuã€diskã€hostã€memory CuntomPluginMonitorï¼šè‡ªå®šä¹‰æ’ä»¶ HealthCheckerï¼šæ£€æŸ¥kubeletå’Œå®¹å™¨è¿è¡Œæ—¶çš„å¥åº·çŠ¶å†µ NPD æ”¯æŒè‡ªå®šä¹‰ç›‘æ§è„šæœ¬ï¼Œå¯è‡ªå®šä¹‰æ£€æµ‹æœŸæœ›å‘ç°çš„èŠ‚ç‚¹é—®é¢˜ æ¯ä¸ªç›‘æ§é¡¹é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹ã€æ‰©å±•è§„åˆ™ï¼Œe.g. { \"plugin\": \"kmsg\", \"logPath\": \"/dev/kmsg\", \"lookback\": \"5m\", \"bufferSize\": 10, \"source\": \"kernel-monitor\", \"metricsReporting\": true, \"conditions\": [ { \"type\": \"KernelDeadlock\", \"reason\": \"KernelHasNoDeadlock\", \"message\": \"kernel has no deadlock\" }, { \"type\": \"ReadonlyFilesystem\", \"reason\": \"FilesystemIsNotReadOnly\", \"message\": \"Filesystem is not read-only\" } ], \"rules\": [ { \"type\": \"temporary\", \"reason\": \"OOMKilling\", \"pattern\": \"Killed process \\\\d+ (.+) total-vm:\\\\d+kB, anon-rss:\\\\d+kB, file-rss:\\\\d+kB.*\" }, { \"type\": \"temporary\", \"reason\": \"TaskHung\", \"pattern\": \"task [\\\\S ]+:\\\\w+ blocked for more than \\\\w+ seconds\\\\.\" }, { \"type\": \"temporary\", \"reason\": \"UnregisterNetDevice\", \"pattern\": \"unregister_netdevice: waiting for \\\\w+ to become free. Usage count = \\\\d+\" }, ... ] } å®‰è£… NPD ä¹‹åï¼ŒèŠ‚ç‚¹ä¸­ä¼šæ·»åŠ ä»¥ä¸‹ Conditionsï¼š Condition Type é»˜è®¤å€¼ æè¿° ReadonlyFilesystem False æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦åªè¯» FDPressure False æŸ¥çœ‹ä¸»æœºçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„80% FrequentKubeletRestart False Kubelet æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ CorruptDockerOverlay2 False DockerImage æ˜¯å¦å­˜åœ¨é—®é¢˜ KubeletProblem False Kubelet service æ˜¯å¦ Running KernelDeadlock False å†…æ ¸æ˜¯å¦å­˜åœ¨æ­»é” FrequentDockerRestart False Docker æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ FrequentContainerdRestart False Containerd æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ DockerdProblem False Docker service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Containerdï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ContainerdProblem False Containerd service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Dockerï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ThreadPressure False ç³»ç»Ÿç›®å‰çº¿ç¨‹æ•°æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„90% NetworkUnavailable False NTP service æ˜¯å¦ Running SerfFailed False åˆ†å¸ƒå¼æ£€æµ‹èŠ‚ç‚¹ç½‘ç»œå¥åº·çŠ¶æ€ å½“å‘ç°é—®é¢˜åï¼Œå°†ä»¥ NodeCondition å’Œ Event çš„å½¢å¼ä¸ŠæŠ¥ç»™ apiserver å‘ç°é—®é¢˜åï¼Œå‘ k8s apiserver æŠ¥å‘ŠèŠ‚ç‚¹é—®é¢˜ï¼šä¸´æ—¶é—®é¢˜æŠ¥å‘Šä¸º Eventï¼Œæ°¸ä¹…é—®é¢˜æŠ¥å‘Šä¸º NodeCondition é—®é¢˜ä¸ŠæŠ¥ä¹‹åï¼Œnode èŠ‚ç‚¹çŠ¶æ€å˜åŒ–ï¼ŒNHC æ ¹æ®ä¸å¥åº·èŠ‚ç‚¹çš„åˆ¤æ–­è§„åˆ™ NHC ç›®å‰åˆ¤æ–­èŠ‚ç‚¹ä¸å¥åº·çš„æ¡ä»¶åªé€šè¿‡èŠ‚ç‚¹çŠ¶æ€ä»¥åŠæŒç»­æ—¶é—´æ¥åˆ¤æ–­ NodeHealthCheck e.g. åˆ™å¦‚æœèŠ‚ç‚¹çŠ¶æ€ä¸ä¸º Ready çš„æŒç»­æ—¶é—´è¶…è¿‡ 300sï¼ŒNHC ä¼šå°†å…¶åˆ¤æ–­ä¸ºä¸€ä¸ªä¸å¥åº·èŠ‚ç‚¹ åç»­éœ€è¦ NHC èƒ½å¤Ÿè¯†åˆ«ç”± NPD ä¸ŠæŠ¥çš„ä¸åŒèŠ‚ç‚¹é—®é¢˜ï¼Œè¯†åˆ«èŠ‚ç‚¹ä¸åŒçš„ Condition Typeï¼Œæ¯”å¦‚ï¼šReadonlyFilesystemã€FDPressureã€KubeletProblemç­‰ç­‰ï¼Œé’ˆå¯¹æ€§åœ°è§¦å‘è¡¥æ•‘ NHC åˆ›å»º SNR æä¾›çš„è¡¥æ•‘æ¨¡æ¿ä¹‹åï¼Œä¼šè§¦å‘ SNR è¡¥æ•‘é€»è¾‘ ç›®å‰ SNR çš„è¡¥æ•‘ç­–ç•¥åªæœ‰ reboot èŠ‚ç‚¹ åç»­éœ€è¦æ ¹æ® NHC å‘é€çš„ä¸åŒçš„èŠ‚ç‚¹é—®é¢˜ï¼Œæ›´æœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œè¡¥æ•‘ è¡¥æ•‘æˆåŠŸåï¼ŒèŠ‚ç‚¹çŠ¶æ€å°†è¢«æ¢å¤ä¸ºæ­£å¸¸ï¼ŒNHC åˆ é™¤åˆ›å»ºçš„è¡¥æ•‘ CR å®ä¾‹ï¼Œå¹¶ç»§ç»­ç›‘æ§èŠ‚ç‚¹çŠ¶æ€ï¼Œå½¢æˆé—­ç¯ 2.2.3 ä¿®å¤è¿‡ç¨‹ä¸ç»“æœè®°å½•é—®é¢˜çš„å‘ç°ï¼škube-system å‘½åç©ºé—´ä¸‹æŸ¥çœ‹ NPD å¯¹åº” pod çš„æ—¥å¿—è®°å½•ï¼Œé€šè¿‡ node çš„ Eventã€Condition æŸ¥çœ‹ä¸ŠæŠ¥çš„ç»“æœ è§¦å‘ä¿®å¤ï¼šæŸ¥çœ‹ NHC manager æ—¥å¿—ï¼Œå¯çŸ¥é’ˆå¯¹å“ªä¸ªä¸å¥åº·èŠ‚ç‚¹ï¼Œåˆ›å»ºäº†ä»€ä¹ˆä¿®å¤æ¨¡æ¿ ä¿®å¤ç»“æœï¼šæŸ¥çœ‹ SNR manager çš„æ—¥å¿—ï¼Œå¯çŸ¥æ‰§è¡Œäº†ä»€ä¹ˆä¿®å¤ç­–ç•¥ï¼Œè°ƒåº¦äº†å“ªä¸ª ds æ¥åšçš„ä¿®å¤ï¼ŒæŸ¥çœ‹ node çš„ Eventã€Condition æˆ–è€…ç›¸åº”æœåŠ¡çš„çŠ¶æ€æ¥ç¡®å®šä¿®å¤æ˜¯å¦å®Œæˆ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#22-æ•´ä½“èŠ‚ç‚¹æ£€æŸ¥ä¿®å¤æµç¨‹"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 æ•´ä½“èŠ‚ç‚¹æ£€æŸ¥ã€ä¿®å¤æµç¨‹ 2.2.1 æ¦‚è§ˆ 2.2.2 æ•´ä½“æµç¨‹ NPD åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œå®ˆæŠ¤è¿›ç¨‹ï¼Œæ£€æµ‹å¹¶æŠ¥å‘ŠèŠ‚ç‚¹çš„å¥åº·çŠ¶å†µ NPD ç»„ä»¶æ£€æµ‹èŠ‚ç‚¹ä¸Šçš„æ•…éšœï¼Œå¦‚ Linux Kernel Hangã€å®¹å™¨è¿è¡Œæ—¶å¼‚å¸¸ã€æ–‡ä»¶æè¿°ç¬¦å¼‚å¸¸ç­‰ï¼Œå¹¶è½¬æ¢ä¸ºèŠ‚ç‚¹çš„äº‹ä»¶ï¼ˆEventï¼‰æˆ–è€… Conditionä¸ŠæŠ¥ç»™é›†ç¾¤ ç›‘æ§é¡¹ï¼šæ¯ä¸ª NPD åˆ›å»ºå­å®ˆæŠ¤è¿›ç¨‹ï¼Œç›‘è§†å¯¹åº”ç±»å‹çš„èŠ‚ç‚¹é—®é¢˜ï¼š SystemLogMonitorï¼šç”¨äºç›‘æ§ç³»ç»Ÿå’Œå†…æ ¸çš„æ—¥å¿—ï¼Œæ ¹æ®é¢„å®šä¹‰çš„è§„åˆ™æ¥æŠ¥å‘Šé—®é¢˜ã€æŒ‡æ ‡ã€‚æ”¯æŒåŸºäºæ–‡ä»¶çš„æ—¥å¿—ã€journaldã€kmsg SystemStatusMonitorï¼šä»ä¸é€šçš„ç³»ç»Ÿç»„ä»¶æ”¶é›†é¢„å®šä¹‰çš„ç›¸å…³å¥åº·æŒ‡æ ‡ï¼Œæ”¯æŒçš„ç»„ä»¶ï¼šcpuã€diskã€hostã€memory CuntomPluginMonitorï¼šè‡ªå®šä¹‰æ’ä»¶ HealthCheckerï¼šæ£€æŸ¥kubeletå’Œå®¹å™¨è¿è¡Œæ—¶çš„å¥åº·çŠ¶å†µ NPD æ”¯æŒè‡ªå®šä¹‰ç›‘æ§è„šæœ¬ï¼Œå¯è‡ªå®šä¹‰æ£€æµ‹æœŸæœ›å‘ç°çš„èŠ‚ç‚¹é—®é¢˜ æ¯ä¸ªç›‘æ§é¡¹é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹ã€æ‰©å±•è§„åˆ™ï¼Œe.g. { \"plugin\": \"kmsg\", \"logPath\": \"/dev/kmsg\", \"lookback\": \"5m\", \"bufferSize\": 10, \"source\": \"kernel-monitor\", \"metricsReporting\": true, \"conditions\": [ { \"type\": \"KernelDeadlock\", \"reason\": \"KernelHasNoDeadlock\", \"message\": \"kernel has no deadlock\" }, { \"type\": \"ReadonlyFilesystem\", \"reason\": \"FilesystemIsNotReadOnly\", \"message\": \"Filesystem is not read-only\" } ], \"rules\": [ { \"type\": \"temporary\", \"reason\": \"OOMKilling\", \"pattern\": \"Killed process \\\\d+ (.+) total-vm:\\\\d+kB, anon-rss:\\\\d+kB, file-rss:\\\\d+kB.*\" }, { \"type\": \"temporary\", \"reason\": \"TaskHung\", \"pattern\": \"task [\\\\S ]+:\\\\w+ blocked for more than \\\\w+ seconds\\\\.\" }, { \"type\": \"temporary\", \"reason\": \"UnregisterNetDevice\", \"pattern\": \"unregister_netdevice: waiting for \\\\w+ to become free. Usage count = \\\\d+\" }, ... ] } å®‰è£… NPD ä¹‹åï¼ŒèŠ‚ç‚¹ä¸­ä¼šæ·»åŠ ä»¥ä¸‹ Conditionsï¼š Condition Type é»˜è®¤å€¼ æè¿° ReadonlyFilesystem False æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦åªè¯» FDPressure False æŸ¥çœ‹ä¸»æœºçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„80% FrequentKubeletRestart False Kubelet æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ CorruptDockerOverlay2 False DockerImage æ˜¯å¦å­˜åœ¨é—®é¢˜ KubeletProblem False Kubelet service æ˜¯å¦ Running KernelDeadlock False å†…æ ¸æ˜¯å¦å­˜åœ¨æ­»é” FrequentDockerRestart False Docker æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ FrequentContainerdRestart False Containerd æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ DockerdProblem False Docker service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Containerdï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ContainerdProblem False Containerd service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Dockerï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ThreadPressure False ç³»ç»Ÿç›®å‰çº¿ç¨‹æ•°æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„90% NetworkUnavailable False NTP service æ˜¯å¦ Running SerfFailed False åˆ†å¸ƒå¼æ£€æµ‹èŠ‚ç‚¹ç½‘ç»œå¥åº·çŠ¶æ€ å½“å‘ç°é—®é¢˜åï¼Œå°†ä»¥ NodeCondition å’Œ Event çš„å½¢å¼ä¸ŠæŠ¥ç»™ apiserver å‘ç°é—®é¢˜åï¼Œå‘ k8s apiserver æŠ¥å‘ŠèŠ‚ç‚¹é—®é¢˜ï¼šä¸´æ—¶é—®é¢˜æŠ¥å‘Šä¸º Eventï¼Œæ°¸ä¹…é—®é¢˜æŠ¥å‘Šä¸º NodeCondition é—®é¢˜ä¸ŠæŠ¥ä¹‹åï¼Œnode èŠ‚ç‚¹çŠ¶æ€å˜åŒ–ï¼ŒNHC æ ¹æ®ä¸å¥åº·èŠ‚ç‚¹çš„åˆ¤æ–­è§„åˆ™ NHC ç›®å‰åˆ¤æ–­èŠ‚ç‚¹ä¸å¥åº·çš„æ¡ä»¶åªé€šè¿‡èŠ‚ç‚¹çŠ¶æ€ä»¥åŠæŒç»­æ—¶é—´æ¥åˆ¤æ–­ NodeHealthCheck e.g. åˆ™å¦‚æœèŠ‚ç‚¹çŠ¶æ€ä¸ä¸º Ready çš„æŒç»­æ—¶é—´è¶…è¿‡ 300sï¼ŒNHC ä¼šå°†å…¶åˆ¤æ–­ä¸ºä¸€ä¸ªä¸å¥åº·èŠ‚ç‚¹ åç»­éœ€è¦ NHC èƒ½å¤Ÿè¯†åˆ«ç”± NPD ä¸ŠæŠ¥çš„ä¸åŒèŠ‚ç‚¹é—®é¢˜ï¼Œè¯†åˆ«èŠ‚ç‚¹ä¸åŒçš„ Condition Typeï¼Œæ¯”å¦‚ï¼šReadonlyFilesystemã€FDPressureã€KubeletProblemç­‰ç­‰ï¼Œé’ˆå¯¹æ€§åœ°è§¦å‘è¡¥æ•‘ NHC åˆ›å»º SNR æä¾›çš„è¡¥æ•‘æ¨¡æ¿ä¹‹åï¼Œä¼šè§¦å‘ SNR è¡¥æ•‘é€»è¾‘ ç›®å‰ SNR çš„è¡¥æ•‘ç­–ç•¥åªæœ‰ reboot èŠ‚ç‚¹ åç»­éœ€è¦æ ¹æ® NHC å‘é€çš„ä¸åŒçš„èŠ‚ç‚¹é—®é¢˜ï¼Œæ›´æœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œè¡¥æ•‘ è¡¥æ•‘æˆåŠŸåï¼ŒèŠ‚ç‚¹çŠ¶æ€å°†è¢«æ¢å¤ä¸ºæ­£å¸¸ï¼ŒNHC åˆ é™¤åˆ›å»ºçš„è¡¥æ•‘ CR å®ä¾‹ï¼Œå¹¶ç»§ç»­ç›‘æ§èŠ‚ç‚¹çŠ¶æ€ï¼Œå½¢æˆé—­ç¯ 2.2.3 ä¿®å¤è¿‡ç¨‹ä¸ç»“æœè®°å½•é—®é¢˜çš„å‘ç°ï¼škube-system å‘½åç©ºé—´ä¸‹æŸ¥çœ‹ NPD å¯¹åº” pod çš„æ—¥å¿—è®°å½•ï¼Œé€šè¿‡ node çš„ Eventã€Condition æŸ¥çœ‹ä¸ŠæŠ¥çš„ç»“æœ è§¦å‘ä¿®å¤ï¼šæŸ¥çœ‹ NHC manager æ—¥å¿—ï¼Œå¯çŸ¥é’ˆå¯¹å“ªä¸ªä¸å¥åº·èŠ‚ç‚¹ï¼Œåˆ›å»ºäº†ä»€ä¹ˆä¿®å¤æ¨¡æ¿ ä¿®å¤ç»“æœï¼šæŸ¥çœ‹ SNR manager çš„æ—¥å¿—ï¼Œå¯çŸ¥æ‰§è¡Œäº†ä»€ä¹ˆä¿®å¤ç­–ç•¥ï¼Œè°ƒåº¦äº†å“ªä¸ª ds æ¥åšçš„ä¿®å¤ï¼ŒæŸ¥çœ‹ node çš„ Eventã€Condition æˆ–è€…ç›¸åº”æœåŠ¡çš„çŠ¶æ€æ¥ç¡®å®šä¿®å¤æ˜¯å¦å®Œæˆ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#221-æ¦‚è§ˆ"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 æ•´ä½“èŠ‚ç‚¹æ£€æŸ¥ã€ä¿®å¤æµç¨‹ 2.2.1 æ¦‚è§ˆ 2.2.2 æ•´ä½“æµç¨‹ NPD åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œå®ˆæŠ¤è¿›ç¨‹ï¼Œæ£€æµ‹å¹¶æŠ¥å‘ŠèŠ‚ç‚¹çš„å¥åº·çŠ¶å†µ NPD ç»„ä»¶æ£€æµ‹èŠ‚ç‚¹ä¸Šçš„æ•…éšœï¼Œå¦‚ Linux Kernel Hangã€å®¹å™¨è¿è¡Œæ—¶å¼‚å¸¸ã€æ–‡ä»¶æè¿°ç¬¦å¼‚å¸¸ç­‰ï¼Œå¹¶è½¬æ¢ä¸ºèŠ‚ç‚¹çš„äº‹ä»¶ï¼ˆEventï¼‰æˆ–è€… Conditionä¸ŠæŠ¥ç»™é›†ç¾¤ ç›‘æ§é¡¹ï¼šæ¯ä¸ª NPD åˆ›å»ºå­å®ˆæŠ¤è¿›ç¨‹ï¼Œç›‘è§†å¯¹åº”ç±»å‹çš„èŠ‚ç‚¹é—®é¢˜ï¼š SystemLogMonitorï¼šç”¨äºç›‘æ§ç³»ç»Ÿå’Œå†…æ ¸çš„æ—¥å¿—ï¼Œæ ¹æ®é¢„å®šä¹‰çš„è§„åˆ™æ¥æŠ¥å‘Šé—®é¢˜ã€æŒ‡æ ‡ã€‚æ”¯æŒåŸºäºæ–‡ä»¶çš„æ—¥å¿—ã€journaldã€kmsg SystemStatusMonitorï¼šä»ä¸é€šçš„ç³»ç»Ÿç»„ä»¶æ”¶é›†é¢„å®šä¹‰çš„ç›¸å…³å¥åº·æŒ‡æ ‡ï¼Œæ”¯æŒçš„ç»„ä»¶ï¼šcpuã€diskã€hostã€memory CuntomPluginMonitorï¼šè‡ªå®šä¹‰æ’ä»¶ HealthCheckerï¼šæ£€æŸ¥kubeletå’Œå®¹å™¨è¿è¡Œæ—¶çš„å¥åº·çŠ¶å†µ NPD æ”¯æŒè‡ªå®šä¹‰ç›‘æ§è„šæœ¬ï¼Œå¯è‡ªå®šä¹‰æ£€æµ‹æœŸæœ›å‘ç°çš„èŠ‚ç‚¹é—®é¢˜ æ¯ä¸ªç›‘æ§é¡¹é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹ã€æ‰©å±•è§„åˆ™ï¼Œe.g. { \"plugin\": \"kmsg\", \"logPath\": \"/dev/kmsg\", \"lookback\": \"5m\", \"bufferSize\": 10, \"source\": \"kernel-monitor\", \"metricsReporting\": true, \"conditions\": [ { \"type\": \"KernelDeadlock\", \"reason\": \"KernelHasNoDeadlock\", \"message\": \"kernel has no deadlock\" }, { \"type\": \"ReadonlyFilesystem\", \"reason\": \"FilesystemIsNotReadOnly\", \"message\": \"Filesystem is not read-only\" } ], \"rules\": [ { \"type\": \"temporary\", \"reason\": \"OOMKilling\", \"pattern\": \"Killed process \\\\d+ (.+) total-vm:\\\\d+kB, anon-rss:\\\\d+kB, file-rss:\\\\d+kB.*\" }, { \"type\": \"temporary\", \"reason\": \"TaskHung\", \"pattern\": \"task [\\\\S ]+:\\\\w+ blocked for more than \\\\w+ seconds\\\\.\" }, { \"type\": \"temporary\", \"reason\": \"UnregisterNetDevice\", \"pattern\": \"unregister_netdevice: waiting for \\\\w+ to become free. Usage count = \\\\d+\" }, ... ] } å®‰è£… NPD ä¹‹åï¼ŒèŠ‚ç‚¹ä¸­ä¼šæ·»åŠ ä»¥ä¸‹ Conditionsï¼š Condition Type é»˜è®¤å€¼ æè¿° ReadonlyFilesystem False æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦åªè¯» FDPressure False æŸ¥çœ‹ä¸»æœºçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„80% FrequentKubeletRestart False Kubelet æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ CorruptDockerOverlay2 False DockerImage æ˜¯å¦å­˜åœ¨é—®é¢˜ KubeletProblem False Kubelet service æ˜¯å¦ Running KernelDeadlock False å†…æ ¸æ˜¯å¦å­˜åœ¨æ­»é” FrequentDockerRestart False Docker æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ FrequentContainerdRestart False Containerd æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ DockerdProblem False Docker service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Containerdï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ContainerdProblem False Containerd service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Dockerï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ThreadPressure False ç³»ç»Ÿç›®å‰çº¿ç¨‹æ•°æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„90% NetworkUnavailable False NTP service æ˜¯å¦ Running SerfFailed False åˆ†å¸ƒå¼æ£€æµ‹èŠ‚ç‚¹ç½‘ç»œå¥åº·çŠ¶æ€ å½“å‘ç°é—®é¢˜åï¼Œå°†ä»¥ NodeCondition å’Œ Event çš„å½¢å¼ä¸ŠæŠ¥ç»™ apiserver å‘ç°é—®é¢˜åï¼Œå‘ k8s apiserver æŠ¥å‘ŠèŠ‚ç‚¹é—®é¢˜ï¼šä¸´æ—¶é—®é¢˜æŠ¥å‘Šä¸º Eventï¼Œæ°¸ä¹…é—®é¢˜æŠ¥å‘Šä¸º NodeCondition é—®é¢˜ä¸ŠæŠ¥ä¹‹åï¼Œnode èŠ‚ç‚¹çŠ¶æ€å˜åŒ–ï¼ŒNHC æ ¹æ®ä¸å¥åº·èŠ‚ç‚¹çš„åˆ¤æ–­è§„åˆ™ NHC ç›®å‰åˆ¤æ–­èŠ‚ç‚¹ä¸å¥åº·çš„æ¡ä»¶åªé€šè¿‡èŠ‚ç‚¹çŠ¶æ€ä»¥åŠæŒç»­æ—¶é—´æ¥åˆ¤æ–­ NodeHealthCheck e.g. åˆ™å¦‚æœèŠ‚ç‚¹çŠ¶æ€ä¸ä¸º Ready çš„æŒç»­æ—¶é—´è¶…è¿‡ 300sï¼ŒNHC ä¼šå°†å…¶åˆ¤æ–­ä¸ºä¸€ä¸ªä¸å¥åº·èŠ‚ç‚¹ åç»­éœ€è¦ NHC èƒ½å¤Ÿè¯†åˆ«ç”± NPD ä¸ŠæŠ¥çš„ä¸åŒèŠ‚ç‚¹é—®é¢˜ï¼Œè¯†åˆ«èŠ‚ç‚¹ä¸åŒçš„ Condition Typeï¼Œæ¯”å¦‚ï¼šReadonlyFilesystemã€FDPressureã€KubeletProblemç­‰ç­‰ï¼Œé’ˆå¯¹æ€§åœ°è§¦å‘è¡¥æ•‘ NHC åˆ›å»º SNR æä¾›çš„è¡¥æ•‘æ¨¡æ¿ä¹‹åï¼Œä¼šè§¦å‘ SNR è¡¥æ•‘é€»è¾‘ ç›®å‰ SNR çš„è¡¥æ•‘ç­–ç•¥åªæœ‰ reboot èŠ‚ç‚¹ åç»­éœ€è¦æ ¹æ® NHC å‘é€çš„ä¸åŒçš„èŠ‚ç‚¹é—®é¢˜ï¼Œæ›´æœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œè¡¥æ•‘ è¡¥æ•‘æˆåŠŸåï¼ŒèŠ‚ç‚¹çŠ¶æ€å°†è¢«æ¢å¤ä¸ºæ­£å¸¸ï¼ŒNHC åˆ é™¤åˆ›å»ºçš„è¡¥æ•‘ CR å®ä¾‹ï¼Œå¹¶ç»§ç»­ç›‘æ§èŠ‚ç‚¹çŠ¶æ€ï¼Œå½¢æˆé—­ç¯ 2.2.3 ä¿®å¤è¿‡ç¨‹ä¸ç»“æœè®°å½•é—®é¢˜çš„å‘ç°ï¼škube-system å‘½åç©ºé—´ä¸‹æŸ¥çœ‹ NPD å¯¹åº” pod çš„æ—¥å¿—è®°å½•ï¼Œé€šè¿‡ node çš„ Eventã€Condition æŸ¥çœ‹ä¸ŠæŠ¥çš„ç»“æœ è§¦å‘ä¿®å¤ï¼šæŸ¥çœ‹ NHC manager æ—¥å¿—ï¼Œå¯çŸ¥é’ˆå¯¹å“ªä¸ªä¸å¥åº·èŠ‚ç‚¹ï¼Œåˆ›å»ºäº†ä»€ä¹ˆä¿®å¤æ¨¡æ¿ ä¿®å¤ç»“æœï¼šæŸ¥çœ‹ SNR manager çš„æ—¥å¿—ï¼Œå¯çŸ¥æ‰§è¡Œäº†ä»€ä¹ˆä¿®å¤ç­–ç•¥ï¼Œè°ƒåº¦äº†å“ªä¸ª ds æ¥åšçš„ä¿®å¤ï¼ŒæŸ¥çœ‹ node çš„ Eventã€Condition æˆ–è€…ç›¸åº”æœåŠ¡çš„çŠ¶æ€æ¥ç¡®å®šä¿®å¤æ˜¯å¦å®Œæˆ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#222-æ•´ä½“æµç¨‹"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 æ•´ä½“èŠ‚ç‚¹æ£€æŸ¥ã€ä¿®å¤æµç¨‹ 2.2.1 æ¦‚è§ˆ 2.2.2 æ•´ä½“æµç¨‹ NPD åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œå®ˆæŠ¤è¿›ç¨‹ï¼Œæ£€æµ‹å¹¶æŠ¥å‘ŠèŠ‚ç‚¹çš„å¥åº·çŠ¶å†µ NPD ç»„ä»¶æ£€æµ‹èŠ‚ç‚¹ä¸Šçš„æ•…éšœï¼Œå¦‚ Linux Kernel Hangã€å®¹å™¨è¿è¡Œæ—¶å¼‚å¸¸ã€æ–‡ä»¶æè¿°ç¬¦å¼‚å¸¸ç­‰ï¼Œå¹¶è½¬æ¢ä¸ºèŠ‚ç‚¹çš„äº‹ä»¶ï¼ˆEventï¼‰æˆ–è€… Conditionä¸ŠæŠ¥ç»™é›†ç¾¤ ç›‘æ§é¡¹ï¼šæ¯ä¸ª NPD åˆ›å»ºå­å®ˆæŠ¤è¿›ç¨‹ï¼Œç›‘è§†å¯¹åº”ç±»å‹çš„èŠ‚ç‚¹é—®é¢˜ï¼š SystemLogMonitorï¼šç”¨äºç›‘æ§ç³»ç»Ÿå’Œå†…æ ¸çš„æ—¥å¿—ï¼Œæ ¹æ®é¢„å®šä¹‰çš„è§„åˆ™æ¥æŠ¥å‘Šé—®é¢˜ã€æŒ‡æ ‡ã€‚æ”¯æŒåŸºäºæ–‡ä»¶çš„æ—¥å¿—ã€journaldã€kmsg SystemStatusMonitorï¼šä»ä¸é€šçš„ç³»ç»Ÿç»„ä»¶æ”¶é›†é¢„å®šä¹‰çš„ç›¸å…³å¥åº·æŒ‡æ ‡ï¼Œæ”¯æŒçš„ç»„ä»¶ï¼šcpuã€diskã€hostã€memory CuntomPluginMonitorï¼šè‡ªå®šä¹‰æ’ä»¶ HealthCheckerï¼šæ£€æŸ¥kubeletå’Œå®¹å™¨è¿è¡Œæ—¶çš„å¥åº·çŠ¶å†µ NPD æ”¯æŒè‡ªå®šä¹‰ç›‘æ§è„šæœ¬ï¼Œå¯è‡ªå®šä¹‰æ£€æµ‹æœŸæœ›å‘ç°çš„èŠ‚ç‚¹é—®é¢˜ æ¯ä¸ªç›‘æ§é¡¹é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹ã€æ‰©å±•è§„åˆ™ï¼Œe.g. { \"plugin\": \"kmsg\", \"logPath\": \"/dev/kmsg\", \"lookback\": \"5m\", \"bufferSize\": 10, \"source\": \"kernel-monitor\", \"metricsReporting\": true, \"conditions\": [ { \"type\": \"KernelDeadlock\", \"reason\": \"KernelHasNoDeadlock\", \"message\": \"kernel has no deadlock\" }, { \"type\": \"ReadonlyFilesystem\", \"reason\": \"FilesystemIsNotReadOnly\", \"message\": \"Filesystem is not read-only\" } ], \"rules\": [ { \"type\": \"temporary\", \"reason\": \"OOMKilling\", \"pattern\": \"Killed process \\\\d+ (.+) total-vm:\\\\d+kB, anon-rss:\\\\d+kB, file-rss:\\\\d+kB.*\" }, { \"type\": \"temporary\", \"reason\": \"TaskHung\", \"pattern\": \"task [\\\\S ]+:\\\\w+ blocked for more than \\\\w+ seconds\\\\.\" }, { \"type\": \"temporary\", \"reason\": \"UnregisterNetDevice\", \"pattern\": \"unregister_netdevice: waiting for \\\\w+ to become free. Usage count = \\\\d+\" }, ... ] } å®‰è£… NPD ä¹‹åï¼ŒèŠ‚ç‚¹ä¸­ä¼šæ·»åŠ ä»¥ä¸‹ Conditionsï¼š Condition Type é»˜è®¤å€¼ æè¿° ReadonlyFilesystem False æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦åªè¯» FDPressure False æŸ¥çœ‹ä¸»æœºçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„80% FrequentKubeletRestart False Kubelet æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ CorruptDockerOverlay2 False DockerImage æ˜¯å¦å­˜åœ¨é—®é¢˜ KubeletProblem False Kubelet service æ˜¯å¦ Running KernelDeadlock False å†…æ ¸æ˜¯å¦å­˜åœ¨æ­»é” FrequentDockerRestart False Docker æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ FrequentContainerdRestart False Containerd æ˜¯å¦åœ¨20Minå†…é‡å¯è¶…è¿‡5æ¬¡ DockerdProblem False Docker service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Containerdï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ContainerdProblem False Containerd service æ˜¯å¦ Runningï¼ˆè‹¥èŠ‚ç‚¹è¿è¡Œæ—¶ä¸º Dockerï¼Œåˆ™ä¸€ç›´ä¸º Falseï¼‰ ThreadPressure False ç³»ç»Ÿç›®å‰çº¿ç¨‹æ•°æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼çš„90% NetworkUnavailable False NTP service æ˜¯å¦ Running SerfFailed False åˆ†å¸ƒå¼æ£€æµ‹èŠ‚ç‚¹ç½‘ç»œå¥åº·çŠ¶æ€ å½“å‘ç°é—®é¢˜åï¼Œå°†ä»¥ NodeCondition å’Œ Event çš„å½¢å¼ä¸ŠæŠ¥ç»™ apiserver å‘ç°é—®é¢˜åï¼Œå‘ k8s apiserver æŠ¥å‘ŠèŠ‚ç‚¹é—®é¢˜ï¼šä¸´æ—¶é—®é¢˜æŠ¥å‘Šä¸º Eventï¼Œæ°¸ä¹…é—®é¢˜æŠ¥å‘Šä¸º NodeCondition é—®é¢˜ä¸ŠæŠ¥ä¹‹åï¼Œnode èŠ‚ç‚¹çŠ¶æ€å˜åŒ–ï¼ŒNHC æ ¹æ®ä¸å¥åº·èŠ‚ç‚¹çš„åˆ¤æ–­è§„åˆ™ NHC ç›®å‰åˆ¤æ–­èŠ‚ç‚¹ä¸å¥åº·çš„æ¡ä»¶åªé€šè¿‡èŠ‚ç‚¹çŠ¶æ€ä»¥åŠæŒç»­æ—¶é—´æ¥åˆ¤æ–­ NodeHealthCheck e.g. åˆ™å¦‚æœèŠ‚ç‚¹çŠ¶æ€ä¸ä¸º Ready çš„æŒç»­æ—¶é—´è¶…è¿‡ 300sï¼ŒNHC ä¼šå°†å…¶åˆ¤æ–­ä¸ºä¸€ä¸ªä¸å¥åº·èŠ‚ç‚¹ åç»­éœ€è¦ NHC èƒ½å¤Ÿè¯†åˆ«ç”± NPD ä¸ŠæŠ¥çš„ä¸åŒèŠ‚ç‚¹é—®é¢˜ï¼Œè¯†åˆ«èŠ‚ç‚¹ä¸åŒçš„ Condition Typeï¼Œæ¯”å¦‚ï¼šReadonlyFilesystemã€FDPressureã€KubeletProblemç­‰ç­‰ï¼Œé’ˆå¯¹æ€§åœ°è§¦å‘è¡¥æ•‘ NHC åˆ›å»º SNR æä¾›çš„è¡¥æ•‘æ¨¡æ¿ä¹‹åï¼Œä¼šè§¦å‘ SNR è¡¥æ•‘é€»è¾‘ ç›®å‰ SNR çš„è¡¥æ•‘ç­–ç•¥åªæœ‰ reboot èŠ‚ç‚¹ åç»­éœ€è¦æ ¹æ® NHC å‘é€çš„ä¸åŒçš„èŠ‚ç‚¹é—®é¢˜ï¼Œæ›´æœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œè¡¥æ•‘ è¡¥æ•‘æˆåŠŸåï¼ŒèŠ‚ç‚¹çŠ¶æ€å°†è¢«æ¢å¤ä¸ºæ­£å¸¸ï¼ŒNHC åˆ é™¤åˆ›å»ºçš„è¡¥æ•‘ CR å®ä¾‹ï¼Œå¹¶ç»§ç»­ç›‘æ§èŠ‚ç‚¹çŠ¶æ€ï¼Œå½¢æˆé—­ç¯ 2.2.3 ä¿®å¤è¿‡ç¨‹ä¸ç»“æœè®°å½•é—®é¢˜çš„å‘ç°ï¼škube-system å‘½åç©ºé—´ä¸‹æŸ¥çœ‹ NPD å¯¹åº” pod çš„æ—¥å¿—è®°å½•ï¼Œé€šè¿‡ node çš„ Eventã€Condition æŸ¥çœ‹ä¸ŠæŠ¥çš„ç»“æœ è§¦å‘ä¿®å¤ï¼šæŸ¥çœ‹ NHC manager æ—¥å¿—ï¼Œå¯çŸ¥é’ˆå¯¹å“ªä¸ªä¸å¥åº·èŠ‚ç‚¹ï¼Œåˆ›å»ºäº†ä»€ä¹ˆä¿®å¤æ¨¡æ¿ ä¿®å¤ç»“æœï¼šæŸ¥çœ‹ SNR manager çš„æ—¥å¿—ï¼Œå¯çŸ¥æ‰§è¡Œäº†ä»€ä¹ˆä¿®å¤ç­–ç•¥ï¼Œè°ƒåº¦äº†å“ªä¸ª ds æ¥åšçš„ä¿®å¤ï¼ŒæŸ¥çœ‹ node çš„ Eventã€Condition æˆ–è€…ç›¸åº”æœåŠ¡çš„çŠ¶æ€æ¥ç¡®å®šä¿®å¤æ˜¯å¦å®Œæˆ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#223-ä¿®å¤è¿‡ç¨‹ä¸ç»“æœè®°å½•"},{"categories":["åˆ†ç±»-box"],"content":" ä¸‰ã€å…³äºè¿­ä»£å‡çº§ å¯¹èŠ‚ç‚¹å‡ºç°çš„ä¸åŒé—®é¢˜åšé’ˆå¯¹æ€§è¡¥æ•‘ NPD æœ¬èº«æ”¯æŒå¯¹è®¸å¤šä¸åŒç±»å‹çš„é—®é¢˜è¿›è¡Œç›‘æ§ï¼Œå¹¶å°†å…¶ä¸ŠæŠ¥ç»™é›†ç¾¤ï¼Œä½† NHC ç›®å‰å¯¹ä¸å¥åº·èŠ‚ç‚¹çš„æ¡ä»¶åˆ¤æ–­è¿˜æ¯”è¾ƒå®½æ³›ï¼Œæ— æ³•é’ˆå¯¹èŠ‚ç‚¹å‡ºç°çš„ä¸åŒé—®é¢˜ï¼Œåšé’ˆå¯¹æ€§çš„è¡¥æ•‘ï¼Œåªæ˜¯ç®€å•å°†èŠ‚ç‚¹é‡å¯ï¼Œåç»­éœ€è¦å‡çº§ NHC ä»¥åŠ SNRï¼Œä»¥æ”¯æŒèƒ½å¤Ÿå¯¹èŠ‚ç‚¹å‡ºç°çš„é—®é¢˜é‡‡å–é’ˆå¯¹æ€§çš„æ‰‹æ®µåšä¿®å¤ æ§åˆ¶åŒä¸€æ—¶åˆ»ä¿®å¤çš„èŠ‚ç‚¹é¢ç§¯ éœ€è¦é˜²æ­¢åŒä¸€æ—¶åˆ»å¤§é¢ç§¯èŠ‚ç‚¹åŒæ—¶è§¦å‘ä¿®å¤çš„æƒ…å†µï¼ŒNHC éœ€è¦å¢åŠ é™åˆ¶ï¼ŒåŒä¸€æ—¶åˆ»åªå…è®¸è§„å®šæ•°é‡çš„èŠ‚ç‚¹è§¦å‘ä¿®å¤ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:3:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#ä¸‰å…³äºè¿­ä»£å‡çº§"},{"categories":["åˆ†ç±»-box"],"content":" *ã€æ–¹æ¡ˆæè¿°è¿™ä¸ªèŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆçš„èƒŒæ™¯å‘¢ï¼Œå°±æ˜¯æˆ‘ä»¬çš„é›†ç¾¤åœ¨è¿è¡Œæ—¶ï¼Œå¯èƒ½ä¼šå› ä¸ºè®¸å¤šåŸå› å¯¼è‡´ä¸å¯ç”¨ï¼Œåšè¿™ä¸ªèŠ‚ç‚¹å¥åº·æ£€æŸ¥çš„ç›®çš„å…¶å®å°±æ˜¯ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯å¯¹é—®é¢˜ç›‘æ§çš„ç²’åº¦æ›´ç»†ä¸€äº›ï¼Œä»¥åŠå¯¹é—®é¢˜çš„ååº”æ›´æå‰ä¸€äº›ï¼Œç°åœ¨ kubelet ä¼šç›‘æ§èŠ‚ç‚¹çš„å†…å­˜å‹åŠ›ã€ç£ç›˜å‹åŠ›ç­‰ç­‰ï¼Œç›‘æ§é¡¹è¿˜æ˜¯æ¯”è¾ƒå°‘ï¼Œæˆ‘ä»¬å¸Œæœ›å¼•å…¥ NPD æ¥ç›‘æ§æ›´å¤šèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œç›‘æ§æ›´å¤šæŒ‡æ ‡ï¼Œåƒæ–‡ä»¶ç³»ç»Ÿåªè¯»ï¼Œæ–‡ä»¶æè¿°ç¬¦æ•°é‡ï¼Œcontainerd æ˜¯ä¸æ˜¯åœ¨é¢‘ç¹å¯åŠ¨ä¹‹ç±»çš„ï¼Œåšåˆ°ç²’åº¦æ›´ç»†ä¸€äº›ï¼Œç„¶åååº”æ›´æå‰å°±æ˜¯å¸Œæœ›é€šè¿‡ç›‘æ§æ›´å¤šæŒ‡æ ‡ï¼Œæå‰æ„ŸçŸ¥èŠ‚ç‚¹çš„å‹åŠ›ï¼Œåœ¨èŠ‚ç‚¹å¼€å§‹é©±é€podä¹‹å‰å°±åšå‡ºç›¸åº”çš„æªæ–½ã€‚ ç„¶åå…·ä½“æ–¹æ¡ˆå¯ä»¥çœ‹ä¸‹ï¼Œä¸»è¦é‡‡ç”¨äº†NPDï¼Œç”¨æ¥åšèŠ‚ç‚¹å¥åº·æ£€æŸ¥ï¼Œç„¶å NHC å¯¹èŠ‚ç‚¹çŠ¶æ€ã€äº‹ä»¶åšç›‘å¬ï¼Œè§¦å‘ä¿®å¤ï¼ŒSNRç”¨æ¥åšå…·ä½“çš„ä¿®å¤ã€‚ NPDï¼š è¿™æ˜¯NPDè‡ªèº«æ”¯æŒçš„å‡ ä¸ªç›‘æ§ç±»å‹ï¼Œé€šè¿‡é…ç½®æ–‡ä»¶çš„å½¢å¼å¢åŠ ã€ä¿®æ”¹ç›‘æ§çš„è§„åˆ™ NHCï¼šåœ¨èŠ‚ç‚¹çŠ¶æ€å‘ç”Ÿå˜åŒ–ä¹‹åï¼ŒNHC ä¼šæ ¹æ®é…ç½®çš„è§„åˆ™æ¥åˆ¤æ–­èŠ‚ç‚¹æ˜¯ä¸æ˜¯ä¸å¥åº·çš„ ","date":"2023-05-16","objectID":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/:4:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"è®¡ç®—èŠ‚ç‚¹å¥åº·æ£€æŸ¥æ–¹æ¡ˆ","uri":"/202305161521-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%96%B9%E6%A1%88/#æ–¹æ¡ˆæè¿°"},{"categories":["åˆ†ç±»-box"],"content":" ä¸€ã€æ–¹æ¡ˆèƒŒæ™¯åœ¨ CeaKE ç¯å¢ƒä¸­è®¸å¤šåº”ç”¨ä¼šäº§ç”Ÿæ•°æ®ï¼Œé€šè¿‡åº”ç”¨å¤‡ä»½ï¼Œå¯ä»¥å°†æœŸæœ›å¤‡ä»½çš„ k8s èµ„æºã€PV è¿›è¡Œå¤‡ä»½ã€æ¢å¤ç­‰æ“ä½œï¼Œé˜²æ­¢æ•°æ®çš„ä¸¢å¤± ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#ä¸€æ–¹æ¡ˆèƒŒæ™¯"},{"categories":["åˆ†ç±»-box"],"content":" äºŒã€å¦‚ä½•å®ç°","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#äºŒå¦‚ä½•å®ç°"},{"categories":["åˆ†ç±»-box"],"content":" 2.1 ç›¸å…³æŠ€æœ¯ Velero å®˜æ–¹æ–‡æ¡£ï¼šhttps://velero.io/docs/v1.9/index.html Velero ä½œä¸ºæä¾›å¤‡ä»½å’Œæ¢å¤ Kubernetes é›†ç¾¤èµ„æºå’ŒæŒä¹…å·èƒ½åŠ›çš„å·¥å…·ï¼Œæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š å¤‡ä»½é›†ç¾¤ï¼Œå¹¶åœ¨ä¸¢å¤±æ—¶æ¢å¤ å°†é›†ç¾¤è¿ç§»åˆ°å…¶ä»–é›†ç¾¤ â€¦ æŒä¹…å·å¤‡ä»½çš„ä¸¤ç§æ–¹å¼ï¼š å¿«ç…§ï¼ˆæ¡ä»¶ï¼šå­˜å‚¨åç«¯éœ€è¦å…·å¤‡å¿«ç…§APIï¼‰ Resticï¼ˆä¸æ”¯æŒ hostPathï¼‰ oadp-operator å¼€æºä»£ç ï¼šhttps://github.com/openshift/oadp-operator å‚è€ƒæ–‡æ¡£ï¼šhttps://access.redhat.com/documentation/zh-cn/openshift_container_platform/4.9/html/backup_and_restore/index è¯¥ operator å®ç°åœ¨é›†ç¾¤ä¸­å®‰è£… Veleroï¼Œå¹¶æä¾› API ç»™ç”¨æˆ·å»å¤‡ä»½ä¸æ¢å¤åº”ç”¨ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:2:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#21-ç›¸å…³æŠ€æœ¯"},{"categories":["åˆ†ç±»-box"],"content":" 2.2 æ•´ä½“æ¦‚è§ˆ å¤§è‡´æµç¨‹è¯´æ˜ï¼š å®‰è£… oadp-operator ç”¨æˆ·é€šè¿‡ OperatorHub å®‰è£… oadp-operator å®‰è£… Velero oadp-operator å®‰è£…æˆåŠŸåï¼Œåˆ›å»º DPAï¼ˆDataProtectionApplicationï¼‰å®ä¾‹ï¼Œè§¦å‘ oadp-operator å®‰è£… Velero å‡è®¾æˆ‘æ‹¥æœ‰ä¸€ä¸ªé›†ç¾¤å¤–çš„ Minioï¼Œæˆ‘æƒ³å°†æ•°æ®å¤‡ä»½åˆ°è¯¥åç«¯ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªå¸¦æœ‰ Minio è´¦å·å¯†ç çš„ Secret DPA æ ·ä¾‹ï¼š apiVersion: oadp.ccos.io/v1alpha1 kind: DataProtectionApplication metadata: name: velero-sample namespace: ccos-adp spec: backupLocations: - velero: config: insecureSkipTLSVerify: 'true' profile: default region: minio s3ForcePathStyle: 'true' s3Url: 'http://10.253.11.215:9000' credential: key: cloud name: cloud-credentials default: true objectStorage: bucket: velero prefix: single provider: aws configuration: restic: enable: true velero: defaultPlugins: - aws - csi - ccos DPA åˆ›å»ºæˆåŠŸåï¼Œè§¦å‘ oadp-operator åˆ›å»º deployment/velero ä»¥åŠ daemonset/resticï¼ˆdpa é…ç½® restic.enable ä¸º true æ‰åˆ›å»ºï¼‰ å¤‡ä»½ Velero å®‰è£…æˆåŠŸåï¼Œç”¨æˆ·åˆ›å»º Backup å®ä¾‹ï¼ŒæŒ‡å®š BSLï¼ˆBackupStorageLocationï¼‰ä»¥åŠå…¶ä»–ç›¸å…³å‚æ•°ï¼Œè§¦å‘ Velero å¤‡ä»½é€»è¾‘ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#22-æ•´ä½“æ¦‚è§ˆ"},{"categories":["åˆ†ç±»-box"],"content":" ä¸‰ã€å®ç°åŠŸèƒ½ï¼ˆä¸åŒå¤‡ä»½åœºæ™¯å®è·µï¼‰","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#ä¸‰å®ç°åŠŸèƒ½ä¸åŒå¤‡ä»½åœºæ™¯å®è·µ"},{"categories":["åˆ†ç±»-box"],"content":" 3.1 åº”ç”¨å¤‡ä»½ å‡†å¤‡å·¥ä½œæ¨¡æ‹Ÿä¸€ä¸ª mysql åº”ç”¨ apiVersion: v1 kind: Namespace metadata: name: mysql --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: local-storage-pvc namespace: mysql spec: accessModes: - ReadWriteOnce storageClassName: ccos-hostpath-data-stor resources: requests: storage: 1Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: mysql-local-storage namespace: mysql labels: app: mysql-local-storage spec: selector: matchLabels: app: mysql-local-storage template: metadata: labels: app: mysql-local-storage spec: containers: - image: image.cestc.cn/ceake/mysql:5.6 name: mysql command: [\"sleep\", \"1d\"] env: - name: MYSQL_ROOT_PASSWORD value: admin123 volumeMounts: - name: mysql-persistent-storage mountPath: /data volumes: - name: mysql-persistent-storage persistentVolumeClaim: claimName: local-storage-pvc 3.1.1 ï¼ˆé›†ç¾¤å†…ï¼‰å¤‡ä»½ä¸æ¢å¤ å¾€æŒ‚è½½çš„ç›®å½•é‡Œé¢å†™å…¥æ•°æ® åˆ›å»º Backupï¼Œå¯¹ mysql çš„å‘½åç©ºé—´è¿›è¡Œå¤‡ä»½ åˆ é™¤ mysql å‘½åç©ºé—´ä¸‹çš„ç›¸å…³èµ„æº æŸ¥çœ‹ Minio åç«¯å¯¹åº”çš„å¤‡ä»½æ•°æ® k8s èµ„æºæ•°æ®ï¼š pv æ•°æ®ï¼š åˆ›å»º Restore è¿›è¡Œæ¢å¤æ“ä½œ æŒ‡å®šè¦æ¢å¤çš„å¤‡ä»½åç§° æ¢å¤ç»“æœï¼š 3.1.2 å®šæ—¶å¤‡ä»½ä»»åŠ¡ åˆ›å»º Scheduleï¼ŒæŒ‡å®šæ¯å¤© 10:40 è§¦å‘ä¸€ä¸ªå¯¹äº mysql å‘½åç©ºé—´çš„å¤‡ä»½ 10:40 è§¦å‘å¤‡ä»½ï¼š 3.1.3 ï¼ˆè·¨é›†ç¾¤ï¼‰å¤‡ä»½ä¸æ¢å¤ æ–°é›†ç¾¤åˆ›å»ºä¸æºé›†ç¾¤ç›¸åŒçš„ DPAï¼ŒVelero ä¼šå¯¹åŒæ­¥ Backup èµ„æº èµ„æºåŒæ­¥å®Œæˆåï¼Œåˆ›å»º Restore è¿›è¡Œæ¢å¤ é—®é¢˜ 1ï¼šï¼ˆå·²è§£å†³ï¼‰ æŸ¥çœ‹ kube-ovn-controller ç›¸å…³æ—¥å¿—å‘ç° ip å·²è¢«å ç”¨ ï¼ˆ192.168.0.65 ä¸ºå¤‡ä»½çš„æ—¶å€™ pod çš„ ipï¼‰ åˆ é™¤å¯¹åº” ip çš„ pod ä¹‹åé‡æ–°è¿›è¡Œæ¢å¤æ“ä½œï¼Œä»æœªæˆåŠŸâ€¦ æŸ¥çœ‹æ–°çš„æŠ¥é”™ï¼š restic æ‰¾ä¸åˆ° idï¼ˆå¦‚æœè¿™ä¸ªé›†ç¾¤ä¹‹å‰åˆ›å»ºè¿‡ DPAï¼Œéœ€è¦æ£€æŸ¥ä¸€ä¸‹ ResticRepository é…ç½®æ˜¯å¦è·Ÿæºé›†ç¾¤çš„ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œéœ€è¦æ‰‹åŠ¨åŒæ­¥ï¼‰ æ¢å¤æˆåŠŸ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#31-åº”ç”¨å¤‡ä»½"},{"categories":["åˆ†ç±»-box"],"content":" 3.1 åº”ç”¨å¤‡ä»½ å‡†å¤‡å·¥ä½œæ¨¡æ‹Ÿä¸€ä¸ª mysql åº”ç”¨ apiVersion: v1 kind: Namespace metadata: name: mysql --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: local-storage-pvc namespace: mysql spec: accessModes: - ReadWriteOnce storageClassName: ccos-hostpath-data-stor resources: requests: storage: 1Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: mysql-local-storage namespace: mysql labels: app: mysql-local-storage spec: selector: matchLabels: app: mysql-local-storage template: metadata: labels: app: mysql-local-storage spec: containers: - image: image.cestc.cn/ceake/mysql:5.6 name: mysql command: [\"sleep\", \"1d\"] env: - name: MYSQL_ROOT_PASSWORD value: admin123 volumeMounts: - name: mysql-persistent-storage mountPath: /data volumes: - name: mysql-persistent-storage persistentVolumeClaim: claimName: local-storage-pvc 3.1.1 ï¼ˆé›†ç¾¤å†…ï¼‰å¤‡ä»½ä¸æ¢å¤ å¾€æŒ‚è½½çš„ç›®å½•é‡Œé¢å†™å…¥æ•°æ® åˆ›å»º Backupï¼Œå¯¹ mysql çš„å‘½åç©ºé—´è¿›è¡Œå¤‡ä»½ åˆ é™¤ mysql å‘½åç©ºé—´ä¸‹çš„ç›¸å…³èµ„æº æŸ¥çœ‹ Minio åç«¯å¯¹åº”çš„å¤‡ä»½æ•°æ® k8s èµ„æºæ•°æ®ï¼š pv æ•°æ®ï¼š åˆ›å»º Restore è¿›è¡Œæ¢å¤æ“ä½œ æŒ‡å®šè¦æ¢å¤çš„å¤‡ä»½åç§° æ¢å¤ç»“æœï¼š 3.1.2 å®šæ—¶å¤‡ä»½ä»»åŠ¡ åˆ›å»º Scheduleï¼ŒæŒ‡å®šæ¯å¤© 10:40 è§¦å‘ä¸€ä¸ªå¯¹äº mysql å‘½åç©ºé—´çš„å¤‡ä»½ 10:40 è§¦å‘å¤‡ä»½ï¼š 3.1.3 ï¼ˆè·¨é›†ç¾¤ï¼‰å¤‡ä»½ä¸æ¢å¤ æ–°é›†ç¾¤åˆ›å»ºä¸æºé›†ç¾¤ç›¸åŒçš„ DPAï¼ŒVelero ä¼šå¯¹åŒæ­¥ Backup èµ„æº èµ„æºåŒæ­¥å®Œæˆåï¼Œåˆ›å»º Restore è¿›è¡Œæ¢å¤ é—®é¢˜ 1ï¼šï¼ˆå·²è§£å†³ï¼‰ æŸ¥çœ‹ kube-ovn-controller ç›¸å…³æ—¥å¿—å‘ç° ip å·²è¢«å ç”¨ ï¼ˆ192.168.0.65 ä¸ºå¤‡ä»½çš„æ—¶å€™ pod çš„ ipï¼‰ åˆ é™¤å¯¹åº” ip çš„ pod ä¹‹åé‡æ–°è¿›è¡Œæ¢å¤æ“ä½œï¼Œä»æœªæˆåŠŸâ€¦ æŸ¥çœ‹æ–°çš„æŠ¥é”™ï¼š restic æ‰¾ä¸åˆ° idï¼ˆå¦‚æœè¿™ä¸ªé›†ç¾¤ä¹‹å‰åˆ›å»ºè¿‡ DPAï¼Œéœ€è¦æ£€æŸ¥ä¸€ä¸‹ ResticRepository é…ç½®æ˜¯å¦è·Ÿæºé›†ç¾¤çš„ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œéœ€è¦æ‰‹åŠ¨åŒæ­¥ï¼‰ æ¢å¤æˆåŠŸ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#å‡†å¤‡å·¥ä½œ"},{"categories":["åˆ†ç±»-box"],"content":" 3.1 åº”ç”¨å¤‡ä»½ å‡†å¤‡å·¥ä½œæ¨¡æ‹Ÿä¸€ä¸ª mysql åº”ç”¨ apiVersion: v1 kind: Namespace metadata: name: mysql --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: local-storage-pvc namespace: mysql spec: accessModes: - ReadWriteOnce storageClassName: ccos-hostpath-data-stor resources: requests: storage: 1Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: mysql-local-storage namespace: mysql labels: app: mysql-local-storage spec: selector: matchLabels: app: mysql-local-storage template: metadata: labels: app: mysql-local-storage spec: containers: - image: image.cestc.cn/ceake/mysql:5.6 name: mysql command: [\"sleep\", \"1d\"] env: - name: MYSQL_ROOT_PASSWORD value: admin123 volumeMounts: - name: mysql-persistent-storage mountPath: /data volumes: - name: mysql-persistent-storage persistentVolumeClaim: claimName: local-storage-pvc 3.1.1 ï¼ˆé›†ç¾¤å†…ï¼‰å¤‡ä»½ä¸æ¢å¤ å¾€æŒ‚è½½çš„ç›®å½•é‡Œé¢å†™å…¥æ•°æ® åˆ›å»º Backupï¼Œå¯¹ mysql çš„å‘½åç©ºé—´è¿›è¡Œå¤‡ä»½ åˆ é™¤ mysql å‘½åç©ºé—´ä¸‹çš„ç›¸å…³èµ„æº æŸ¥çœ‹ Minio åç«¯å¯¹åº”çš„å¤‡ä»½æ•°æ® k8s èµ„æºæ•°æ®ï¼š pv æ•°æ®ï¼š åˆ›å»º Restore è¿›è¡Œæ¢å¤æ“ä½œ æŒ‡å®šè¦æ¢å¤çš„å¤‡ä»½åç§° æ¢å¤ç»“æœï¼š 3.1.2 å®šæ—¶å¤‡ä»½ä»»åŠ¡ åˆ›å»º Scheduleï¼ŒæŒ‡å®šæ¯å¤© 10:40 è§¦å‘ä¸€ä¸ªå¯¹äº mysql å‘½åç©ºé—´çš„å¤‡ä»½ 10:40 è§¦å‘å¤‡ä»½ï¼š 3.1.3 ï¼ˆè·¨é›†ç¾¤ï¼‰å¤‡ä»½ä¸æ¢å¤ æ–°é›†ç¾¤åˆ›å»ºä¸æºé›†ç¾¤ç›¸åŒçš„ DPAï¼ŒVelero ä¼šå¯¹åŒæ­¥ Backup èµ„æº èµ„æºåŒæ­¥å®Œæˆåï¼Œåˆ›å»º Restore è¿›è¡Œæ¢å¤ é—®é¢˜ 1ï¼šï¼ˆå·²è§£å†³ï¼‰ æŸ¥çœ‹ kube-ovn-controller ç›¸å…³æ—¥å¿—å‘ç° ip å·²è¢«å ç”¨ ï¼ˆ192.168.0.65 ä¸ºå¤‡ä»½çš„æ—¶å€™ pod çš„ ipï¼‰ åˆ é™¤å¯¹åº” ip çš„ pod ä¹‹åé‡æ–°è¿›è¡Œæ¢å¤æ“ä½œï¼Œä»æœªæˆåŠŸâ€¦ æŸ¥çœ‹æ–°çš„æŠ¥é”™ï¼š restic æ‰¾ä¸åˆ° idï¼ˆå¦‚æœè¿™ä¸ªé›†ç¾¤ä¹‹å‰åˆ›å»ºè¿‡ DPAï¼Œéœ€è¦æ£€æŸ¥ä¸€ä¸‹ ResticRepository é…ç½®æ˜¯å¦è·Ÿæºé›†ç¾¤çš„ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œéœ€è¦æ‰‹åŠ¨åŒæ­¥ï¼‰ æ¢å¤æˆåŠŸ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#311-é›†ç¾¤å†…å¤‡ä»½ä¸æ¢å¤"},{"categories":["åˆ†ç±»-box"],"content":" 3.1 åº”ç”¨å¤‡ä»½ å‡†å¤‡å·¥ä½œæ¨¡æ‹Ÿä¸€ä¸ª mysql åº”ç”¨ apiVersion: v1 kind: Namespace metadata: name: mysql --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: local-storage-pvc namespace: mysql spec: accessModes: - ReadWriteOnce storageClassName: ccos-hostpath-data-stor resources: requests: storage: 1Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: mysql-local-storage namespace: mysql labels: app: mysql-local-storage spec: selector: matchLabels: app: mysql-local-storage template: metadata: labels: app: mysql-local-storage spec: containers: - image: image.cestc.cn/ceake/mysql:5.6 name: mysql command: [\"sleep\", \"1d\"] env: - name: MYSQL_ROOT_PASSWORD value: admin123 volumeMounts: - name: mysql-persistent-storage mountPath: /data volumes: - name: mysql-persistent-storage persistentVolumeClaim: claimName: local-storage-pvc 3.1.1 ï¼ˆé›†ç¾¤å†…ï¼‰å¤‡ä»½ä¸æ¢å¤ å¾€æŒ‚è½½çš„ç›®å½•é‡Œé¢å†™å…¥æ•°æ® åˆ›å»º Backupï¼Œå¯¹ mysql çš„å‘½åç©ºé—´è¿›è¡Œå¤‡ä»½ åˆ é™¤ mysql å‘½åç©ºé—´ä¸‹çš„ç›¸å…³èµ„æº æŸ¥çœ‹ Minio åç«¯å¯¹åº”çš„å¤‡ä»½æ•°æ® k8s èµ„æºæ•°æ®ï¼š pv æ•°æ®ï¼š åˆ›å»º Restore è¿›è¡Œæ¢å¤æ“ä½œ æŒ‡å®šè¦æ¢å¤çš„å¤‡ä»½åç§° æ¢å¤ç»“æœï¼š 3.1.2 å®šæ—¶å¤‡ä»½ä»»åŠ¡ åˆ›å»º Scheduleï¼ŒæŒ‡å®šæ¯å¤© 10:40 è§¦å‘ä¸€ä¸ªå¯¹äº mysql å‘½åç©ºé—´çš„å¤‡ä»½ 10:40 è§¦å‘å¤‡ä»½ï¼š 3.1.3 ï¼ˆè·¨é›†ç¾¤ï¼‰å¤‡ä»½ä¸æ¢å¤ æ–°é›†ç¾¤åˆ›å»ºä¸æºé›†ç¾¤ç›¸åŒçš„ DPAï¼ŒVelero ä¼šå¯¹åŒæ­¥ Backup èµ„æº èµ„æºåŒæ­¥å®Œæˆåï¼Œåˆ›å»º Restore è¿›è¡Œæ¢å¤ é—®é¢˜ 1ï¼šï¼ˆå·²è§£å†³ï¼‰ æŸ¥çœ‹ kube-ovn-controller ç›¸å…³æ—¥å¿—å‘ç° ip å·²è¢«å ç”¨ ï¼ˆ192.168.0.65 ä¸ºå¤‡ä»½çš„æ—¶å€™ pod çš„ ipï¼‰ åˆ é™¤å¯¹åº” ip çš„ pod ä¹‹åé‡æ–°è¿›è¡Œæ¢å¤æ“ä½œï¼Œä»æœªæˆåŠŸâ€¦ æŸ¥çœ‹æ–°çš„æŠ¥é”™ï¼š restic æ‰¾ä¸åˆ° idï¼ˆå¦‚æœè¿™ä¸ªé›†ç¾¤ä¹‹å‰åˆ›å»ºè¿‡ DPAï¼Œéœ€è¦æ£€æŸ¥ä¸€ä¸‹ ResticRepository é…ç½®æ˜¯å¦è·Ÿæºé›†ç¾¤çš„ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œéœ€è¦æ‰‹åŠ¨åŒæ­¥ï¼‰ æ¢å¤æˆåŠŸ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#312-å®šæ—¶å¤‡ä»½ä»»åŠ¡"},{"categories":["åˆ†ç±»-box"],"content":" 3.1 åº”ç”¨å¤‡ä»½ å‡†å¤‡å·¥ä½œæ¨¡æ‹Ÿä¸€ä¸ª mysql åº”ç”¨ apiVersion: v1 kind: Namespace metadata: name: mysql --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: local-storage-pvc namespace: mysql spec: accessModes: - ReadWriteOnce storageClassName: ccos-hostpath-data-stor resources: requests: storage: 1Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: mysql-local-storage namespace: mysql labels: app: mysql-local-storage spec: selector: matchLabels: app: mysql-local-storage template: metadata: labels: app: mysql-local-storage spec: containers: - image: image.cestc.cn/ceake/mysql:5.6 name: mysql command: [\"sleep\", \"1d\"] env: - name: MYSQL_ROOT_PASSWORD value: admin123 volumeMounts: - name: mysql-persistent-storage mountPath: /data volumes: - name: mysql-persistent-storage persistentVolumeClaim: claimName: local-storage-pvc 3.1.1 ï¼ˆé›†ç¾¤å†…ï¼‰å¤‡ä»½ä¸æ¢å¤ å¾€æŒ‚è½½çš„ç›®å½•é‡Œé¢å†™å…¥æ•°æ® åˆ›å»º Backupï¼Œå¯¹ mysql çš„å‘½åç©ºé—´è¿›è¡Œå¤‡ä»½ åˆ é™¤ mysql å‘½åç©ºé—´ä¸‹çš„ç›¸å…³èµ„æº æŸ¥çœ‹ Minio åç«¯å¯¹åº”çš„å¤‡ä»½æ•°æ® k8s èµ„æºæ•°æ®ï¼š pv æ•°æ®ï¼š åˆ›å»º Restore è¿›è¡Œæ¢å¤æ“ä½œ æŒ‡å®šè¦æ¢å¤çš„å¤‡ä»½åç§° æ¢å¤ç»“æœï¼š 3.1.2 å®šæ—¶å¤‡ä»½ä»»åŠ¡ åˆ›å»º Scheduleï¼ŒæŒ‡å®šæ¯å¤© 10:40 è§¦å‘ä¸€ä¸ªå¯¹äº mysql å‘½åç©ºé—´çš„å¤‡ä»½ 10:40 è§¦å‘å¤‡ä»½ï¼š 3.1.3 ï¼ˆè·¨é›†ç¾¤ï¼‰å¤‡ä»½ä¸æ¢å¤ æ–°é›†ç¾¤åˆ›å»ºä¸æºé›†ç¾¤ç›¸åŒçš„ DPAï¼ŒVelero ä¼šå¯¹åŒæ­¥ Backup èµ„æº èµ„æºåŒæ­¥å®Œæˆåï¼Œåˆ›å»º Restore è¿›è¡Œæ¢å¤ é—®é¢˜ 1ï¼šï¼ˆå·²è§£å†³ï¼‰ æŸ¥çœ‹ kube-ovn-controller ç›¸å…³æ—¥å¿—å‘ç° ip å·²è¢«å ç”¨ ï¼ˆ192.168.0.65 ä¸ºå¤‡ä»½çš„æ—¶å€™ pod çš„ ipï¼‰ åˆ é™¤å¯¹åº” ip çš„ pod ä¹‹åé‡æ–°è¿›è¡Œæ¢å¤æ“ä½œï¼Œä»æœªæˆåŠŸâ€¦ æŸ¥çœ‹æ–°çš„æŠ¥é”™ï¼š restic æ‰¾ä¸åˆ° idï¼ˆå¦‚æœè¿™ä¸ªé›†ç¾¤ä¹‹å‰åˆ›å»ºè¿‡ DPAï¼Œéœ€è¦æ£€æŸ¥ä¸€ä¸‹ ResticRepository é…ç½®æ˜¯å¦è·Ÿæºé›†ç¾¤çš„ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œéœ€è¦æ‰‹åŠ¨åŒæ­¥ï¼‰ æ¢å¤æˆåŠŸ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#313-è·¨é›†ç¾¤å¤‡ä»½ä¸æ¢å¤"},{"categories":["åˆ†ç±»-box"],"content":" 3.2 é›†ç¾¤å¤‡ä»½ï¼ˆæ— æ³•ä½¿ç”¨ velero å®ç°ï¼‰ å¤‡ä»½çš„å¯¹è±¡ï¼Ÿ etcdï¼ˆå¤‡ä»½ä¹‹åçš„æ–‡ä»¶ï¼šetcdå¿«ç…§ã€é™æ€podèµ„æºå‹ç¼©åŒ…ï¼‰ æœ‰ä»€ä¹ˆæ ·é›†ç¾¤åæ‰çš„åœºæ™¯ï¼Ÿ etcdå¼‚å¸¸ã€kube-apiserverå¼‚å¸¸ç­‰ç­‰ ç‰©ç†å¤‡ä»½ \u0026 é€»è¾‘å¤‡ä»½ ç‰©ç†å¤‡ä»½ï¼šetcd å¤‡ä»½ é€»è¾‘å¤‡ä»½ï¼šåŸºäº velero çš„å¤‡ä»½ 3.2.1 velero ä¸ºä»€ä¹ˆæ— æ³•åšé›†ç¾¤å¤‡ä»½ï¼Ÿ åœ¨é›†ç¾¤ä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œvelero åº”ç”¨ä¹Ÿæ— æ³•åœ¨é›†ç¾¤ä¸­ä½¿ç”¨ï¼Œæ— æ³•åšæ¢å¤æ“ä½œ etcd çš„æ•°æ®ä½¿ç”¨ hostPath æ–¹å¼æŒ‚è½½åˆ° etcd podï¼Œvelero ä¸æ”¯æŒ hostPath å¤‡ä»½ï¼Œæ— æ³•å¤‡ä»½æ•°æ®ï¼Œåªèƒ½å¤‡ä»½ yaml èµ„æº 3.2.2 *å®˜æ–¹ä½¿ç”¨çš„å¤‡ä»½æ–¹å¼å®è·µï¼ˆingâ€¦ï¼‰ æ‰§è¡Œé›†ç¾¤å¤‡ä»½è„šæœ¬ sh /usr/local/bin/cluster-backup.sh \u003cå¤‡ä»½ç›®å½•\u003e [root@guxsve0ry7y4fhl ~]# sh /usr/local/bin/cluster-backup.sh /root/bak found latest kube-apiserver: /etc/kubernetes/static-pod-resources/kube-apiserver-pod-15 found latest kube-controller-manager: /etc/kubernetes/static-pod-resources/kube-controller-manager-pod-7 found latest kube-scheduler: /etc/kubernetes/static-pod-resources/kube-scheduler-pod-6 found latest etcd: /etc/kubernetes/static-pod-resources/etcd-pod-2 e714891717a1c13ce92256f0699c1918d84f696fe0491afc389f01ee3fa9f18c etcdctl version: 3.5.0 API version: 3.5 {\"level\":\"info\",\"ts\":1661246888.927277,\"caller\":\"snapshot/v3_snapshot.go:68\",\"msg\":\"created temporary db file\",\"path\":\"/root/bak/snapshot_2022-08-23_172803.db.part\"} {\"level\":\"info\",\"ts\":1661246888.9341154,\"logger\":\"client\",\"caller\":\"v3/maintenance.go:211\",\"msg\":\"opened snapshot stream; downloading\"} {\"level\":\"info\",\"ts\":1661246888.9348633,\"caller\":\"snapshot/v3_snapshot.go:76\",\"msg\":\"fetching snapshot\",\"endpoint\":\"https://10.253.10.107:2379\"} {\"level\":\"info\",\"ts\":1661246891.0776105,\"logger\":\"client\",\"caller\":\"v3/maintenance.go:219\",\"msg\":\"completed snapshot read; closing\"} {\"level\":\"info\",\"ts\":1661246894.7033532,\"caller\":\"snapshot/v3_snapshot.go:91\",\"msg\":\"fetched snapshot\",\"endpoint\":\"https://10.253.10.107:2379\",\"size\":\"332 MB\",\"took\":\"5 seconds ago\"} {\"level\":\"info\",\"ts\":1661246894.7034357,\"caller\":\"snapshot/v3_snapshot.go:100\",\"msg\":\"saved\",\"path\":\"/root/bak/snapshot_2022-08-23_172803.db\"} Snapshot saved at /root/bak/snapshot_2022-08-23_172803.db Deprecated: Use `etcdutl snapshot status` instead. {\"hash\":1726260631,\"revision\":43288532,\"totalKey\":27994,\"totalSize\":332025856} snapshot db and kube resources are successfully saved to /root/bak ç”Ÿæˆå¤‡ä»½æ–‡ä»¶ï¼š [root@guxsve0ry7y4fhl ~]# ll /root/bak/ total 324312 -rw-------. 1 root root 332025888 Aug 23 17:28 snapshot_2022-08-23_172803.db # etcd å¿«ç…§ -rw-------. 1 root root 63022 Aug 23 17:28 static_kuberesources_2022-08-23_172803.tar.gz # é™æ€ pod çš„èµ„æº æ¨¡æ‹Ÿé›†ç¾¤å‡ºé—®é¢˜çš„æƒ…å†µ æ‰§è¡Œæ¢å¤è„šæœ¬æ¢å¤é›†ç¾¤ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#32-é›†ç¾¤å¤‡ä»½æ— æ³•ä½¿ç”¨-velero-å®ç°"},{"categories":["åˆ†ç±»-box"],"content":" 3.2 é›†ç¾¤å¤‡ä»½ï¼ˆæ— æ³•ä½¿ç”¨ velero å®ç°ï¼‰ å¤‡ä»½çš„å¯¹è±¡ï¼Ÿ etcdï¼ˆå¤‡ä»½ä¹‹åçš„æ–‡ä»¶ï¼šetcdå¿«ç…§ã€é™æ€podèµ„æºå‹ç¼©åŒ…ï¼‰ æœ‰ä»€ä¹ˆæ ·é›†ç¾¤åæ‰çš„åœºæ™¯ï¼Ÿ etcdå¼‚å¸¸ã€kube-apiserverå¼‚å¸¸ç­‰ç­‰ ç‰©ç†å¤‡ä»½ \u0026 é€»è¾‘å¤‡ä»½ ç‰©ç†å¤‡ä»½ï¼šetcd å¤‡ä»½ é€»è¾‘å¤‡ä»½ï¼šåŸºäº velero çš„å¤‡ä»½ 3.2.1 velero ä¸ºä»€ä¹ˆæ— æ³•åšé›†ç¾¤å¤‡ä»½ï¼Ÿ åœ¨é›†ç¾¤ä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œvelero åº”ç”¨ä¹Ÿæ— æ³•åœ¨é›†ç¾¤ä¸­ä½¿ç”¨ï¼Œæ— æ³•åšæ¢å¤æ“ä½œ etcd çš„æ•°æ®ä½¿ç”¨ hostPath æ–¹å¼æŒ‚è½½åˆ° etcd podï¼Œvelero ä¸æ”¯æŒ hostPath å¤‡ä»½ï¼Œæ— æ³•å¤‡ä»½æ•°æ®ï¼Œåªèƒ½å¤‡ä»½ yaml èµ„æº 3.2.2 *å®˜æ–¹ä½¿ç”¨çš„å¤‡ä»½æ–¹å¼å®è·µï¼ˆingâ€¦ï¼‰ æ‰§è¡Œé›†ç¾¤å¤‡ä»½è„šæœ¬ sh /usr/local/bin/cluster-backup.sh \u003cå¤‡ä»½ç›®å½•\u003e [root@guxsve0ry7y4fhl ~]# sh /usr/local/bin/cluster-backup.sh /root/bak found latest kube-apiserver: /etc/kubernetes/static-pod-resources/kube-apiserver-pod-15 found latest kube-controller-manager: /etc/kubernetes/static-pod-resources/kube-controller-manager-pod-7 found latest kube-scheduler: /etc/kubernetes/static-pod-resources/kube-scheduler-pod-6 found latest etcd: /etc/kubernetes/static-pod-resources/etcd-pod-2 e714891717a1c13ce92256f0699c1918d84f696fe0491afc389f01ee3fa9f18c etcdctl version: 3.5.0 API version: 3.5 {\"level\":\"info\",\"ts\":1661246888.927277,\"caller\":\"snapshot/v3_snapshot.go:68\",\"msg\":\"created temporary db file\",\"path\":\"/root/bak/snapshot_2022-08-23_172803.db.part\"} {\"level\":\"info\",\"ts\":1661246888.9341154,\"logger\":\"client\",\"caller\":\"v3/maintenance.go:211\",\"msg\":\"opened snapshot stream; downloading\"} {\"level\":\"info\",\"ts\":1661246888.9348633,\"caller\":\"snapshot/v3_snapshot.go:76\",\"msg\":\"fetching snapshot\",\"endpoint\":\"https://10.253.10.107:2379\"} {\"level\":\"info\",\"ts\":1661246891.0776105,\"logger\":\"client\",\"caller\":\"v3/maintenance.go:219\",\"msg\":\"completed snapshot read; closing\"} {\"level\":\"info\",\"ts\":1661246894.7033532,\"caller\":\"snapshot/v3_snapshot.go:91\",\"msg\":\"fetched snapshot\",\"endpoint\":\"https://10.253.10.107:2379\",\"size\":\"332 MB\",\"took\":\"5 seconds ago\"} {\"level\":\"info\",\"ts\":1661246894.7034357,\"caller\":\"snapshot/v3_snapshot.go:100\",\"msg\":\"saved\",\"path\":\"/root/bak/snapshot_2022-08-23_172803.db\"} Snapshot saved at /root/bak/snapshot_2022-08-23_172803.db Deprecated: Use `etcdutl snapshot status` instead. {\"hash\":1726260631,\"revision\":43288532,\"totalKey\":27994,\"totalSize\":332025856} snapshot db and kube resources are successfully saved to /root/bak ç”Ÿæˆå¤‡ä»½æ–‡ä»¶ï¼š [root@guxsve0ry7y4fhl ~]# ll /root/bak/ total 324312 -rw-------. 1 root root 332025888 Aug 23 17:28 snapshot_2022-08-23_172803.db # etcd å¿«ç…§ -rw-------. 1 root root 63022 Aug 23 17:28 static_kuberesources_2022-08-23_172803.tar.gz # é™æ€ pod çš„èµ„æº æ¨¡æ‹Ÿé›†ç¾¤å‡ºé—®é¢˜çš„æƒ…å†µ æ‰§è¡Œæ¢å¤è„šæœ¬æ¢å¤é›†ç¾¤ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#321-font-colorredvelero-ä¸ºä»€ä¹ˆæ— æ³•åšé›†ç¾¤å¤‡ä»½font"},{"categories":["åˆ†ç±»-box"],"content":" 3.2 é›†ç¾¤å¤‡ä»½ï¼ˆæ— æ³•ä½¿ç”¨ velero å®ç°ï¼‰ å¤‡ä»½çš„å¯¹è±¡ï¼Ÿ etcdï¼ˆå¤‡ä»½ä¹‹åçš„æ–‡ä»¶ï¼šetcdå¿«ç…§ã€é™æ€podèµ„æºå‹ç¼©åŒ…ï¼‰ æœ‰ä»€ä¹ˆæ ·é›†ç¾¤åæ‰çš„åœºæ™¯ï¼Ÿ etcdå¼‚å¸¸ã€kube-apiserverå¼‚å¸¸ç­‰ç­‰ ç‰©ç†å¤‡ä»½ \u0026 é€»è¾‘å¤‡ä»½ ç‰©ç†å¤‡ä»½ï¼šetcd å¤‡ä»½ é€»è¾‘å¤‡ä»½ï¼šåŸºäº velero çš„å¤‡ä»½ 3.2.1 velero ä¸ºä»€ä¹ˆæ— æ³•åšé›†ç¾¤å¤‡ä»½ï¼Ÿ åœ¨é›†ç¾¤ä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œvelero åº”ç”¨ä¹Ÿæ— æ³•åœ¨é›†ç¾¤ä¸­ä½¿ç”¨ï¼Œæ— æ³•åšæ¢å¤æ“ä½œ etcd çš„æ•°æ®ä½¿ç”¨ hostPath æ–¹å¼æŒ‚è½½åˆ° etcd podï¼Œvelero ä¸æ”¯æŒ hostPath å¤‡ä»½ï¼Œæ— æ³•å¤‡ä»½æ•°æ®ï¼Œåªèƒ½å¤‡ä»½ yaml èµ„æº 3.2.2 *å®˜æ–¹ä½¿ç”¨çš„å¤‡ä»½æ–¹å¼å®è·µï¼ˆingâ€¦ï¼‰ æ‰§è¡Œé›†ç¾¤å¤‡ä»½è„šæœ¬ sh /usr/local/bin/cluster-backup.sh \u003cå¤‡ä»½ç›®å½•\u003e [root@guxsve0ry7y4fhl ~]# sh /usr/local/bin/cluster-backup.sh /root/bak found latest kube-apiserver: /etc/kubernetes/static-pod-resources/kube-apiserver-pod-15 found latest kube-controller-manager: /etc/kubernetes/static-pod-resources/kube-controller-manager-pod-7 found latest kube-scheduler: /etc/kubernetes/static-pod-resources/kube-scheduler-pod-6 found latest etcd: /etc/kubernetes/static-pod-resources/etcd-pod-2 e714891717a1c13ce92256f0699c1918d84f696fe0491afc389f01ee3fa9f18c etcdctl version: 3.5.0 API version: 3.5 {\"level\":\"info\",\"ts\":1661246888.927277,\"caller\":\"snapshot/v3_snapshot.go:68\",\"msg\":\"created temporary db file\",\"path\":\"/root/bak/snapshot_2022-08-23_172803.db.part\"} {\"level\":\"info\",\"ts\":1661246888.9341154,\"logger\":\"client\",\"caller\":\"v3/maintenance.go:211\",\"msg\":\"opened snapshot stream; downloading\"} {\"level\":\"info\",\"ts\":1661246888.9348633,\"caller\":\"snapshot/v3_snapshot.go:76\",\"msg\":\"fetching snapshot\",\"endpoint\":\"https://10.253.10.107:2379\"} {\"level\":\"info\",\"ts\":1661246891.0776105,\"logger\":\"client\",\"caller\":\"v3/maintenance.go:219\",\"msg\":\"completed snapshot read; closing\"} {\"level\":\"info\",\"ts\":1661246894.7033532,\"caller\":\"snapshot/v3_snapshot.go:91\",\"msg\":\"fetched snapshot\",\"endpoint\":\"https://10.253.10.107:2379\",\"size\":\"332 MB\",\"took\":\"5 seconds ago\"} {\"level\":\"info\",\"ts\":1661246894.7034357,\"caller\":\"snapshot/v3_snapshot.go:100\",\"msg\":\"saved\",\"path\":\"/root/bak/snapshot_2022-08-23_172803.db\"} Snapshot saved at /root/bak/snapshot_2022-08-23_172803.db Deprecated: Use `etcdutl snapshot status` instead. {\"hash\":1726260631,\"revision\":43288532,\"totalKey\":27994,\"totalSize\":332025856} snapshot db and kube resources are successfully saved to /root/bak ç”Ÿæˆå¤‡ä»½æ–‡ä»¶ï¼š [root@guxsve0ry7y4fhl ~]# ll /root/bak/ total 324312 -rw-------. 1 root root 332025888 Aug 23 17:28 snapshot_2022-08-23_172803.db # etcd å¿«ç…§ -rw-------. 1 root root 63022 Aug 23 17:28 static_kuberesources_2022-08-23_172803.tar.gz # é™æ€ pod çš„èµ„æº æ¨¡æ‹Ÿé›†ç¾¤å‡ºé—®é¢˜çš„æƒ…å†µ æ‰§è¡Œæ¢å¤è„šæœ¬æ¢å¤é›†ç¾¤ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#322-å®˜æ–¹ä½¿ç”¨çš„å¤‡ä»½æ–¹å¼å®è·µing"},{"categories":["åˆ†ç±»-box"],"content":" 3.3 å…¶ä»–å¤‡ä»½åœºæ™¯éªŒè¯ 3.3.1 ccos ç›¸å…³èµ„æºå¤‡ä»½ï¼ˆvelero-pluginsï¼‰ SecurityContextConstraints å¤‡ä»½åŠæ¢å¤ Route å¤‡ä»½åŠæ¢å¤ â€¦ 3.3.* å¾…è¡¥å……","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#33-å…¶ä»–å¤‡ä»½åœºæ™¯éªŒè¯"},{"categories":["åˆ†ç±»-box"],"content":" 3.3 å…¶ä»–å¤‡ä»½åœºæ™¯éªŒè¯ 3.3.1 ccos ç›¸å…³èµ„æºå¤‡ä»½ï¼ˆvelero-pluginsï¼‰ SecurityContextConstraints å¤‡ä»½åŠæ¢å¤ Route å¤‡ä»½åŠæ¢å¤ â€¦ 3.3.* å¾…è¡¥å……","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#331-ccos-ç›¸å…³èµ„æºå¤‡ä»½velero-plugins"},{"categories":["åˆ†ç±»-box"],"content":" 3.3 å…¶ä»–å¤‡ä»½åœºæ™¯éªŒè¯ 3.3.1 ccos ç›¸å…³èµ„æºå¤‡ä»½ï¼ˆvelero-pluginsï¼‰ SecurityContextConstraints å¤‡ä»½åŠæ¢å¤ Route å¤‡ä»½åŠæ¢å¤ â€¦ 3.3.* å¾…è¡¥å……","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:3:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#33-å¾…è¡¥å……"},{"categories":["åˆ†ç±»-box"],"content":" å››ã€å‰ç«¯ç›¸å…³æˆªå›¾","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:4:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#å››å‰ç«¯ç›¸å…³æˆªå›¾"},{"categories":["åˆ†ç±»-box"],"content":" 4.1 operator å®‰è£…è¿›å…¥ Operator ä»“åº“é€‰æ‹© OADP-Operator è¿›è¡Œå®‰è£… ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:4:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#41-operator-å®‰è£…"},{"categories":["åˆ†ç±»-box"],"content":" 4.2 å®‰è£… Velero é€‰æ‹©åˆ›å»º DPA å®ä¾‹ é…ç½® DPA ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:4:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#42-å®‰è£…-velero"},{"categories":["åˆ†ç±»-box"],"content":" 4.3 å•æ¬¡å¤‡ä»½ é€‰æ‹©åˆ›å»º Backup å®ä¾‹ é…ç½® Backup å®ä¾‹å‚æ•° ä¸»è¦é…ç½®å¤‡ä»½åç§°ã€å­˜å‚¨ä½ç½®ã€å‘½åç©ºé—´ç­‰ä¿¡æ¯ ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:4:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#43-å•æ¬¡å¤‡ä»½"},{"categories":["åˆ†ç±»-box"],"content":" 4.5 å®šæ—¶å¤‡ä»½ é€‰æ‹©åˆ›å»º Schedule å®ä¾‹ é…ç½® Schedule å®ä¾‹å‚æ•° ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:4:4","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#45-å®šæ—¶å¤‡ä»½"},{"categories":["åˆ†ç±»-box"],"content":" 4.4 æ¢å¤ é€‰æ‹©åˆ›å»º Restore å®ä¾‹ é…ç½® Restore å®ä¾‹å‚æ•° ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:4:5","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#44-æ¢å¤"},{"categories":["åˆ†ç±»-box"],"content":" 4.* â€¦","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:4:6","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#4-"},{"categories":["åˆ†ç±»-box"],"content":" äº”ã€å…³è”ä»“åº“ oadp-operator velero velero-plugin-for-aws velero-plugin-for-csi velero-plugin-for-gcp velero-plugin-for-microsoft-azure ccos-velero-plugin kubevirt-velero-plugin volume-snapshot-mover index ä»“åº“ ä½œç”¨ å¼€æºåœ°å€ code.cestc.cn 01 ï¼ˆå¿…é¡»ï¼‰oadp-operator å®‰è£… Veleroï¼Œæä¾› API https://github.com/openshift/oadp-operator https://code.cestc.cn/ccos/cea/oadp-operator 02 ï¼ˆå¿…é¡»ï¼‰velero åšå…·ä½“å¤‡ä»½æ¢å¤ç­‰æ“ä½œ https://github.com/vmware-tanzu/velero https://code.cestc.cn/ccos/cea/velero 03 ï¼ˆå¿…é¡»ï¼‰velero-plugin-for-s3 æ”¯æŒå¯¹è±¡å­˜å‚¨å¤‡ä»½å’Œæ¢å¤ï¼ˆaws s3ï¼‰ https://github.com/vmware-tanzu/velero-plugin-for-aws https://code.cestc.cn/ccos/cea/velero-plugin-for-s3 04 ï¼ˆï¼‰velero-plugin-for-csi æ”¯æŒä½¿ç”¨ csi å¿«ç…§å¤‡ä»½æŒä¹…å· https://github.com/vmware-tanzu/velero-plugin-for-csi https://code.cestc.cn/ccos/cea/velero-plugin-for-csi velero-plugin-for-gcp https://github.com/vmware-tanzu/velero-plugin-for-gcp velero-plugin-for-microsoft-azure https://github.com/vmware-tanzu/velero-plugin-for-microsoft-azure 05 ï¼ˆï¼‰ccos-velero-plugin ä½¿ç”¨å¯¹è±¡å­˜å‚¨å¤‡ä»½å’Œæ¢å¤ Ccos Container Platform èµ„æº https://github.com/openshift/openshift-velero-plugin https://code.cestc.cn/ccos/cea/velero-plugin 06 ï¼ˆï¼‰kubevirt-velero-plugin æ”¯æŒå¤‡ä»½å¹¶æ¢å¤ç”±Kubevirtå’ŒCDIç®¡ç†çš„è™šæ‹Ÿæœºï¼Œæ•°æ®æµå’Œå…¶ä»–èµ„æº https://github.com/kubevirt/kubevirt-velero-plugin https://code.cestc.cn/ccos/cea/kubevirt-velero-plugin 07 ï¼ˆï¼‰volume-snapshot-mover å°†ç¾¤é›†çš„å¿«ç…§é‡æ–°å®šä½åˆ°å¯¹è±¡å­˜å‚¨ä¸­ https://github.com/konveyor/volume-snapshot-mover https://code.cestc.cn/ccos/cea/volume-snapshot-mover æ–°å¢é•œåƒï¼š oadp-operator oadp-operator-bundle velero velero-restic-restore-helper velero-plugin-for-s3 velero-plugin-for-csi velero-plugin kubevirt-velero-plugin volume-snapshot-mover ","date":"2023-05-16","objectID":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/:5:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"åº”ç”¨å¤‡ä»½æ¢å¤æ–¹æ¡ˆ","uri":"/202305161528-%E5%BA%94%E7%94%A8%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%96%B9%E6%A1%88/#äº”å…³è”ä»“åº“"},{"categories":["åˆ†ç±»-box"],"content":" *ã€æ€»ç»“ èŠ‚ç‚¹å®‰è£… iscsiã€multipath option#1. è£…æœºçš„æ—¶å€™å®Œæˆ option#2. å®¹å™¨åŒ–ï¼ˆCSI Driverä½¿ç”¨çš„é•œåƒå†…æ²¡æœ‰å®‰è£… iscsiã€multipathï¼Œæ— æ³•å®¹å™¨åŒ–ï¼‰ å¯¹æ¥ xsky å­˜å‚¨ ç”± xsky-operator æ‹‰èµ·æ‰€éœ€çš„é€šç”¨èµ„æºï¼šCRDã€CSI Driver ç›¸å…³èµ„æº æ·»åŠ  xsky å­˜å‚¨åç«¯ é€šè¿‡ä¿®æ”¹ xsky-crï¼Œç¼–è¾‘ xsky å­˜å‚¨åç«¯çš„ç›¸å…³ä¿¡æ¯ï¼Œoperator åˆ›å»ºæ‰€éœ€çš„èµ„æºï¼š secret accesspath storageclass ä¿®æ”¹ xsky å­˜å‚¨åç«¯ é€šè¿‡ä¿®æ”¹ xsky-crï¼Œoperator æ ¹æ® storageclass æŸ¥æ‰¾åˆ°å¯¹åº”çš„ secretã€accesspathã€storageclass èµ„æºï¼Œè¿›è¡Œä¿®æ”¹ xsky-cre.g. ... spec: xskyBackends: - scName: xsky-sc1 token: NGIyMzhmNDU5NzFhNGJhZmFmNjlmYzI3NjkxNGU0ODI= accessPaths: - name: csi-ap1 type: iSCSI clusterInfo: secret_name: xsky-sc1-secret gateway: sds01,sds02,sds03 fsType: xfs pool: pool1 xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 secretName: xsky-secret1 - ... ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#æ€»ç»“"},{"categories":["åˆ†ç±»-box"],"content":" ä¸€ã€å‡†å¤‡å·¥ä½œ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#ä¸€å‡†å¤‡å·¥ä½œ"},{"categories":["åˆ†ç±»-box"],"content":" 1.1 ç¯å¢ƒä¾èµ–ï¼šiscsidã€multipathd yum install -y iscsi-initiator-utils sg3_utils device-mapper-multipath device-mapper cat \u003c\u003c EOF \u003e /etc/multipath.conf defaults { user_friendly_names yes failback immediate no_path_retry fail } blacklist { devnode \"^sda$\" } devices{ } EOF cat \u003c\u003c EOF \u003e /etc/iscsi/iscsid.conf iscsid.startup = /bin/systemctl start iscsid.socket iscsiuio.socket node.startup = automatic node.leading_login = No node.session.timeo.replacement_timeout = 20 node.conn[0].timeo.login_timeout = 15 node.conn[0].timeo.logout_timeout = 15 node.conn[0].timeo.noop_out_interval = 1 node.conn[0].timeo.noop_out_timeout = 1 node.session.err_timeo.abort_timeout = 15 node.session.err_timeo.lu_reset_timeout = 30 node.session.err_timeo.tgt_reset_timeout = 30 node.session.initial_login_retry_max = 8 node.session.cmds_max = 512 node.session.queue_depth = 512 node.session.xmit_thread_priority = -20 node.session.iscsi.InitialR2T = No node.session.iscsi.ImmediateData = Yes node.session.iscsi.FirstBurstLength = 262144 node.session.iscsi.MaxBurstLength = 16776192 node.conn[0].iscsi.MaxRecvDataSegmentLength = 262144 node.conn[0].iscsi.MaxXmitDataSegmentLength = 0 discovery.sendtargets.iscsi.MaxRecvDataSegmentLength = 32768 node.conn[0].iscsi.HeaderDigest = None node.session.nr_sessions = 1 node.session.reopen_max = 0 node.session.iscsi.FastAbort = Yes node.session.scan = auto EOF systemctl enable iscsid;systemctl start iscsid systemctl enable multipathd;systemctl start multipathd ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:2:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#11-ç¯å¢ƒä¾èµ–iscsidmultipathd"},{"categories":["åˆ†ç±»-box"],"content":" 1.2 éœ€è¦åŒæ­¥é•œåƒ ## å‹ç¼©åŒ… quay.io/k8scsi/csi-attacher:v2.0.0 quay.io/k8scsi/csi-provisioner:v1.5.0 quay.io/k8scsi/csi-node-driver-registrar:v1.1.0 quay.io/k8scsi/csi-resizer:v0.5.0 quay.io/k8scsi/csi-snapshotter:v3.0.3 quay.io/k8scsi/snapshot-controller:v3.0.3 localhost/xskydriver/csi-iscsi:3.0.301.0 # m ## ä»“åº“ image.cestc.cn/iaas_pub/k8scsi/csi-provisioner:v1.5.0 image.cestc.cn/iaas_pub/k8scsi/csi-resizer:v0.5.0 image.cestc.cn/iaas_pub/k8scsi/xskydriver/csi-iscsi:3.0.301.0 image.cestc.cn/iaas_pub/k8scsi/csi-node-driver-registrar:v1.1.0 image.cestc.cn/iaas_pub/k8scsi/csi-snapshotter:v3.0.3 image.cestc.cn/iaas_pub/k8scsi/snapshot-controller:v3.0.3 cd offline_image/ for file in ./*; do podman load -i $file; done ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#12-éœ€è¦åŒæ­¥é•œåƒ"},{"categories":["åˆ†ç±»-box"],"content":" äºŒã€CSI Driver å®‰è£… oc apply -f accesspath-crd/crd-ap.yaml oc apply -f . ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:3:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#äºŒcsi-driver-å®‰è£…"},{"categories":["åˆ†ç±»-box"],"content":" ä¸‰ã€ä½¿ç”¨","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:4:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#ä¸‰ä½¿ç”¨"},{"categories":["åˆ†ç±»-box"],"content":" 3.1 åœ¨ xsky åç«¯åˆ›å»º tokenï¼Œè½¬æˆ base64 echo -n \"1880ecc063a54ec5a96c96a630682ad8\" | base64 # MTg4MGVjYzA2M2E1NGVjNWE5NmM5NmE2MzA2ODJhZDg= ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:4:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#31-åœ¨-xsky-åç«¯åˆ›å»º-tokenè½¬æˆ-base64"},{"categories":["åˆ†ç±»-box"],"content":" 3.2 ç”¨è¿™ä¸ª token åˆ›å»º secret apiVersion: v1 kind: Secret metadata: name: test-secret data: token: MTg4MGVjYzA2M2E1NGVjNWE5NmM5NmE2MzA2ODJhZDg= ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:4:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#32-ç”¨è¿™ä¸ª-token-åˆ›å»º-secret"},{"categories":["åˆ†ç±»-box"],"content":" 3.3 åˆ›å»ºap apiVersion: \"sds.xsky.com/v1\" kind: AccessPath metadata: name: cke-csi-ap1 #object name in kubernetes spec: name: cke-csi-ap1 #name in SDS type: Kubernetes #one of Kubernetes,iSCSI cluster_info: secret_name: test-secret secret_namespace: default xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 gateway: sds01,sds02,sds03 #separated by comma, vip_group: preempt: true #optional vips: [] #- vip: 10.255.68.120 # mask: 24 #optional, default 32 # default_gateway: vm39 #optional,preferred network ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:4:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#33-åˆ›å»ºap"},{"categories":["åˆ†ç±»-box"],"content":" 3.4 åˆ›å»ºsc apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: iscsi-sc parameters: accessPaths: cke-csi-ap1 fsType: xfs pool: ebs xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 csi.storage.k8s.io/provisioner-secret-name: test-secret csi.storage.k8s.io/provisioner-secret-namespace: default provisioner: iscsi.csi.xsky.com reclaimPolicy: Delete allowVolumeExpansion: true mountOptions: - _netdev ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:4:4","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#34-åˆ›å»ºsc"},{"categories":["åˆ†ç±»-box"],"content":" 3.5 åˆ›å»º pvcã€pod æµ‹è¯•pvc apiVersion: v1 kind: PersistentVolumeClaim metadata: name: xsky-iscsi-pvc-block namespace: default spec: #volumeMode: Filesystem volumeMode: Block storageClassName: iscsi-sc accessModes: - ReadWriteOnce resources: requests: storage: 10Gi pod apiVersion: v1 kind: Pod metadata: name: hhq-pv-pod-block spec: volumes: - name: iscsi-pvc-block-5-1 persistentVolumeClaim: claimName: xsky-iscsi-pvc-block containers: - name: hhq-pv-con image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeDevices: - devicePath: /dev/block name: iscsi-pvc-block-5-1 ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:4:5","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#35-åˆ›å»º-pvcpod-æµ‹è¯•"},{"categories":["åˆ†ç±»-box"],"content":" å››ã€xsky operator mkdir xsky-operator; cd xsky-operator operator-sdk init --domain=ceake.io --repo=code.cestc.cn/ccos/cea/xsky-operator operator-sdk create api --resource=true --controller=true --group operator --version v1 --kind XskyBackend ç¼–è¾‘ api make manifests ç¼–è¾‘ Dockerfile ç¼–è¾‘ controller make docker-build docker-push IMG=image.cestc.cn/ceake/xsky-operator:0.0.1 make bundle IMG=image.cestc.cn/ceake/xsky-operator:0.0.1 ## ä¿®æ”¹ csv make bundle-build bundle-push BUNDLE_IMG=\"image.cestc.cn/ceake/xsky-operator-bundle:0.0.1\" make bundle åšçš„äº‹æƒ… opm index add --bundles image.cestc.cn/ceake/xsky-operator-bundle:0.0.1 --tag image.cestc.cn/ceake/marketplace-index:0.0.1-hhq tag=0.0.2-628;opm index add --bundles image.cestc.cn/ceake/xsky-storage-operator-bundle:${tag} --tag image.cestc.cn/ceake/marketplace-index:${tag}; podman push image.cestc.cn/ceake/marketplace-index:${tag} ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#å››xsky-operator"},{"categories":["åˆ†ç±»-box"],"content":" æ”¾å¼€ OperatorHub catalogsource apiVersion: \"operators.coreos.com/v1alpha1\" kind: \"CatalogSource\" metadata: name: \"redhat-operators\" namespace: \"openshift-marketplace\" annotations: target.workload.openshift.io/management: '{\"effect\": \"PreferredDuringScheduling\"}' spec: sourceType: grpc image: image.cestc.cn/ceake/marketplace-index:0.0.1-preZYH05 displayName: \"Red Hat Operators\" publisher: \"Red Hat\" priority: -100 updateStrategy: registryPoll: interval: 10m grpcPodConfig: nodeSelector: node-role.kubernetes.io/master: \"\" kubernetes.io/os: \"linux\" priorityClassName: \"system-cluster-critical\" tolerations: - key: \"node-role.kubernetes.io/master\" operator: Exists effect: \"NoSchedule\" - key: \"node.kubernetes.io/unreachable\" operator: \"Exists\" effect: \"NoExecute\" tolerationSeconds: 120 - key: \"node.kubernetes.io/not-ready\" operator: \"Exists\" effect: \"NoExecute\" tolerationSeconds: 120 å®‰è£…çš„æ—¶å€™é‡åˆ°çš„é—®é¢˜ é—®é¢˜1. åˆ›å»º pod çš„æ—¶å€™å‡ºç°é—®é¢˜ allowHostDirVolumePlugin: true allowHostIPC: true allowHostNetwork: true allowHostPID: true allowHostPorts: true allowPrivilegedContainer: true allowedCapabilities: - '*' apiVersion: security.openshift.io/v1 defaultAddCapabilities: [] fsGroup: type: RunAsAny groups: - system:authenticated kind: SecurityContextConstraints metadata: annotations: kubernetes.io/description: xsky scc name: xsky-scc priority: null readOnlyRootFilesystem: false runAsUser: type: RunAsAny seLinuxContext: type: RunAsAny supplementalGroups: type: RunAsAny volumes: - '*' oc adm policy add-scc-to-user xsky-scc system:serviceaccount:openshift-xsky: oc adm policy add-scc-to-user xsky-scc system:serviceaccount:openshift-operators:xsky-operator-controller-manager driver æœ‰é—®é¢˜ï¼š TODO List: handleXskyBackendEvent() ç›‘å¬ xskyBakcend èµ„æºäº‹ä»¶ï¼šåˆ›å»ºã€ä¿®æ”¹ å­¦ä¹  client åˆ›å»º CRD æ•´ä½“ operator åŒ– e2e æ¢³ç† make bundle æ”¯æŒè‡ªå®šä¹‰å‘½åç©ºé—´å®‰è£… å…¬å…±çš„éƒ¨åˆ†æ”¾åˆ°å®‰è£…çš„æ—¶å€™å°±åš ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#æ”¾å¼€-operatorhub"},{"categories":["åˆ†ç±»-box"],"content":" ä¸ºæµæ°´çº¿åšå‡†å¤‡ ### åˆ¶ä½œ xsky-operator é•œåƒ docker build -t image.cestc.cn/ceake/xsky-operator:3.0.0-hhq . vim bundle/manifests/xsky-operator.clusterserviceversion.yaml # modify image: docker build -f bundle.Dockerfile -t image.cestc.cn/ceake/xsky-operator-bundle:3.0.0-hhq . ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#ä¸ºæµæ°´çº¿åšå‡†å¤‡"},{"categories":["åˆ†ç±»-box"],"content":" æ›´æ–°ç‰ˆæœ¬éœ€è¦æ›´æ”¹ csv ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#æ›´æ–°ç‰ˆæœ¬éœ€è¦æ›´æ”¹"},{"categories":["åˆ†ç±»-box"],"content":" æ‰‹åŠ¨éªŒè¯ï¼ˆMR éœ€è¦ï¼‰ å‰ç½®èµ„æºåˆ›å»º apiVersion: \"sds.xsky.com/v1\" kind: AccessPath metadata: name: cke-csi-ap-e2e-handle #object name in kubernetes namespace: default spec: name: cke-csi-ap-e2e-handle #name in SDS type: Kubernetes #one of Kubernetes,iSCSI cluster_info: secret_name: secret-xsky-e2e secret_namespace: default xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 gateway: sds01,sds02,sds03 #separated by comma, vip_group: preempt: true #optional vips: [] --- apiVersion: v1 kind: Secret metadata: name: secret-xsky-e2e namespace: default data: token: MTg4MGVjYzA2M2E1NGVjNWE5NmM5NmE2MzA2ODJhZDg= --- apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: sc-xsky-e2e parameters: accessPaths: cke-csi-ap-e2e-handle fsType: xfs pool: ebs xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 csi.storage.k8s.io/provisioner-secret-name: secret-xsky-e2e csi.storage.k8s.io/provisioner-secret-namespace: default provisioner: iscsi.csi.xsky.com reclaimPolicy: Delete allowVolumeExpansion: true mountOptions: - _netdev case 1. åˆ›å»º PVC \u0026 æŒ‚è½½è‡³ pod apiVersion: v1 kind: PersistentVolumeClaim metadata: name: xsky-iscsi-pvc-e2e namespace: default spec: volumeMode: Block storageClassName: sc-xsky-e2e accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: v1 kind: Pod metadata: name: xsky-e2e-test-pod namespace: default spec: volumes: - name: xsky-iscsi-pvc-e2e persistentVolumeClaim: claimName: xsky-iscsi-pvc-e2e containers: - name: xsky-e2e image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeDevices: - devicePath: /dev/block name: xsky-iscsi-pvc-e2e è¯»å†™ apiVersion: v1 kind: PersistentVolumeClaim metadata: name: xsky-iscsi-pvc2-e2e namespace: default spec: storageClassName: sc-xsky-e2e accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: v1 kind: Pod metadata: name: xsky-test-write namespace: default spec: containers: - name: test image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeMounts: - name: test mountPath: /test securityContext: privileged: true restartPolicy: Never volumes: - name: test persistentVolumeClaim: claimName: xsky-iscsi-pvc2-e2e --- apiVersion: v1 kind: ConfigMap metadata: name: xsky-test-cm namespace: default data: test.sh: | #!/bin/sh id ls -al /test \u0026\u0026 \\ echo 'Hello from xsky-storage-operator' \u0026\u0026 \\ cp /config/text.txt /test/test.txt \u0026\u0026 \\ touch /test/foo \u0026\u0026 \\ ls -al /test text.txt: | hello, xsky ! ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:4","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#æ‰‹åŠ¨éªŒè¯mr-éœ€è¦"},{"categories":["åˆ†ç±»-box"],"content":" æ‰‹åŠ¨éªŒè¯ï¼ˆMR éœ€è¦ï¼‰ å‰ç½®èµ„æºåˆ›å»º apiVersion: \"sds.xsky.com/v1\" kind: AccessPath metadata: name: cke-csi-ap-e2e-handle #object name in kubernetes namespace: default spec: name: cke-csi-ap-e2e-handle #name in SDS type: Kubernetes #one of Kubernetes,iSCSI cluster_info: secret_name: secret-xsky-e2e secret_namespace: default xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 gateway: sds01,sds02,sds03 #separated by comma, vip_group: preempt: true #optional vips: [] --- apiVersion: v1 kind: Secret metadata: name: secret-xsky-e2e namespace: default data: token: MTg4MGVjYzA2M2E1NGVjNWE5NmM5NmE2MzA2ODJhZDg= --- apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: sc-xsky-e2e parameters: accessPaths: cke-csi-ap-e2e-handle fsType: xfs pool: ebs xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 csi.storage.k8s.io/provisioner-secret-name: secret-xsky-e2e csi.storage.k8s.io/provisioner-secret-namespace: default provisioner: iscsi.csi.xsky.com reclaimPolicy: Delete allowVolumeExpansion: true mountOptions: - _netdev case 1. åˆ›å»º PVC \u0026 æŒ‚è½½è‡³ pod apiVersion: v1 kind: PersistentVolumeClaim metadata: name: xsky-iscsi-pvc-e2e namespace: default spec: volumeMode: Block storageClassName: sc-xsky-e2e accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: v1 kind: Pod metadata: name: xsky-e2e-test-pod namespace: default spec: volumes: - name: xsky-iscsi-pvc-e2e persistentVolumeClaim: claimName: xsky-iscsi-pvc-e2e containers: - name: xsky-e2e image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeDevices: - devicePath: /dev/block name: xsky-iscsi-pvc-e2e è¯»å†™ apiVersion: v1 kind: PersistentVolumeClaim metadata: name: xsky-iscsi-pvc2-e2e namespace: default spec: storageClassName: sc-xsky-e2e accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: v1 kind: Pod metadata: name: xsky-test-write namespace: default spec: containers: - name: test image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeMounts: - name: test mountPath: /test securityContext: privileged: true restartPolicy: Never volumes: - name: test persistentVolumeClaim: claimName: xsky-iscsi-pvc2-e2e --- apiVersion: v1 kind: ConfigMap metadata: name: xsky-test-cm namespace: default data: test.sh: | #!/bin/sh id ls -al /test \u0026\u0026 \\ echo 'Hello from xsky-storage-operator' \u0026\u0026 \\ cp /config/text.txt /test/test.txt \u0026\u0026 \\ touch /test/foo \u0026\u0026 \\ ls -al /test text.txt: | hello, xsky ! ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:4","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#å‰ç½®èµ„æºåˆ›å»º"},{"categories":["åˆ†ç±»-box"],"content":" æ‰‹åŠ¨éªŒè¯ï¼ˆMR éœ€è¦ï¼‰ å‰ç½®èµ„æºåˆ›å»º apiVersion: \"sds.xsky.com/v1\" kind: AccessPath metadata: name: cke-csi-ap-e2e-handle #object name in kubernetes namespace: default spec: name: cke-csi-ap-e2e-handle #name in SDS type: Kubernetes #one of Kubernetes,iSCSI cluster_info: secret_name: secret-xsky-e2e secret_namespace: default xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 gateway: sds01,sds02,sds03 #separated by comma, vip_group: preempt: true #optional vips: [] --- apiVersion: v1 kind: Secret metadata: name: secret-xsky-e2e namespace: default data: token: MTg4MGVjYzA2M2E1NGVjNWE5NmM5NmE2MzA2ODJhZDg= --- apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: sc-xsky-e2e parameters: accessPaths: cke-csi-ap-e2e-handle fsType: xfs pool: ebs xmsServers: 10.255.68.115,10.255.68.116,10.255.68.117 csi.storage.k8s.io/provisioner-secret-name: secret-xsky-e2e csi.storage.k8s.io/provisioner-secret-namespace: default provisioner: iscsi.csi.xsky.com reclaimPolicy: Delete allowVolumeExpansion: true mountOptions: - _netdev case 1. åˆ›å»º PVC \u0026 æŒ‚è½½è‡³ pod apiVersion: v1 kind: PersistentVolumeClaim metadata: name: xsky-iscsi-pvc-e2e namespace: default spec: volumeMode: Block storageClassName: sc-xsky-e2e accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: v1 kind: Pod metadata: name: xsky-e2e-test-pod namespace: default spec: volumes: - name: xsky-iscsi-pvc-e2e persistentVolumeClaim: claimName: xsky-iscsi-pvc-e2e containers: - name: xsky-e2e image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeDevices: - devicePath: /dev/block name: xsky-iscsi-pvc-e2e è¯»å†™ apiVersion: v1 kind: PersistentVolumeClaim metadata: name: xsky-iscsi-pvc2-e2e namespace: default spec: storageClassName: sc-xsky-e2e accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: v1 kind: Pod metadata: name: xsky-test-write namespace: default spec: containers: - name: test image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeMounts: - name: test mountPath: /test securityContext: privileged: true restartPolicy: Never volumes: - name: test persistentVolumeClaim: claimName: xsky-iscsi-pvc2-e2e --- apiVersion: v1 kind: ConfigMap metadata: name: xsky-test-cm namespace: default data: test.sh: | #!/bin/sh id ls -al /test \u0026\u0026 \\ echo 'Hello from xsky-storage-operator' \u0026\u0026 \\ cp /config/text.txt /test/test.txt \u0026\u0026 \\ touch /test/foo \u0026\u0026 \\ ls -al /test text.txt: | hello, xsky ! ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:4","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#case-1-åˆ›å»º-pvc--æŒ‚è½½è‡³-pod"},{"categories":["åˆ†ç±»-box"],"content":" bugfix-å®‰è£…operator çš„æ—¶å€™é»˜è®¤å®‰è£…èµ„æºæ›´æ–°å•†åº— tag=xxx; opm index add --bundles image.cestc.cn/ceake/xsky-storage-operator-bundle:${tag} --tag image.cestc.cn/ceake/hhq-index:${tag}; podman push image.cestc.cn/ceake/hhq-index:${tag}; oc -n ccos-marketplace patch catalogsource/hhq-operators -p '{\"spec\":{\"image\":image.cestc.cn/ceake/hhq-index:${tag}}}' ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:5:5","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#bugfix-å®‰è£…operator-çš„æ—¶å€™é»˜è®¤å®‰è£…èµ„æº"},{"categories":["åˆ†ç±»-box"],"content":" äº”ã€kubebuilder æ³¨é‡Š å‚è€ƒæ–‡æ¡£ï¼š https://cloudnative.to/kubebuilder/reference/markers/crd-validation.html ","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:6:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#äº”kubebuilder-æ³¨é‡Š"},{"categories":["åˆ†ç±»-box"],"content":" 5.1 å­—æ®µæ£€æŸ¥","date":"2023-05-16","objectID":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/:6:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"æ”¯æŒ xsky å­˜å‚¨","uri":"/202305161538-%E6%94%AF%E6%8C%81-xsky-%E5%AD%98%E5%82%A8/#51-å­—æ®µæ£€æŸ¥"},{"categories":["Docker"],"content":"#docker ","date":"2023-05-16","objectID":"/202305161449-busybox-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/:0:0","series":["Dockeré•œåƒåˆ¶ä½œ"],"tags":[],"title":"busybox é•œåƒåˆ¶ä½œ","uri":"/202305161449-busybox-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/#"},{"categories":["Docker"],"content":" å‘½ä»¤ mkdir rootfs cd rootfs/ for module in `busybox --list-modules`; do mkdir -p `dirname \"$module\"` \u0026\u0026 ln -sf /bin/busybox \"$module\"; done cp busybox bin/ tar cpf rootfs.tar . cat \u003c\u003c EOF \u003e busybox.dockerfile FROM scratch ADD rootfs.tar / CMD [\"/bin/sh\"] EOF ","date":"2023-05-16","objectID":"/202305161449-busybox-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/:1:0","series":["Dockeré•œåƒåˆ¶ä½œ"],"tags":[],"title":"busybox é•œåƒåˆ¶ä½œ","uri":"/202305161449-busybox-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/#å‘½ä»¤"},{"categories":["Docker"],"content":" arm æ¶æ„ ç›´æ¥ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ https://busybox.net/downloads/binaries/1.28.1-defconfig-multiarch/ åˆ¶ä½œ tar åŒ… cp busybox /bin/busybox mkdir rootfs cd rootfs/ for module in `busybox --list-modules`; do mkdir -p `dirname \"$module\"` \u0026\u0026 ln -sf /bin/busybox \"$module\"; done cp /bin/busybox bin/busybox tar cpf rootfs.tar . åˆ¶ä½œé•œåƒ cat \u003c\u003c EOF \u003e busybox.dockerfile FROM scratch ADD rootfs.tar / CMD [\"/bin/sh\"] EOF ä»£ç ç½‘å€ï¼šhttps://busybox.net/downloads/ githubï¼š https://github.com/docker-library/busybox https://blog.csdn.net/liumiaocn/article/details/80458663 https://www.frytea.com/technology/docker/build-a-docker-image-from-scratch/ ","date":"2023-05-16","objectID":"/202305161449-busybox-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/:2:0","series":["Dockeré•œåƒåˆ¶ä½œ"],"tags":[],"title":"busybox é•œåƒåˆ¶ä½œ","uri":"/202305161449-busybox-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/#arm-æ¶æ„"},{"categories":["å­˜å‚¨"],"content":" éœ€æ±‚ æ”¯æŒæˆç†Ÿå‹å¥½çš„å¯è§†åŒ–ç•Œé¢ï¼Œé€šè¿‡åˆ›å»ºå­˜å‚¨ç±»ï¼Œæ¥å…¥ CephFSã€NASã€åˆ†å¸ƒå¼å­˜å‚¨ã€æœ¬åœ°å­˜å‚¨ç­‰ æ”¯æŒé€šè¿‡æ ‡å‡† CSI æ¥å£å¯¹æ¥ç¬¬ä¸‰æ–¹å­˜å‚¨ ","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:1:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#éœ€æ±‚"},{"categories":["å­˜å‚¨"],"content":" ceph","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:2:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#ceph"},{"categories":["å­˜å‚¨"],"content":" å‡†å¤‡ ceph ç¯å¢ƒ","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:2:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#å‡†å¤‡-ceph-ç¯å¢ƒ"},{"categories":["å­˜å‚¨"],"content":" åˆ›å»º rbd provisioner ./ â”œâ”€â”€ a â”‚ â”œâ”€â”€ ceph-config.yaml â”‚ â”œâ”€â”€ ceph-sc.yaml â”‚ â””â”€â”€ ceph-secret.yaml â”œâ”€â”€ b â”‚ â”œâ”€â”€ pod.yaml â”‚ â””â”€â”€ pvc.yaml â”œâ”€â”€ csi-config-map.yaml â”œâ”€â”€ csidriver.yaml â”œâ”€â”€ csi-nodeplugin-psp.yaml â”œâ”€â”€ csi-nodeplugin-rbac.yaml â”œâ”€â”€ csi-provisioner-psp.yaml â”œâ”€â”€ csi-provisioner-rbac.yaml â”œâ”€â”€ csi-rbdplugin-provisioner.yaml â””â”€â”€ csi-rbdplugin.yaml --- apiVersion: v1 kind: ConfigMap metadata: name: \"ceph-csi-config\" data: config.json: |- [ { \"clusterID\": \"b2b9b4c6-af9c-454d-b744-096b21cd2404\", \"monitors\": [ \"10.253.11.215:6789\" ] } ] --- # if Kubernetes version is less than 1.18 change # apiVersion to storage.k8s.io/v1beta1 apiVersion: storage.k8s.io/v1 kind: CSIDriver metadata: name: \"rbd.csi.ceph.com\" spec: attachRequired: true podInfoOnMount: false --- apiVersion: policy/v1beta1 kind: PodSecurityPolicy metadata: name: rbd-csi-nodeplugin-psp spec: allowPrivilegeEscalation: true allowedCapabilities: - 'SYS_ADMIN' fsGroup: rule: RunAsAny privileged: true hostNetwork: true hostPID: true runAsUser: rule: RunAsAny seLinux: rule: RunAsAny supplementalGroups: rule: RunAsAny volumes: - 'configMap' - 'emptyDir' - 'projected' - 'hostPath' - 'secret' allowedHostPaths: - pathPrefix: '/dev' readOnly: false - pathPrefix: '/run/mount' readOnly: false - pathPrefix: '/sys' readOnly: false - pathPrefix: '/etc/selinux' readOnly: true - pathPrefix: '/lib/modules' readOnly: true - pathPrefix: '/var/lib/kubelet/pods' readOnly: false - pathPrefix: '/var/log/ceph' readOnly: false - pathPrefix: '/var/lib/kubelet/plugins/rbd.csi.ceph.com' readOnly: false - pathPrefix: '/var/lib/kubelet/plugins_registry' readOnly: false - pathPrefix: '/var/lib/kubelet/plugins' readOnly: false --- kind: Role apiVersion: rbac.authorization.k8s.io/v1 metadata: name: rbd-csi-nodeplugin-psp # replace with non-default namespace name namespace: default rules: - apiGroups: ['policy'] resources: ['podsecuritypolicies'] verbs: ['use'] resourceNames: ['rbd-csi-nodeplugin-psp'] --- kind: RoleBinding apiVersion: rbac.authorization.k8s.io/v1 metadata: name: rbd-csi-nodeplugin-psp # replace with non-default namespace name namespace: default subjects: - kind: ServiceAccount name: rbd-csi-nodeplugin # replace with non-default namespace name namespace: default roleRef: kind: Role name: rbd-csi-nodeplugin-psp apiGroup: rbac.authorization.k8s.io --- apiVersion: v1 kind: ServiceAccount metadata: name: rbd-csi-nodeplugin # replace with non-default namespace name namespace: default --- kind: ClusterRole apiVersion: rbac.authorization.k8s.io/v1 metadata: name: rbd-csi-nodeplugin rules: - apiGroups: [\"\"] resources: [\"nodes\"] verbs: [\"get\"] # allow to read Vault Token and connection options from the Tenants namespace - apiGroups: [\"\"] resources: [\"secrets\"] verbs: [\"get\"] - apiGroups: [\"\"] resources: [\"configmaps\"] verbs: [\"get\"] - apiGroups: [\"\"] resources: [\"serviceaccounts\"] verbs: [\"get\"] - apiGroups: [\"\"] resources: [\"persistentvolumes\"] verbs: [\"get\"] - apiGroups: [\"storage.k8s.io\"] resources: [\"volumeattachments\"] verbs: [\"list\", \"get\"] --- kind: ClusterRoleBinding apiVersion: rbac.authorization.k8s.io/v1 metadata: name: rbd-csi-nodeplugin subjects: - kind: ServiceAccount name: rbd-csi-nodeplugin # replace with non-default namespace name namespace: default roleRef: kind: ClusterRole name: rbd-csi-nodeplugin apiGroup: rbac.authorization.k8s.io --- apiVersion: policy/v1beta1 kind: PodSecurityPolicy metadata: name: rbd-csi-provisioner-psp spec: fsGroup: rule: RunAsAny runAsUser: rule: RunAsAny seLinux: rule: RunAsAny supplementalGroups: rule: RunAsAny volumes: - 'configMap' - 'emptyDir' - 'projected' - 'secret' - 'hostPath' allowedHostPaths: - pathPrefix: '/dev' readOnly: false - pathPrefix: '/sys' readOnly: false - pathPrefix: '/lib/modules' readOnly: true --- kind: Role apiVersion: rbac.authorization.k8s.io/v1 metadata: # replace with non-default namespace name namespace: default name: rbd-csi-provisioner-psp rules: - apiGroups: ['policy'] resources: ['podsecuritypolicies'] verbs: ['use'] re","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:2:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#åˆ›å»º-rbd-provisioner"},{"categories":["å­˜å‚¨"],"content":" ä½¿ç”¨ ceph-secret.yaml --- apiVersion: v1 kind: Secret metadata: name: csi-rbd-secret namespace: default stringData: # Key values correspond to a user name and its key, as defined in the # ceph cluster. User ID should have required access to the 'pool' # specified in the storage class userID: test-user1 userKey: AQDcMFZjIuiEOxAAXNPIekYCpCloCGWdJbweCA== # Encryption passphrase encryptionPassphrase: test_passphrase sc.yaml --- apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: csi-rbd-sc provisioner: rbd.csi.ceph.com parameters: clusterID: b2b9b4c6-af9c-454d-b744-096b21cd2404 pool: test-pool1 imageFeatures: \"layering\" csi.storage.k8s.io/provisioner-secret-name: csi-rbd-secret csi.storage.k8s.io/provisioner-secret-namespace: default csi.storage.k8s.io/controller-expand-secret-name: csi-rbd-secret csi.storage.k8s.io/controller-expand-secret-namespace: default csi.storage.k8s.io/node-stage-secret-name: csi-rbd-secret csi.storage.k8s.io/node-stage-secret-namespace: default csi.storage.k8s.io/fstype: ext4 reclaimPolicy: Delete allowVolumeExpansion: true mountOptions: - discard ä½¿ç”¨æµ‹è¯•ï¼ˆåˆ›å»º pvã€pvcï¼‰ --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: rbd-pvc spec: accessModes: - ReadWriteOnce resources: requests: storage: 1Gi storageClassName: csi-rbd-sc --- kind: Pod apiVersion: v1 metadata: name: test-pod spec: containers: - name: test-pod image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeMounts: - name: pvc mountPath: \"/mnt\" restartPolicy: \"Never\" volumes: - name: pvc persistentVolumeClaim: claimName: rbd-pvc ","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:2:3","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#ä½¿ç”¨"},{"categories":["å­˜å‚¨"],"content":" NFS","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:3:0","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#nfs"},{"categories":["å­˜å‚¨"],"content":" å®‰è£… nfs provisioner --- apiVersion: v1 kind: ServiceAccount metadata: name: csi-nfs-controller-sa namespace: kube-system --- apiVersion: v1 kind: ServiceAccount metadata: name: csi-nfs-node-sa namespace: kube-system --- kind: ClusterRole apiVersion: rbac.authorization.k8s.io/v1 metadata: name: nfs-external-provisioner-role rules: - apiGroups: [\"\"] resources: [\"persistentvolumes\"] verbs: [\"get\", \"list\", \"watch\", \"create\", \"delete\"] - apiGroups: [\"\"] resources: [\"persistentvolumeclaims\"] verbs: [\"get\", \"list\", \"watch\", \"update\"] - apiGroups: [\"storage.k8s.io\"] resources: [\"storageclasses\"] verbs: [\"get\", \"list\", \"watch\"] - apiGroups: [\"\"] resources: [\"events\"] verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"patch\"] - apiGroups: [\"storage.k8s.io\"] resources: [\"csinodes\"] verbs: [\"get\", \"list\", \"watch\"] - apiGroups: [\"\"] resources: [\"nodes\"] verbs: [\"get\", \"list\", \"watch\"] - apiGroups: [\"coordination.k8s.io\"] resources: [\"leases\"] verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"patch\"] - apiGroups: [\"\"] resources: [\"secrets\"] verbs: [\"get\"] --- kind: ClusterRoleBinding apiVersion: rbac.authorization.k8s.io/v1 metadata: name: nfs-csi-provisioner-binding subjects: - kind: ServiceAccount name: csi-nfs-controller-sa namespace: kube-system roleRef: kind: ClusterRole name: nfs-external-provisioner-role apiGroup: rbac.authorization.k8s.io --- apiVersion: storage.k8s.io/v1 kind: CSIDriver metadata: name: nfs.csi.k8s.io spec: attachRequired: false volumeLifecycleModes: - Persistent - Ephemeral fsGroupPolicy: File --- kind: Deployment apiVersion: apps/v1 metadata: name: csi-nfs-controller namespace: kube-system spec: replicas: 1 selector: matchLabels: app: csi-nfs-controller template: metadata: labels: app: csi-nfs-controller spec: hostNetwork: true # controller also needs to mount nfs to create dir dnsPolicy: Default # available values: Default, ClusterFirstWithHostNet, ClusterFirst serviceAccountName: csi-nfs-controller-sa nodeSelector: kubernetes.io/os: linux # add \"kubernetes.io/role: master\" to run controller on master node priorityClassName: system-cluster-critical tolerations: - key: \"node-role.kubernetes.io/master\" operator: \"Exists\" effect: \"NoSchedule\" - key: \"node-role.kubernetes.io/controlplane\" operator: \"Exists\" effect: \"NoSchedule\" - key: \"node-role.kubernetes.io/control-plane\" operator: \"Exists\" effect: \"NoSchedule\" containers: - name: csi-provisioner #image: registry.k8s.io/sig-storage/csi-provisioner:v3.1.0 #image: registry.aliyuncs.com/google_containers/csi-provisioner:v3.1.0 image: image.cestc.cn/ceake/csi-provisioner:v3.1.0 args: - \"-v=2\" - \"--csi-address=$(ADDRESS)\" - \"--leader-election\" - \"--leader-election-namespace=kube-system\" env: - name: ADDRESS value: /csi/csi.sock volumeMounts: - mountPath: /csi name: socket-dir resources: limits: memory: 400Mi requests: cpu: 10m memory: 20Mi - name: liveness-probe #image: registry.k8s.io/sig-storage/livenessprobe:v2.7.0 #image: registry.aliyuncs.com/google_containers/livenessprobe:v2.7.0 image: image.cestc.cn/ceake/livenessprobe:v2.7.0 args: - --csi-address=/csi/csi.sock - --probe-timeout=3s - --health-port=29652 - --v=2 volumeMounts: - name: socket-dir mountPath: /csi resources: limits: memory: 100Mi requests: cpu: 10m memory: 20Mi - name: nfs #image: gcr.io/k8s-staging-sig-storage/nfsplugin:canary #image: gcr.lank8s.cn/k8s-staging-sig-storage/nfsplugin:canary image: image.cestc.cn/ceake/nfsplugin:canary securityContext: privileged: true capabilities: add: [\"SYS_ADMIN\"] allowPrivilegeEscalation: true imagePullPolicy: IfNotPresent args: - \"-v=5\" - \"--nodeid=$(NODE_ID)\" - \"--endpoint=$(CSI_ENDPOINT)\" env: - name: NODE_ID valueFrom: fieldRef: fieldPath: spec.nodeName - name: CSI_ENDPOINT value: unix:///csi/csi.sock ports: - containerPort: 29652 name: healthz protocol: TCP livenessProbe: failureThreshold: 5 httpGet: path: /healthz port: healthz initialDelaySeconds: 30 timeoutSeconds: 10 periodSeconds: 30 volumeMounts: - name: pods-mount-dir mountPath: /var/lib/kubelet/p","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:3:1","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#å®‰è£…-nfs-provisioner"},{"categories":["å­˜å‚¨"],"content":" ä½¿ç”¨ sc.yaml apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: nfs-csi provisioner: nfs.csi.k8s.io parameters: # server: nfs-server.default.svc.cluster.local server: 10.253.11.215 share: /home/test reclaimPolicy: Delete volumeBindingMode: Immediate mountOptions: - nconnect=8 # only supported on linux kernel version \u003e= 5.3 - nfsvers=4.1 æˆ–è€…ä½¿ç”¨ç•Œé¢åˆ›å»ºï¼š åˆ›å»º pvcã€pvï¼š --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: pvc-nfs-dynamic spec: accessModes: - ReadWriteMany resources: requests: storage: 1Gi storageClassName: nfs-csi --- kind: Pod apiVersion: v1 metadata: name: nfs-test-pod spec: containers: - name: test-pod image: image.cestc.cn/ceake/busybox:0.0.0-test-build command: [\"sleep\", \"1d\"] volumeMounts: - name: pvc mountPath: \"/mnt\" restartPolicy: \"Never\" volumes: - name: pvc persistentVolumeClaim: claimName: pvc-nfs-dynamic ","date":"2023-05-16","objectID":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/:3:2","series":["åå·¥ä½œæ€§è´¨è®°å½•"],"tags":[],"title":"cke å­˜å‚¨æ¥å…¥ï¼ˆä¸­ä¿¡é“¶è¡Œpocï¼‰","uri":"/202305161452-cke-%E5%AD%98%E5%82%A8%E6%8E%A5%E5%85%A5%E4%B8%AD%E4%BF%A1%E9%93%B6%E8%A1%8Cpoc/#ä½¿ç”¨-1"},{"categories":["å­˜å‚¨"],"content":"#linux #storage ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:0:0","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#"},{"categories":["å­˜å‚¨"],"content":" ä¸€ã€fcsan å¦‚ä½•è¿›è¡ŒæŒ‚è½½å‚è€ƒèµ„æ–™ https://its401.com/article/wanminxg/54342430 https://github.com/openstack/os-brick/blob/7a6a09fc84a779c3ee08d122664f941195eeab8f/os_brick/initiator/linuxfc.py#L88 https://vk.masantu.com/wiki/ğŸ’»å·¥ä½œ/å­˜å‚¨/scstadm-cmd/ ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:1:0","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#ä¸€fcsan-å¦‚ä½•è¿›è¡ŒæŒ‚è½½"},{"categories":["å­˜å‚¨"],"content":" å­˜å‚¨ç«¯ æ¿€æ´» HBA æ¥å£ # æŸ¥çœ‹å½“å‰ port çš„çŠ¶æ€ cat /sys/class/fc_host/host*/port_state ç»‘å®š wwn ç¼–å· åˆ’åˆ† lun fdisk è®¾å¤‡ åˆ›å»º group scstadmin -add_group **ESX** -driver qla2x00t -target **21:00:00:24:ff:5c:aa:15** ç»‘å®š lun è¿› group # å»ºç«‹è™šæ‹Ÿç£ç›˜ä¸ç‰©ç†ç›˜çš„æ˜ å°„å…³ç³» scstadmin -open_dev **disk01** -handler vdisk_blockio -attributes filename=**/dev/sdb1** ## æ‰§è¡Œä¸Šè¿°å‘½ä»¤ä¹‹åï¼Œæ˜¯å¦éœ€è¦æ‰§è¡Œä¸‹è¿°å‘½ä»¤ï¼Ÿ scstadmin -write_config /etc/scst.conf # æ·»åŠ è™šæ‹Ÿç£ç›˜åˆ° target scstadmin -add_lun **0** -driver qla2x00t -target **21:00:00:24:ff:5c:aa:15 -device disk01** scst æœåŠ¡æ£€æŸ¥ scstadmin -list_session ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:1:1","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#å­˜å‚¨ç«¯"},{"categories":["å­˜å‚¨"],"content":" å®¢æˆ·ç«¯ echo 1 \u003e /sys/class/fc_host/host15/issue_lip æŒ‚è½½ç›˜è¿‡æ¥ä¹‹åï¼Œç”Ÿæˆäº†ç›®å½•ï¼š /sys/class/fc_transport/target15:0:0 # æŒ‚è½½ lun ä¸º 1 çš„ç›˜ echo 0 0 1 \u003e /sys/class/scsi_host/host15/scan # è¿™ä¸ªç›®å½•æ˜¯åœ¨æœ‰æŒ‚ç›˜çš„æƒ…å†µä¸‹æ‰æœ‰çš„ [root@iaas-test-193-ctl-226-195 ~]# cat /sys/class/fc_transport/target15\\:0\\:0/port_name 0x56c92bfa00218005 [root@iaas-test-193-ctl-226-195 ~]# grep -Gil 0x56c92bfa00218005 /sys/class/fc_transport/target15\\:0\\:0/port_name\\ \u003e \\ \u003e /sys/class/fc_transport/target15:0:0/port_name # ä¸Šé¢è¿™ä¸ªç»“æœæœ‰å¯èƒ½æœ‰å¤šè¡Œï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹æ˜¯å¤šè¡Œ [root@iaas-test-193-ctl-226-195 ~]# grep -Gil 0x56c92bfa00218005123 /sys/class/fc_transport/target15\\:0\\:0/port_name ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:1:2","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#å®¢æˆ·ç«¯"},{"categories":["å­˜å‚¨"],"content":" e.g. æµªæ½® fcsan æœåŠ¡ç«¯é…ç½® ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:1:3","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#eg-æµªæ½®-fcsan-æœåŠ¡ç«¯é…ç½®"},{"categories":["å­˜å‚¨"],"content":" äºŒã€å¼€å‘æ–¹æ¡ˆ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:2:0","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#äºŒå¼€å‘æ–¹æ¡ˆ"},{"categories":["å­˜å‚¨"],"content":" 2.1 api è¯·æ±‚æµç¨‹ sequenceDiagram ecsServer-\u003e\u003e+nodeAgent: è·å– hostiqn nodeAgent-\u003e\u003e-ecsServer: è¿”å› hostiqn ecsServer-\u003e\u003eebs: åˆå§‹åŒ–é“¾æ¥ ebs-\u003e\u003eecsServer: åˆå§‹åŒ–ç»“æœ ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:2:1","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#21-api-è¯·æ±‚æµç¨‹"},{"categories":["å­˜å‚¨"],"content":" 2.2 è™šæœºè°ƒåº¦æ–¹æ¡ˆ è™šæœºæ·»åŠ ä¸€ä¸ªå±æ€§ï¼šfcsan_support ç”¨æ¥æ ‡è¯†è™šæœºæ˜¯å¦æ”¯æŒ fcsan æŒ‚å¸è½½ï¼Œè¯¥å±æ€§ä»…æ”¯æŒåœ¨å…³æœºçš„çŠ¶æ€ä¸‹ä¿®æ”¹ å¦‚æœè™šæœº fcsan_support æ“ä½œ æè¿° true å†·çƒ­æŒ‚å¸è½½ å…è®¸ false å†·æŒ‚å¸è½½ å…è®¸ false çƒ­å¸è½½ å…è®¸ false çƒ­æŒ‚è½½ æç¤ºâ€œå½“å‰è™šæœºä¸æ”¯æŒçƒ­æŒ‚è½½ç±»å‹ä¸ºfibre channelçš„äº‘ç›˜ï¼Œè¯·åœ¨å…³æœºçŠ¶æ€ä¸‹æ“ä½œâ€ å½“è™šæœºåˆ›å»ºçš„æ—¶å€™å°±æŒ‚è½½äº† fcsan çš„ç›˜ï¼Œåˆ™è®¾ç½® fcsan_support ä¸º true æ’å…¥ hba å¡ï¼Œdevice plugin1 è‡ªåŠ¨è¯†åˆ«ï¼Œæ›´æ–°èŠ‚ç‚¹çš„èµ„æºå±æ€§ ç®€å•ä¾‹å­ å…ˆå°è¯•æ‰‹åŠ¨ç»™ k8s èŠ‚ç‚¹ æ‰“ä¸Šèµ„æºä¿¡æ¯ï¼ˆæ¨¡æ‹Ÿ device plugin ç»™ k8s ä¸ŠæŠ¥ HBA èµ„æºï¼‰ï¼Œç„¶åå‘ api åˆ›å»ºè™šæœºï¼Œçœ‹æ˜¯å¦èµ·åˆ°å¯¹åº”èŠ‚ç‚¹ï¼Ÿå¹¶ä¸”èµ„æºæ•°æ˜¯å¦ -1 è™šæœºpodï¼š resources: limits: fcsan/hba: \"1\" requests: fcsan/hba: \"1\" node èŠ‚ç‚¹ä¿¡æ¯ï¼š ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:2:2","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#22-è™šæœºè°ƒåº¦æ–¹æ¡ˆ"},{"categories":["å­˜å‚¨"],"content":" 2.3 æŒ‚å¸è½½è®¾è®¡æ–¹æ¡ˆ 1.0 å•ç›˜æŒ‚è½½ ç¬¬ä¸€å±‚è™šæœºçŠ¶æ€çš„æ‹¦æˆªï¼šå¦‚æœè™šæœºçŠ¶æ€ä¸ºå¼€æœºï¼Œä¸å…è®¸æŒ‚è½½ï¼ŒçŠ¶æ€ä¸ºå…³æœºåˆ™æ”¾è¡Œ åˆ¤æ–­è™šæœº fcsan å±æ€§ï¼Œå¦‚æœä¸º falseï¼Œåˆ›å»ºæ–°çš„ stsï¼Œåˆ é™¤æ—§çš„ stsï¼Œè™šæœº fcsan å±æ€§ç½®ä¸º true å¦‚æœä¸º true æ— æ“ä½œ å•ç›˜å¸è½½ æ‰¹é‡æŒ‚è½½ ç›˜åˆ—è¡¨çš„æƒ…å†µï¼šã€fcsanç›˜ã€éfcsanç›˜ã€‘ éfcsançš„ç›˜æ”¾è¡Œï¼Œç»§ç»­åç»­çš„æŒ‚è½½æ“ä½œ fcsançš„ç›˜éœ€è¦åˆ¤æ–­å½“å‰è™šæœºçŠ¶æ€ï¼Œå¦‚æœè™šæœºçŠ¶æ€ä¸ºå¼€æœºï¼Œæ‹¦æˆªè¿™äº›ç›˜çš„æŒ‚è½½æ“ä½œï¼Œè¿”å›æç¤ºï¼šè¿™äº›ç›˜éœ€è¦åœ¨å…³æœºçŠ¶æ€ä¸‹æ“ä½œ å¦‚æœè™šæœºçŠ¶æ€ä¸ºå…³æœºï¼Œåˆ¤æ–­è™šæœºçš„fcsanå±æ€§ï¼Œå¦‚æœä¸º falseï¼Œåˆ›å»ºæ–°çš„ stsï¼Œåˆ é™¤æ—§çš„ stsï¼Œè™šæœº fcsan å±æ€§ç½®ä¸º trueï¼Œå¦‚æœä¸º trueï¼Œåˆ™æ— æ“ä½œ æ‰¹é‡å¸è½½ # å•ç›˜æŒ‚è½½ curl -H \"Content-Type: application/json\" -X POST -d '{\"volume_id\":\"vol-de2w9x9nzqwggf\",\"delete_on_termination\":false,\"device\":\"\"}' 10.151.0.147:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-de9soljuhecvky/attachVolume # å•ç›˜å¸è½½ curl -H \"Content-Type: application/json\" -X DELETE 10.151.0.147:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-de538f14upm1rw/detachVolume/vol-de2w9x9nzqwggf # å¤šç›˜æŒ‚è½½ curl -H \"Content-Type: application/json\" -X POST -d '{\"attach_volume\":[{\"volume_id\":\"vol-de2w9x9nzqwggf\",\"delete_on_termination\":false,\"device\":\"\"},{\"volume_id\":\"vol-de8dro3ezonnpg\",\"delete_on_termination\":false,\"device\":\"\"}]}' 10.151.131.90:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-des5bwski1o6pa/attachVolumes 2.0 å•ç›˜æŒ‚è½½ è·å–è™šæœº FcsanSupport å±æ€§ åˆ¤æ–­ FcsanSupport == trueï¼ˆè¡¨æ˜è™šæœºå½“å‰æ˜¯æ”¯æŒfcsanç›˜æŒ‚è½½çš„ï¼‰ï¼Œåˆ™åç»­çš„æ“ä½œéƒ½æŒ‰æ­£å¸¸æŒ‚è½½ï¼Œæ— è®ºè™šæœºæ˜¯å¼€æœºè¿˜æ˜¯å…³æœºçŠ¶æ€éƒ½èƒ½å¤ŸæŒ‚è½½ FcsanSupport == false ï¼ˆè¡¨æ˜è™šæœºå½“å‰ä¸æ”¯æŒfcsanç›˜æŒ‚è½½ï¼‰ï¼Œè¿›ä¸€æ­¥è·å– vtype protocol type å±æ€§ï¼Œ å¦‚æœ type == â€œfcâ€ï¼Œè¿›ä¸€æ­¥åˆ¤æ–­è™šæœºçš„çŠ¶æ€ï¼Œ å¦‚æœ è™šæœºçŠ¶æ€ == å…³æœºï¼Œæ”¯æŒæŒ‚è½½ï¼Œå¹¶ä¸”æ”¹å˜ FcsanSupport çš„å€¼ä¸º trueï¼Œé‡æ–°åˆ›å»ºè™šæœºçš„ sts ã€FcsanSupport: false â†’ true çš„çŠ¶æ€è½¬æ¢ã€‘ å¦‚æœ è™šæœºçŠ¶æ€ == å¼€æœºï¼Œç›´æ¥è¿”å›æç¤ºï¼šâ€œå½“å‰è™šæœºçš„çŠ¶æ€ä¸æ”¯æŒçƒ­æŒ‚è½½ fcsan çš„ç›˜â€ å•ç›˜å¸è½½ FcsanSupport == true æ­£å¸¸å¸è½½ FcsanSupport == false é—®é¢˜ï¼šå¦‚æœè™šæœºæŒ‚è½½è¿‡ fcsan çš„ç›˜ï¼Œåæ¥å…¨å¸è½½äº†ï¼Œè™šæœºçš„ FcsanSupport æ˜¯å¦éœ€è¦å˜å› falseï¼Ÿ å¦‚æœä¸å˜å› falseï¼Œå¥½å¤„æ˜¯ä¹‹åèƒ½å¤Ÿçƒ­æŒ‚è½½ fcsan çš„ç›˜ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´æŒ‚è½½è¿‡ fcsan ç±»å‹ç›˜çš„è™šæœº pod éƒ½è·‘åˆ°äº†æœ‰ hba çš„èŠ‚ç‚¹ å¦‚æœéœ€è¦å˜å› falseï¼Œåˆ™éœ€è¦åœ¨æ¯æ¬¡å¸è½½çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹è¿™å—ç›˜æ˜¯ä¸æ˜¯è™šæœºçš„æœ€åä¸€å—fcsançš„ç›˜ ã€FcsanSupportï¼štrueâ†’false çš„çŠ¶æ€è½¬æ¢ã€‘ æ‰¹é‡æŒ‚è½½ FcsanSupport == true æ­£å¸¸å¸è½½ FcsanSupport == false åˆ¤æ–­è™šæœºçŠ¶æ€ è™šæœºçŠ¶æ€ == å¼€æœºï¼Œæ‹¦æˆªæ“ä½œï¼Œè¿”å›æç¤º è™šæœºçŠ¶æ€ == å…³æœºï¼Œã€FcsanSupportï¼š falseâ†’true çš„çŠ¶æ€è½¬æ¢ã€‘ Kubernetesçš„Device Pluginæ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨äºç®¡ç†å’Œåˆ†é…èŠ‚ç‚¹ä¸Šçš„è®¾å¤‡èµ„æºã€‚å®ƒå…è®¸ç”¨æˆ·å°†è‡ªå®šä¹‰è®¾å¤‡ï¼ˆå¦‚GPUã€FPGAç­‰ï¼‰æ·»åŠ åˆ°Kubernetesé›†ç¾¤ä¸­ï¼Œå¹¶ä½¿è¿™äº›è®¾å¤‡å¯ä¾›å®¹å™¨ä½¿ç”¨ã€‚Device Pluginé€šè¿‡å®ç°Kubernetes Device Plugin APIæ¥å·¥ä½œã€‚è¯¥APIå®šä¹‰äº†ä¸€ç»„è§„èŒƒï¼Œç”¨äºæ’ä»¶ä¸Kubernetes API Serverè¿›è¡Œé€šä¿¡ï¼Œå¹¶å‘å…¶æŠ¥å‘Šå¯ç”¨è®¾å¤‡èµ„æºã€‚æ’ä»¶è¿˜å¯ä»¥å“åº”Podçš„è¯·æ±‚ï¼Œä»¥ä¾¿å°†è®¾å¤‡èµ„æºåˆ†é…ç»™Podã€‚ä½¿ç”¨Device Pluginï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°å°†è‡ªå®šä¹‰è®¾å¤‡æ·»åŠ åˆ°Kubernetesé›†ç¾¤ä¸­ï¼Œå¹¶ç¡®ä¿è¿™äº›è®¾å¤‡åœ¨éœ€è¦æ—¶å¯ä¾›å®¹å™¨ä½¿ç”¨ã€‚è¿™æœ‰åŠ©äºæé«˜é›†ç¾¤çš„åˆ©ç”¨ç‡ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„æ€§èƒ½å’Œçµæ´»æ€§ã€‚Â â†©ï¸ ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:2:3","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#23-æŒ‚å¸è½½è®¾è®¡æ–¹æ¡ˆ"},{"categories":["å­˜å‚¨"],"content":" 2.3 æŒ‚å¸è½½è®¾è®¡æ–¹æ¡ˆ 1.0 å•ç›˜æŒ‚è½½ ç¬¬ä¸€å±‚è™šæœºçŠ¶æ€çš„æ‹¦æˆªï¼šå¦‚æœè™šæœºçŠ¶æ€ä¸ºå¼€æœºï¼Œä¸å…è®¸æŒ‚è½½ï¼ŒçŠ¶æ€ä¸ºå…³æœºåˆ™æ”¾è¡Œ åˆ¤æ–­è™šæœº fcsan å±æ€§ï¼Œå¦‚æœä¸º falseï¼Œåˆ›å»ºæ–°çš„ stsï¼Œåˆ é™¤æ—§çš„ stsï¼Œè™šæœº fcsan å±æ€§ç½®ä¸º true å¦‚æœä¸º true æ— æ“ä½œ å•ç›˜å¸è½½ æ‰¹é‡æŒ‚è½½ ç›˜åˆ—è¡¨çš„æƒ…å†µï¼šã€fcsanç›˜ã€éfcsanç›˜ã€‘ éfcsançš„ç›˜æ”¾è¡Œï¼Œç»§ç»­åç»­çš„æŒ‚è½½æ“ä½œ fcsançš„ç›˜éœ€è¦åˆ¤æ–­å½“å‰è™šæœºçŠ¶æ€ï¼Œå¦‚æœè™šæœºçŠ¶æ€ä¸ºå¼€æœºï¼Œæ‹¦æˆªè¿™äº›ç›˜çš„æŒ‚è½½æ“ä½œï¼Œè¿”å›æç¤ºï¼šè¿™äº›ç›˜éœ€è¦åœ¨å…³æœºçŠ¶æ€ä¸‹æ“ä½œ å¦‚æœè™šæœºçŠ¶æ€ä¸ºå…³æœºï¼Œåˆ¤æ–­è™šæœºçš„fcsanå±æ€§ï¼Œå¦‚æœä¸º falseï¼Œåˆ›å»ºæ–°çš„ stsï¼Œåˆ é™¤æ—§çš„ stsï¼Œè™šæœº fcsan å±æ€§ç½®ä¸º trueï¼Œå¦‚æœä¸º trueï¼Œåˆ™æ— æ“ä½œ æ‰¹é‡å¸è½½ # å•ç›˜æŒ‚è½½ curl -H \"Content-Type: application/json\" -X POST -d '{\"volume_id\":\"vol-de2w9x9nzqwggf\",\"delete_on_termination\":false,\"device\":\"\"}' 10.151.0.147:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-de9soljuhecvky/attachVolume # å•ç›˜å¸è½½ curl -H \"Content-Type: application/json\" -X DELETE 10.151.0.147:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-de538f14upm1rw/detachVolume/vol-de2w9x9nzqwggf # å¤šç›˜æŒ‚è½½ curl -H \"Content-Type: application/json\" -X POST -d '{\"attach_volume\":[{\"volume_id\":\"vol-de2w9x9nzqwggf\",\"delete_on_termination\":false,\"device\":\"\"},{\"volume_id\":\"vol-de8dro3ezonnpg\",\"delete_on_termination\":false,\"device\":\"\"}]}' 10.151.131.90:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-des5bwski1o6pa/attachVolumes 2.0 å•ç›˜æŒ‚è½½ è·å–è™šæœº FcsanSupport å±æ€§ åˆ¤æ–­ FcsanSupport == trueï¼ˆè¡¨æ˜è™šæœºå½“å‰æ˜¯æ”¯æŒfcsanç›˜æŒ‚è½½çš„ï¼‰ï¼Œåˆ™åç»­çš„æ“ä½œéƒ½æŒ‰æ­£å¸¸æŒ‚è½½ï¼Œæ— è®ºè™šæœºæ˜¯å¼€æœºè¿˜æ˜¯å…³æœºçŠ¶æ€éƒ½èƒ½å¤ŸæŒ‚è½½ FcsanSupport == false ï¼ˆè¡¨æ˜è™šæœºå½“å‰ä¸æ”¯æŒfcsanç›˜æŒ‚è½½ï¼‰ï¼Œè¿›ä¸€æ­¥è·å– vtype protocol type å±æ€§ï¼Œ å¦‚æœ type == â€œfcâ€ï¼Œè¿›ä¸€æ­¥åˆ¤æ–­è™šæœºçš„çŠ¶æ€ï¼Œ å¦‚æœ è™šæœºçŠ¶æ€ == å…³æœºï¼Œæ”¯æŒæŒ‚è½½ï¼Œå¹¶ä¸”æ”¹å˜ FcsanSupport çš„å€¼ä¸º trueï¼Œé‡æ–°åˆ›å»ºè™šæœºçš„ sts ã€FcsanSupport: false â†’ true çš„çŠ¶æ€è½¬æ¢ã€‘ å¦‚æœ è™šæœºçŠ¶æ€ == å¼€æœºï¼Œç›´æ¥è¿”å›æç¤ºï¼šâ€œå½“å‰è™šæœºçš„çŠ¶æ€ä¸æ”¯æŒçƒ­æŒ‚è½½ fcsan çš„ç›˜â€ å•ç›˜å¸è½½ FcsanSupport == true æ­£å¸¸å¸è½½ FcsanSupport == false é—®é¢˜ï¼šå¦‚æœè™šæœºæŒ‚è½½è¿‡ fcsan çš„ç›˜ï¼Œåæ¥å…¨å¸è½½äº†ï¼Œè™šæœºçš„ FcsanSupport æ˜¯å¦éœ€è¦å˜å› falseï¼Ÿ å¦‚æœä¸å˜å› falseï¼Œå¥½å¤„æ˜¯ä¹‹åèƒ½å¤Ÿçƒ­æŒ‚è½½ fcsan çš„ç›˜ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´æŒ‚è½½è¿‡ fcsan ç±»å‹ç›˜çš„è™šæœº pod éƒ½è·‘åˆ°äº†æœ‰ hba çš„èŠ‚ç‚¹ å¦‚æœéœ€è¦å˜å› falseï¼Œåˆ™éœ€è¦åœ¨æ¯æ¬¡å¸è½½çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹è¿™å—ç›˜æ˜¯ä¸æ˜¯è™šæœºçš„æœ€åä¸€å—fcsançš„ç›˜ ã€FcsanSupportï¼štrueâ†’false çš„çŠ¶æ€è½¬æ¢ã€‘ æ‰¹é‡æŒ‚è½½ FcsanSupport == true æ­£å¸¸å¸è½½ FcsanSupport == false åˆ¤æ–­è™šæœºçŠ¶æ€ è™šæœºçŠ¶æ€ == å¼€æœºï¼Œæ‹¦æˆªæ“ä½œï¼Œè¿”å›æç¤º è™šæœºçŠ¶æ€ == å…³æœºï¼Œã€FcsanSupportï¼š falseâ†’true çš„çŠ¶æ€è½¬æ¢ã€‘ Kubernetesçš„Device Pluginæ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨äºç®¡ç†å’Œåˆ†é…èŠ‚ç‚¹ä¸Šçš„è®¾å¤‡èµ„æºã€‚å®ƒå…è®¸ç”¨æˆ·å°†è‡ªå®šä¹‰è®¾å¤‡ï¼ˆå¦‚GPUã€FPGAç­‰ï¼‰æ·»åŠ åˆ°Kubernetesé›†ç¾¤ä¸­ï¼Œå¹¶ä½¿è¿™äº›è®¾å¤‡å¯ä¾›å®¹å™¨ä½¿ç”¨ã€‚Device Pluginé€šè¿‡å®ç°Kubernetes Device Plugin APIæ¥å·¥ä½œã€‚è¯¥APIå®šä¹‰äº†ä¸€ç»„è§„èŒƒï¼Œç”¨äºæ’ä»¶ä¸Kubernetes API Serverè¿›è¡Œé€šä¿¡ï¼Œå¹¶å‘å…¶æŠ¥å‘Šå¯ç”¨è®¾å¤‡èµ„æºã€‚æ’ä»¶è¿˜å¯ä»¥å“åº”Podçš„è¯·æ±‚ï¼Œä»¥ä¾¿å°†è®¾å¤‡èµ„æºåˆ†é…ç»™Podã€‚ä½¿ç”¨Device Pluginï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°å°†è‡ªå®šä¹‰è®¾å¤‡æ·»åŠ åˆ°Kubernetesé›†ç¾¤ä¸­ï¼Œå¹¶ç¡®ä¿è¿™äº›è®¾å¤‡åœ¨éœ€è¦æ—¶å¯ä¾›å®¹å™¨ä½¿ç”¨ã€‚è¿™æœ‰åŠ©äºæé«˜é›†ç¾¤çš„åˆ©ç”¨ç‡ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„æ€§èƒ½å’Œçµæ´»æ€§ã€‚Â â†©ï¸ ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:2:3","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#10"},{"categories":["å­˜å‚¨"],"content":" 2.3 æŒ‚å¸è½½è®¾è®¡æ–¹æ¡ˆ 1.0 å•ç›˜æŒ‚è½½ ç¬¬ä¸€å±‚è™šæœºçŠ¶æ€çš„æ‹¦æˆªï¼šå¦‚æœè™šæœºçŠ¶æ€ä¸ºå¼€æœºï¼Œä¸å…è®¸æŒ‚è½½ï¼ŒçŠ¶æ€ä¸ºå…³æœºåˆ™æ”¾è¡Œ åˆ¤æ–­è™šæœº fcsan å±æ€§ï¼Œå¦‚æœä¸º falseï¼Œåˆ›å»ºæ–°çš„ stsï¼Œåˆ é™¤æ—§çš„ stsï¼Œè™šæœº fcsan å±æ€§ç½®ä¸º true å¦‚æœä¸º true æ— æ“ä½œ å•ç›˜å¸è½½ æ‰¹é‡æŒ‚è½½ ç›˜åˆ—è¡¨çš„æƒ…å†µï¼šã€fcsanç›˜ã€éfcsanç›˜ã€‘ éfcsançš„ç›˜æ”¾è¡Œï¼Œç»§ç»­åç»­çš„æŒ‚è½½æ“ä½œ fcsançš„ç›˜éœ€è¦åˆ¤æ–­å½“å‰è™šæœºçŠ¶æ€ï¼Œå¦‚æœè™šæœºçŠ¶æ€ä¸ºå¼€æœºï¼Œæ‹¦æˆªè¿™äº›ç›˜çš„æŒ‚è½½æ“ä½œï¼Œè¿”å›æç¤ºï¼šè¿™äº›ç›˜éœ€è¦åœ¨å…³æœºçŠ¶æ€ä¸‹æ“ä½œ å¦‚æœè™šæœºçŠ¶æ€ä¸ºå…³æœºï¼Œåˆ¤æ–­è™šæœºçš„fcsanå±æ€§ï¼Œå¦‚æœä¸º falseï¼Œåˆ›å»ºæ–°çš„ stsï¼Œåˆ é™¤æ—§çš„ stsï¼Œè™šæœº fcsan å±æ€§ç½®ä¸º trueï¼Œå¦‚æœä¸º trueï¼Œåˆ™æ— æ“ä½œ æ‰¹é‡å¸è½½ # å•ç›˜æŒ‚è½½ curl -H \"Content-Type: application/json\" -X POST -d '{\"volume_id\":\"vol-de2w9x9nzqwggf\",\"delete_on_termination\":false,\"device\":\"\"}' 10.151.0.147:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-de9soljuhecvky/attachVolume # å•ç›˜å¸è½½ curl -H \"Content-Type: application/json\" -X DELETE 10.151.0.147:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-de538f14upm1rw/detachVolume/vol-de2w9x9nzqwggf # å¤šç›˜æŒ‚è½½ curl -H \"Content-Type: application/json\" -X POST -d '{\"attach_volume\":[{\"volume_id\":\"vol-de2w9x9nzqwggf\",\"delete_on_termination\":false,\"device\":\"\"},{\"volume_id\":\"vol-de8dro3ezonnpg\",\"delete_on_termination\":false,\"device\":\"\"}]}' 10.151.131.90:8080/compute/ecs/ops/v1/210512031000400/servers/ecs-des5bwski1o6pa/attachVolumes 2.0 å•ç›˜æŒ‚è½½ è·å–è™šæœº FcsanSupport å±æ€§ åˆ¤æ–­ FcsanSupport == trueï¼ˆè¡¨æ˜è™šæœºå½“å‰æ˜¯æ”¯æŒfcsanç›˜æŒ‚è½½çš„ï¼‰ï¼Œåˆ™åç»­çš„æ“ä½œéƒ½æŒ‰æ­£å¸¸æŒ‚è½½ï¼Œæ— è®ºè™šæœºæ˜¯å¼€æœºè¿˜æ˜¯å…³æœºçŠ¶æ€éƒ½èƒ½å¤ŸæŒ‚è½½ FcsanSupport == false ï¼ˆè¡¨æ˜è™šæœºå½“å‰ä¸æ”¯æŒfcsanç›˜æŒ‚è½½ï¼‰ï¼Œè¿›ä¸€æ­¥è·å– vtype protocol type å±æ€§ï¼Œ å¦‚æœ type == â€œfcâ€ï¼Œè¿›ä¸€æ­¥åˆ¤æ–­è™šæœºçš„çŠ¶æ€ï¼Œ å¦‚æœ è™šæœºçŠ¶æ€ == å…³æœºï¼Œæ”¯æŒæŒ‚è½½ï¼Œå¹¶ä¸”æ”¹å˜ FcsanSupport çš„å€¼ä¸º trueï¼Œé‡æ–°åˆ›å»ºè™šæœºçš„ sts ã€FcsanSupport: false â†’ true çš„çŠ¶æ€è½¬æ¢ã€‘ å¦‚æœ è™šæœºçŠ¶æ€ == å¼€æœºï¼Œç›´æ¥è¿”å›æç¤ºï¼šâ€œå½“å‰è™šæœºçš„çŠ¶æ€ä¸æ”¯æŒçƒ­æŒ‚è½½ fcsan çš„ç›˜â€ å•ç›˜å¸è½½ FcsanSupport == true æ­£å¸¸å¸è½½ FcsanSupport == false é—®é¢˜ï¼šå¦‚æœè™šæœºæŒ‚è½½è¿‡ fcsan çš„ç›˜ï¼Œåæ¥å…¨å¸è½½äº†ï¼Œè™šæœºçš„ FcsanSupport æ˜¯å¦éœ€è¦å˜å› falseï¼Ÿ å¦‚æœä¸å˜å› falseï¼Œå¥½å¤„æ˜¯ä¹‹åèƒ½å¤Ÿçƒ­æŒ‚è½½ fcsan çš„ç›˜ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´æŒ‚è½½è¿‡ fcsan ç±»å‹ç›˜çš„è™šæœº pod éƒ½è·‘åˆ°äº†æœ‰ hba çš„èŠ‚ç‚¹ å¦‚æœéœ€è¦å˜å› falseï¼Œåˆ™éœ€è¦åœ¨æ¯æ¬¡å¸è½½çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹è¿™å—ç›˜æ˜¯ä¸æ˜¯è™šæœºçš„æœ€åä¸€å—fcsançš„ç›˜ ã€FcsanSupportï¼štrueâ†’false çš„çŠ¶æ€è½¬æ¢ã€‘ æ‰¹é‡æŒ‚è½½ FcsanSupport == true æ­£å¸¸å¸è½½ FcsanSupport == false åˆ¤æ–­è™šæœºçŠ¶æ€ è™šæœºçŠ¶æ€ == å¼€æœºï¼Œæ‹¦æˆªæ“ä½œï¼Œè¿”å›æç¤º è™šæœºçŠ¶æ€ == å…³æœºï¼Œã€FcsanSupportï¼š falseâ†’true çš„çŠ¶æ€è½¬æ¢ã€‘ Kubernetesçš„Device Pluginæ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨äºç®¡ç†å’Œåˆ†é…èŠ‚ç‚¹ä¸Šçš„è®¾å¤‡èµ„æºã€‚å®ƒå…è®¸ç”¨æˆ·å°†è‡ªå®šä¹‰è®¾å¤‡ï¼ˆå¦‚GPUã€FPGAç­‰ï¼‰æ·»åŠ åˆ°Kubernetesé›†ç¾¤ä¸­ï¼Œå¹¶ä½¿è¿™äº›è®¾å¤‡å¯ä¾›å®¹å™¨ä½¿ç”¨ã€‚Device Pluginé€šè¿‡å®ç°Kubernetes Device Plugin APIæ¥å·¥ä½œã€‚è¯¥APIå®šä¹‰äº†ä¸€ç»„è§„èŒƒï¼Œç”¨äºæ’ä»¶ä¸Kubernetes API Serverè¿›è¡Œé€šä¿¡ï¼Œå¹¶å‘å…¶æŠ¥å‘Šå¯ç”¨è®¾å¤‡èµ„æºã€‚æ’ä»¶è¿˜å¯ä»¥å“åº”Podçš„è¯·æ±‚ï¼Œä»¥ä¾¿å°†è®¾å¤‡èµ„æºåˆ†é…ç»™Podã€‚ä½¿ç”¨Device Pluginï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°å°†è‡ªå®šä¹‰è®¾å¤‡æ·»åŠ åˆ°Kubernetesé›†ç¾¤ä¸­ï¼Œå¹¶ç¡®ä¿è¿™äº›è®¾å¤‡åœ¨éœ€è¦æ—¶å¯ä¾›å®¹å™¨ä½¿ç”¨ã€‚è¿™æœ‰åŠ©äºæé«˜é›†ç¾¤çš„åˆ©ç”¨ç‡ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„æ€§èƒ½å’Œçµæ´»æ€§ã€‚Â â†©ï¸ ","date":"2023-05-16","objectID":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/:2:3","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"fcsan å¯¹æ¥è®°å½•","uri":"/202305161414-fcsan-%E5%AF%B9%E6%8E%A5%E8%AE%B0%E5%BD%95/#20"},{"categories":["å­˜å‚¨"],"content":"#linux #storage ","date":"2023-05-16","objectID":"/202305161408-%E5%88%A4%E6%96%AD-inspurfcsan-%E6%8C%82%E8%BD%BD/:0:0","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"åˆ¤æ–­ inspurã€fcsan æŒ‚è½½","uri":"/202305161408-%E5%88%A4%E6%96%AD-inspurfcsan-%E6%8C%82%E8%BD%BD/#"},{"categories":["å­˜å‚¨"],"content":" åˆ¤æ–­ inspurã€fcsan æŒ‚è½½ # é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ¤æ–­ ll /dev/disk/by-path/ | grep sd* e.g. [root@iaas-test-193-ctl-226-194 by-path]# ll /dev/disk/by-path/ | grep sdaq lrwxrwxrwx 1 root root 10 Feb 11 18:51 fc-0x100000109bcc0016-0x56c92bfa00228004-lun-1 -\u003e ../../sdaq lrwxrwxrwx 1 root root 10 Feb 11 18:51 pci-0000:b0:00.1-fc-0x56c92bfa00228004-lun-1 -\u003e ../../sdaq ç”±æ­¤åˆ¤æ–­ç£ç›˜ sdaq æ˜¯ fc æ–¹å¼æŒ‚è½½ ","date":"2023-05-16","objectID":"/202305161408-%E5%88%A4%E6%96%AD-inspurfcsan-%E6%8C%82%E8%BD%BD/:1:0","series":["iscsi-fcsan"],"tags":["linux","storage"],"title":"åˆ¤æ–­ inspurã€fcsan æŒ‚è½½","uri":"/202305161408-%E5%88%A4%E6%96%AD-inspurfcsan-%E6%8C%82%E8%BD%BD/#åˆ¤æ–­-inspurfcsan-æŒ‚è½½"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è§„åˆ’åŒº gantt dateFormat HH:mm axisFormat %H:%M tickInterval 1h title ä»Šå¤©å¤§æ¦‚è¦åš section æ–‡æ¡£è¿ç§» b7.openshiftæ–‡æ¡£:done,13:30, 1h b8.å·¥ä½œæ€§è´¨çš„æ–‡æ¡£: done,4h section ä¹ æƒ¯ ç®—æ³•æ¯æ—¥ä¸€é¢˜: 1h ","date":"2023-05-16","objectID":"/2023-05-16/:1:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-16 æ—¥è®°å½•","uri":"/2023-05-16/#è§„åˆ’åŒº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-ä¹ æƒ¯è®°å½•(v2.0)æ‰“å¡çŠ¶æ€ï¼š âœ… | âŒ æ”¹æˆä½¿ç”¨ todo åˆ—è¡¨çš„å½¢å¼æ¥è¡¨ç°ï¼Œæ¯ä¸ªæœˆçš„æ‰“å¡æƒ…å†µåœ¨æœˆåº¦æ€»ç»“é‡Œé¢ä½“ç° ç®—æ³•æ¯æ—¥ä¸€é¢˜ ","date":"2023-05-16","objectID":"/2023-05-16/:2:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-16 æ—¥è®°å½•","uri":"/2023-05-16/#è®°å½•åŒº-ä¹ æƒ¯è®°å½•"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-äº‹\u0026ç‰©è®° é‡è¦äº‹è®° æ—  æ–°äº‹ç‰© ","date":"2023-05-16","objectID":"/2023-05-16/:3:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-16 æ—¥è®°å½•","uri":"/2023-05-16/#è®°å½•åŒº-äº‹ç‰©è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-éšæ‰‹è®°ğŸ§ğŸµï¼ˆæŒ‘é¦–æ­Œï¼Ÿlocal:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ remote:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ï¼‰ æŠŠä¹‹å‰å‰©ä¸‹çš„æ²¡æ•´ç†çš„å·¥ä½œå†…å®¹æ–‡æ¡£æ•´ç†äº†ä¸€ä¸‹ ","date":"2023-05-16","objectID":"/2023-05-16/:4:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-16 æ—¥è®°å½•","uri":"/2023-05-16/#è®°å½•åŒº-éšæ‰‹è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ€»ç»“å¿ƒæƒ…æ‰“åˆ†ï¼š ğŸ˜† å¾ˆå¿«ä¹ ğŸ™‚ ä¸€èˆ¬å¿«ä¹ ğŸ˜¶ æ— æ˜æ˜¾æƒ…ç»ªæ³¢åŠ¨ ğŸ§æœ‰ç–‘é—® ğŸ˜µâ€ğŸ’« å¾ˆæ··ä¹± ğŸ˜®â€ğŸ’¨å¹æ°” ğŸ˜¡ ç”Ÿæ°” è¾“å‡ºå†…å®¹ï¼š ","date":"2023-05-16","objectID":"/2023-05-16/:5:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-16 æ—¥è®°å½•","uri":"/2023-05-16/#è®°å½•åŒº-æ€»ç»“"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ˜å¤©","date":"2023-05-16","objectID":"/2023-05-16/:6:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-16 æ—¥è®°å½•","uri":"/2023-05-16/#è®°å½•åŒº-æ˜å¤©"},{"categories":["OpenShift"],"content":"#æµ‹è¯• ","date":"2023-05-16","objectID":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/:0:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"E2E æµ‹è¯•","uri":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/#"},{"categories":["OpenShift"],"content":" ä¸€ã€ä»€ä¹ˆæ˜¯ E2E æµ‹è¯•ï¼ŸE2EEnd to End ï¼šç«¯åˆ°ç«¯æµ‹è¯•ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªä»å¼€å§‹åˆ°ç»“æŸçš„æµç¨‹ï¼ŒéªŒè¯æ˜¯å¦ç¬¦åˆé¢„æœŸ æ¯”å¦‚ï¼Œåœ¨ä¸€å¥—è¿è¡Œçš„ openshift ç¯å¢ƒä¸Šé¢è¿è¡Œæµ‹è¯•ï¼Œä¸€ç³»åˆ—å®šä¹‰å¥½çš„æ“ä½œé“¾ ","date":"2023-05-16","objectID":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/:1:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"E2E æµ‹è¯•","uri":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/#ä¸€ä»€ä¹ˆæ˜¯-e2e-æµ‹è¯•"},{"categories":["OpenShift"],"content":" äºŒã€å¦‚ä½•è¿›è¡Œ E2E æµ‹è¯•å‡è®¾åœ¨ openshift çš„ç¯å¢ƒä¸Šæ‰§è¡Œ e2e æµ‹è¯• ","date":"2023-05-16","objectID":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/:2:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"E2E æµ‹è¯•","uri":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/#äºŒå¦‚ä½•è¿›è¡Œ-e2e-æµ‹è¯•"},{"categories":["OpenShift"],"content":" 2.1 ç¼–è¯‘ e2e æ‰§è¡Œæ–‡ä»¶ https://github.com/openshift/origin å¯ä»¥å‚è€ƒè¯¥æ–‡æ¡£æ¥æŸ¥çœ‹å¦‚ä½•è¿›è¡Œ openshift e2e çš„æ“ä½œï¼šhttps://github.com/openshift/origin/blob/master/test/extended/README.md åœ¨ç¼–å†™å®Œæˆè‡ªå·±çš„ e2e æµ‹è¯•ç”¨ä¾‹ä¹‹åï¼Œæ‰§è¡Œç¼–è¯‘æ“ä½œï¼Œç”Ÿæˆæµ‹è¯•æ–‡ä»¶ # æ‰§è¡Œç¼–è¯‘æ“ä½œï¼Œç”Ÿæˆæµ‹è¯•æ–‡ä»¶ make WHAT=cmd/openshift-tests ","date":"2023-05-16","objectID":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/:2:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"E2E æµ‹è¯•","uri":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/#21-ç¼–è¯‘-e2e-æ‰§è¡Œæ–‡ä»¶"},{"categories":["OpenShift"],"content":" 2.2 åœ¨ç¯å¢ƒä¸Šè¿è¡Œ å‡†å¤‡ä¸€ä¸ªç”¨äºæµ‹è¯•çš„ OpenShift ç¯å¢ƒï¼ˆè¿™ä¸ªç¯å¢ƒåº”è¯¥ä¸ç”Ÿäº§ç¯å¢ƒå°½å¯èƒ½ç›¸ä¼¼ï¼Œç¡®ä¿æµ‹è¯•ç»“æœçš„å‡†ç¡®æ€§ï¼‰ åœ¨ OpenShift ç¯å¢ƒä¸Šå®‰è£…åº”ç”¨ï¼ˆéœ€è¦çš„è¯ï¼Œæ¯”å¦‚ä¸€äº› Application Operatorï¼Œå¯èƒ½æ˜¯æµ‹è¯•ç”¨ä¾‹éœ€è¦ä¾èµ–çš„ï¼‰ æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ e.g. # æ‰§è¡Œæ‰€æœ‰å¹¶è¡Œç”¨ä¾‹ ./openshift-tests run openshift/conformance/parallel --from-repository \"image.cestc.cn/ccos-test/community-e2e-images\" --provider '{\"type\":\"local\"}' -o e2e$(date \"+%Y%m%d%H%M%S\")-cluster-paraller.log --junit-dir junit # æ‰§è¡Œæ‰€æœ‰ä¸²è¡Œç”¨ä¾‹ ./openshift-tests run openshift/conformance/serial --from-repository \"image.cestc.cn/ccos-test/community-e2e-images\" --provider '{\"type\":\"local\"}' -o e2e$(date \"+%Y%m%d%H%M%S\")-cluster-serial.log --junit-dir junit # æŒ‡å®šæ–‡ä»¶æ‰§è¡Œç”¨ä¾‹ ./openshift-tests run -f minimal-serial.txt --from-repository \"image.cestc.cn/ccos-test/community-e2e-images\" --provider '{\"type\":\"local\"}' --output-file=./single-e2e-test-serial-\\${date}.log --junit-dir=./ ","date":"2023-05-16","objectID":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/:3:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"E2E æµ‹è¯•","uri":"/202305161347-e2e-%E6%B5%8B%E8%AF%95/#22-åœ¨ç¯å¢ƒä¸Šè¿è¡Œ"},{"categories":["OpenShift"],"content":"#openshift ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:0:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#"},{"categories":["OpenShift"],"content":" ä¸€ã€OpenShift ç†è§£","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:1:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#ä¸€openshift-ç†è§£"},{"categories":["OpenShift"],"content":" 1.1 å®¹å™¨çš„å‘å±• 2008 å¹´ï¼ŒLXCï¼ˆLinux Containerï¼‰ 2013 å¹´ï¼ŒDocker å¼•æ“ï¼Œèµ·åˆ Docker æƒ³è¦ä½¿ç”¨ LXCï¼Œä½†æ˜¯ç”±äº LXC éš”ç¦»æ€§è¾ƒå·®ï¼ŒDocker å¼€å‘äº† Libcontainerï¼Œæœ€ç»ˆå½¢æˆäº† runC 2014 å¹´ï¼ŒKubernetes å‘å¸ƒï¼Œç›´æ¥ä½¿ç”¨ Docker 2014å¹´ï¼Œéšç€ Docker è¶Šæ¥è¶Šé‡ï¼ŒCoreOS å‘å¸ƒ rktï¼ˆrkt å±•ç°äº†æ›´ç®€å•çš„è¿è¡Œæ—¶çš„ä¼˜åŠ¿ï¼‰ 2015å¹´ï¼Œéšç€å®¹å™¨è¿è¡Œæ—¶çš„å˜å¤šï¼Œæ ‡å‡†ä¹Ÿå°±éšä¹‹è€Œæ¥ï¼Œè¯¥å¹´ 6 æœˆï¼ŒOCIï¼ˆOpen Container Initiativeï¼‰æˆç«‹ï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯å¯¹å®¹å™¨è¿è¡Œæ—¶çš„æ¥å£æ ‡å‡†åŒ–ï¼ˆrunC ç¬¬ä¸€æ—¶é—´é€šè¿‡äº†è®¤è¯ï¼‰ ä¸ºäº† K8s ä¸ å®¹å™¨è¿è¡Œæ—¶ä¸¤è€…ä¹‹é—´å®ç°è§£è€¦ï¼Œé’ˆå¯¹ k8sï¼Œåœ¨ä¸¤è€…ä¸­é—´åŠ å…¥äº†ä¸€å±‚æ ‡å‡†ï¼šCRIï¼ˆContainer Runtime Interfaceï¼‰ï¼Œå®ƒæ˜¯ k8s ä¸ Container Runtime ä¹‹é—´è¿›è¡Œäº¤äº’çš„æ¥å£ã€‚ CRI ä¸ OCI å¹¶ä¸å†²çªï¼ŒCRI é’ˆå¯¹äº k8s è€Œè¨€ï¼Œè€Œ OCI æ˜¯å®¹å™¨è¿è¡Œæ—¶æœ¬èº«çš„æ ‡å‡† 2017å¹´ï¼ŒCRI-O å‘å¸ƒã€‚ä¸“é—¨ä¸º k8s åšçš„ä¸€ä¸ªè½»é‡çº§å®¹å™¨è¿è¡Œæ—¶ï¼Œé‡ç”¨äº† runC ç­‰åŸºæœ¬ç»„ä»¶æ¥å¯åŠ¨å®¹å™¨ã€‚ åŒæ—¶ Docker ä¹Ÿåœ¨ç ”ç©¶ CRI æ ‡å‡†ï¼Œä»è€Œå‡ºç°äº† containerd è¿è¡Œæ—¶ï¼ˆä» Docker 1.12 ç‰ˆæœ¬å¼€å§‹ï¼‰ï¼Œk8s å°† containerd æ¥å…¥ CRI æ ‡å‡†ï¼Œæˆä¸º cri-containerdã€‚ è°ƒç”¨ç»“æ„ï¼š old: k8s â†’ kubelet â†’ Docker engine â†’ containerd â†’ runC â†’ linux kernel new: k8s â†’ kubelet â†’ cri-o â†’ runC â†’ linux kernel ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:1:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#11-å®¹å™¨çš„å‘å±•"},{"categories":["OpenShift"],"content":" 1.2 OpenShift çš„å‘å±• 2011 å¹´ï¼ŒOpenShift è¯ç”Ÿï¼Œæ ¸å¿ƒæ¶æ„ï¼šGear 2014 å¹´ï¼ŒKubernetes å‘å¸ƒï¼Œçº¢å¸½å¯¹ OpenShift è¿›è¡Œé‡æ„ 2014 å¹´ï¼ŒOpenShift 3.0 å‘å¸ƒï¼ˆåŸºäº Kubernetes 1.0ï¼Œ æ—©æœŸ Kubernetes åŠŸèƒ½å°šå¼±ï¼ŒOpenShift è¡¥å……äº†å¤§é‡çš„ä¼ä¸šçº§åŠŸèƒ½ï¼‰ 2018 å¹´ï¼Œçº¢å¸½æ”¶è´­ CoreOS å…¬å¸ï¼Œéšç€ CoreOS è¢«çº³å…¥ï¼ŒOpenShift ä¹Ÿèå…¥äº† CoreOS çš„ä¼˜ç§€åŸºå› ã€‚åŒæ—¶ä¹Ÿè¿›ä¸€æ­¥æ¨è¿›äº† k8s çš„å‘å±• ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:1:2","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#12-openshift-çš„å‘å±•"},{"categories":["OpenShift"],"content":" 1.3 OpenShift ä¸ Kubernetes çš„å¯¹æ¯”OpenShift ä¸ Kubernetes ä¹‹é—´ç›¸äº’ä¿ƒè¿›ï¼Œå…±åŒè¿›æ­¥ï¼ŒOpenShift ç›¸æ¯”äº k8s æœ‰è®¸å¤šå¢å¼ºï¼š k8s é¢å‘å®¹å™¨è°ƒåº¦ï¼›OpenShift é¢å‘ä¼ä¸š PaaS å¹³å°ï¼ŒOpenShift é™¤äº†åŒ…å« k8sï¼Œä¹ŸåŒ…å«äº†è®¸å¤šå…¶ä»–ç»„ä»¶ï¼Œå¦‚ï¼šè®¤è¯é›†æˆã€æ—¥å¿—ç›‘æ§ç­‰ ä¸€ä¸ªé›†ç¾¤ï¼Œå¤šä¸ªç§Ÿæˆ· OpenShift åœ¨ 3.0 ç‰ˆæœ¬ï¼ˆåŸºäº k8s 1.0ï¼‰å°±æœ‰äº† RBAC çš„åŠŸèƒ½ï¼Œä½†æ˜¯ k8s åœ¨ 1.6 æ‰æ¨å‡ºäº† RBACï¼Œå¾—ä»¥æ»¡è¶³è®¸å¤šç”¨æˆ·è¯¥æ–¹é¢çš„éœ€æ±‚ï¼Œç”±æ­¤å¯è§ OpenShift æ¨åŠ¨ç€ k8s çš„å‘å±•ã€‚ åº”ç”¨ç¨‹åºçš„ç®€å•ã€å®‰å…¨éƒ¨ç½² ç®€å•éƒ¨ç½²ï¼šæ—©æœŸ k8s çš„åº”ç”¨ç¨‹åºç‰ˆæœ¬ç®¡ç†å¹¶éç®€å•çš„ï¼ŒOpenShift 3.0 å¼€å‘äº† DeploymentConfigï¼ˆå‚æ•°åŒ–éƒ¨ç½²è¾“å…¥ã€æ»šåŠ¨éƒ¨ç½²ã€å›æ»šã€è‡ªåŠ¨éƒ¨ç½²â€¦ï¼‰ï¼Œè¯¥åŠŸèƒ½ä¹Ÿæœ€ç»ˆæˆä¸º k8s DeploymentsåŠŸèƒ½é›†çš„ä¸€éƒ¨åˆ†ï¼Œå½“ç„¶ OpenShift æ”¯æŒ k8s Deployments çš„å…¨éƒ¨åŠŸèƒ½ å®‰å…¨éƒ¨ç½²ï¼šç”±äºç”¨æˆ·å¯ä»¥ç”¨ä»»ä½•é•œåƒæ¥éƒ¨ç½²åº”ç”¨ï¼ˆå°½ç®¡åº”ç”¨çš„ä¸å®‰å…¨çš„ï¼‰ï¼Œk8s ä½¿ç”¨ pod å®‰å…¨ç­–ç•¥æ¥ä¿éšœå®‰å…¨ï¼ˆå— OpenShift SCCï¼ˆä¸Šä¸‹æ–‡å®‰å…¨çº¦æŸï¼‰å¯å‘ï¼‰ï¼›çº¢å¸½ä¸º k8s å¼€å‘äº† CRI-O å®¹å™¨è¿è¡Œæ—¶ï¼ŒçœŸæ­£å®ç°å®¹å™¨é•œåƒçš„å®‰å…¨ æ›´å¤šç±»å‹çš„åº”ç”¨è´Ÿè½½ï¼ˆæœ‰çŠ¶æ€ã€æ— çŠ¶æ€ï¼‰ åº”ç”¨çš„å¿«é€Ÿè®¿é—® OpenShift 3.0 ä¸­ï¼Œçº¢å¸½å¼€å‘äº† Routerï¼ˆk8s ingress çš„å‰èº«ï¼‰ï¼Œæä¾›å…¥å£è¯·æ±‚çš„è‡ªåŠ¨è´Ÿè½½å‡è¡¡ å®¹å™¨é•œåƒçš„ä¾¿æ·ç®¡ç†ï¼šImageStream é€šè¿‡å°†é•œåƒå¯¼å…¥ ImageStream æ¥ä½¿ç”¨é•œåƒ -scheduled=true å‚æ•°ï¼šå®šæœŸæ£€æŸ¥é•œåƒåº“çš„æ›´æ–° Triggerï¼šå‡ºç°æ–°çš„é•œåƒæˆ–è€…é•œåƒçš„Tagå‘ç”Ÿå˜åŒ–æ—¶è§¦å‘è‡ªåŠ¨éƒ¨ç½² ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:1:3","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#13-openshift-ä¸-kubernetes-çš„å¯¹æ¯”"},{"categories":["OpenShift"],"content":" 1.4 OpenShift ç›¸å¯¹ Kubernetes çš„å»¶ä¼¸ ä¸ Jenkins é›†æˆ å¼€å‘è¿ç»´ä¸€ä½“åŒ– Tectonicã€Container Linuxã€Quayã€Operatorã€Prometheus æœ‰çŠ¶æ€åº”ç”¨çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç† OpenShift å¼€å‘äº† Operator æ¥ç®¡ç† k8s ä¸Šè¿è¡Œçš„åº”ç”¨ï¼Œæ‰©å±•äº† k8s api å®ç°äº†å¯¹ IaaS èµ„æºçš„ç®¡ç† é€šè¿‡ Istio å®ç°å¾®æœåŠ¡æ¶æ„ å®ç° Serverless ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:1:4","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#14-openshift-ç›¸å¯¹-kubernetes-çš„å»¶ä¼¸"},{"categories":["OpenShift"],"content":" äºŒã€OpenShift æ¶æ„","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:2:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#äºŒopenshift-æ¶æ„"},{"categories":["OpenShift"],"content":" 2.1 é€»è¾‘æ¶æ„ åº•å±‚åŸºç¡€è®¾æ–½ æœåŠ¡å±‚ æ§åˆ¶èŠ‚ç‚¹ è®¡ç®—èŠ‚ç‚¹ è·¯ç”±å±‚ æŒä¹…å­˜å‚¨ å¼€å‘ è¿ç»´ ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:2:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#21-é€»è¾‘æ¶æ„"},{"categories":["OpenShift"],"content":" 2.2 æŠ€æœ¯æ¶æ„","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:2:2","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#22-æŠ€æœ¯æ¶æ„"},{"categories":["OpenShift"],"content":" 2.3 ç»„ä»¶æ¶æ„ ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:2:3","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#23-ç»„ä»¶æ¶æ„"},{"categories":["OpenShift"],"content":" ä¸‰ã€åŸºäº OpenShift æ„å»ºä¼ä¸šçº§ PaaS å¹³å°","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:3:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#ä¸‰åŸºäº-openshift-æ„å»ºä¼ä¸šçº§-paas-å¹³å°"},{"categories":["OpenShift"],"content":" 3.1 æ•´ä½“éƒ¨ç½²æ¶æ„ èŠ‚ç‚¹ Master èŠ‚ç‚¹ï¼šæœ‰ä¸”åªæœ‰ 3 ä¸ª master èŠ‚ç‚¹ è¿™ç§æƒ…å†µä¸‹æ€ä¹ˆå®ç°é«˜å¯ç”¨ï¼Ÿ worker èŠ‚ç‚¹å˜å¤š â†’ æé«˜ master çš„ cpuã€memï¼Œè€Œä¸æ”¹å˜ master çš„æ•°é‡ api å±‚é¢ â†’ ä½¿ç”¨è½¯ä»¶è´Ÿè½½å‡è¡¡å®ç°é«˜å¯ç”¨ æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œä¸€ä¸ª etcd è®¡ç®—èŠ‚ç‚¹ Infraï¼šè¿è¡ŒåŸºç¡€ç»„ä»¶ Appï¼šè¿è¡Œä¸šåŠ¡ æ¶æ„å›¾å•é›†ç¾¤é«˜å¯ç”¨æ¶æ„ï¼š ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:3:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#31-æ•´ä½“éƒ¨ç½²æ¶æ„"},{"categories":["OpenShift"],"content":" 3.1 æ•´ä½“éƒ¨ç½²æ¶æ„ èŠ‚ç‚¹ Master èŠ‚ç‚¹ï¼šæœ‰ä¸”åªæœ‰ 3 ä¸ª master èŠ‚ç‚¹ è¿™ç§æƒ…å†µä¸‹æ€ä¹ˆå®ç°é«˜å¯ç”¨ï¼Ÿ worker èŠ‚ç‚¹å˜å¤š â†’ æé«˜ master çš„ cpuã€memï¼Œè€Œä¸æ”¹å˜ master çš„æ•°é‡ api å±‚é¢ â†’ ä½¿ç”¨è½¯ä»¶è´Ÿè½½å‡è¡¡å®ç°é«˜å¯ç”¨ æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œä¸€ä¸ª etcd è®¡ç®—èŠ‚ç‚¹ Infraï¼šè¿è¡ŒåŸºç¡€ç»„ä»¶ Appï¼šè¿è¡Œä¸šåŠ¡ æ¶æ„å›¾å•é›†ç¾¤é«˜å¯ç”¨æ¶æ„ï¼š ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:3:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#èŠ‚ç‚¹"},{"categories":["OpenShift"],"content":" 3.1 æ•´ä½“éƒ¨ç½²æ¶æ„ èŠ‚ç‚¹ Master èŠ‚ç‚¹ï¼šæœ‰ä¸”åªæœ‰ 3 ä¸ª master èŠ‚ç‚¹ è¿™ç§æƒ…å†µä¸‹æ€ä¹ˆå®ç°é«˜å¯ç”¨ï¼Ÿ worker èŠ‚ç‚¹å˜å¤š â†’ æé«˜ master çš„ cpuã€memï¼Œè€Œä¸æ”¹å˜ master çš„æ•°é‡ api å±‚é¢ â†’ ä½¿ç”¨è½¯ä»¶è´Ÿè½½å‡è¡¡å®ç°é«˜å¯ç”¨ æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œä¸€ä¸ª etcd è®¡ç®—èŠ‚ç‚¹ Infraï¼šè¿è¡ŒåŸºç¡€ç»„ä»¶ Appï¼šè¿è¡Œä¸šåŠ¡ æ¶æ„å›¾å•é›†ç¾¤é«˜å¯ç”¨æ¶æ„ï¼š ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:3:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#æ¶æ„å›¾"},{"categories":["OpenShift"],"content":" 3.2 å®é™…éƒ¨ç½²è¦ç‚¹è®°å½• ä¸¤ç§éƒ¨ç½²ç±»å‹ï¼ˆInstaller/User Provisioned Infrastructureï¼‰ IPIï¼šMasterã€Worker èŠ‚ç‚¹éƒ½å¿…é¡»ä½¿ç”¨ RHCOS æ“ä½œç³»ç»Ÿ UPIï¼šMaster éœ€è¦ä½¿ç”¨ RHCOS æ“ä½œç³»ç»Ÿ ä¼ä¸šç‰ˆè¿æ¥ï¼šhttps://access.redhat.com/documentation/en-us/openshift_container_platform/4.6/html-single/installing_on_bare_metal/index å®‰è£…éœ€è¦çš„è§’è‰² ç®¡ç†æœº å®¹å™¨é•œåƒæœåŠ¡å™¨ DNS æœåŠ¡å™¨ HTTP æœåŠ¡å™¨ HAproxyã€F5â€¦ è´Ÿè½½å‡è¡¡å™¨ NFS æœåŠ¡å™¨ Bootstrap Master Worker ç¦»çº¿éƒ¨ç½²å¤§è‡´æµç¨‹ 4.3ã€4.4ã€4.5 éƒ¨ç½²æ–¹å¼ç›¸åŒï¼Œ4.6 ç¨æœ‰åŒºåˆ« RHCOS æ“ä½œç³»ç»Ÿé•œåƒä¸‹è½½åœ°å€ï¼šhttps://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:3:2","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#32-å®é™…éƒ¨ç½²è¦ç‚¹è®°å½•"},{"categories":["OpenShift"],"content":" *ã€[ç¤¾åŒºç‰ˆ okd] OpenShift å®‰è£…éƒ¨ç½²å®æ“","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#ç¤¾åŒºç‰ˆ-okd-openshift-å®‰è£…éƒ¨ç½²å®æ“"},{"categories":["OpenShift"],"content":" 1. èŠ‚ç‚¹è§„åˆ’1 master \u0026 infraã€2 appï¼ˆnodeï¼‰ èŠ‚ç‚¹ hostname ip è§„æ ¼ ç‰ˆæœ¬ master01 master01.example.com 192.168.58.31 4C16G 40G+50G CentOS Linux release 7.9.2009 node01 node01.example.com 192.168.58.32 4C16G 40G+20G CentOS Linux release 7.9.2009 node02 node02.example.com 192.168.58.33 4C16G 40G+20G CentOS Linux release 7.9.2009 ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#1-èŠ‚ç‚¹è§„åˆ’"},{"categories":["OpenShift"],"content":" 2. èŠ‚ç‚¹å‰ç½®å‡†å¤‡3ä¸ªèŠ‚ç‚¹é…ç½® hosts 192.168.58.31 master01.example.com 192.168.58.32 node01.example.com 192.168.58.33 node02.example.com ä¸Šè¿° domain éœ€è¦ä¸èŠ‚ç‚¹çš„ hostname ä¸€è‡´ 3ä¸ªèŠ‚ç‚¹éƒ½ï¼š # å¼€å¯ selinuxï¼Œä¿è¯ /etc/sysconfig/selinux ä¸ºå¦‚ä¸‹é…ç½® SELINUX=enforcing SELINUXTYPE=targeted # å…³é—­ iptablesã€firewalldã€NetworkManager systemctl stop NetworkManager \u0026\u0026 systemctl stop iptables \u0026\u0026 systemctl stop firewalld systemctl disable NetworkManager \u0026\u0026 systemctl disable iptables \u0026\u0026 systemctl disable firewalld åœ¨ master01 èŠ‚ç‚¹ç”Ÿæˆå¯†é’¥å¹¶åˆ†å‘åˆ°å„èŠ‚ç‚¹ ssh-keygen -t rsa ssh-copy-id -i .ssh/id_rsa.pub master01 ssh-copy-id -i .ssh/id_rsa.pub node01 ssh-copy-id -i .ssh/id_rsa.pub node02 å„èŠ‚ç‚¹æ—¶é—´åŒæ­¥ ntpdate time2.aliyun.com å„èŠ‚ç‚¹å®‰è£…ä¾èµ–è½¯ä»¶åŒ… yum update -y yum install -y wget git net-tools bind-utils yum-utils iptables-services bridge-utils bash-completion kexec-tools sos psacct java-1.8.0-openjdk-headless python-passlib yum -y install nfs-utils lrzsz gcc gcc-c++ make cmake libxml2-devel openssl-devel curl curl-devel unzip sudo ntp libaio-devel vim ncurses-devel autoconf automake zlib-devel python-devel epel-release lrzsz openssh-server socat ipvsadm conntrack yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm master èŠ‚ç‚¹å®‰è£… ansible-2.6.5ã€pyOpenSSLã€openshift-3.10 # å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ ansible # https://releases.ansible.com/ansible/rpm/release/epel-7-x86_64/ å¯ä»¥åˆ°è¯¥ç›®å½•ä¸‹æ‰¾åˆ°å¯¹åº”çš„ rpm åŒ…ï¼ŒæŒ‡å®šå®‰è£… yum install -y https://releases.ansible.com/ansible/rpm/release/epel-7-x86_64/ansible-2.6.5-1.el7.ans.noarch.rpm # å®‰è£… sed -i -e \"s/^enabled=1/enabled=0/\" /etc/yum.repos.d/epel.repo yum -y --enablerepo=epel install pyOpenSSL # https://github.com/openshift/openshift-ansible/tags æ‰¾åˆ°å¯¹åº”çš„ openshift-ansible ç‰ˆæœ¬ï¼Œä¸Šä¼ åˆ° master èŠ‚ç‚¹ å„èŠ‚ç‚¹ docker å®‰è£… yum install -y docker-1.13.1 # docker é…ç½®æ–‡ä»¶ vim /etc/sysconfig/docker ## options æ”¹æˆ OPTIONS='--selinux-enabled=false --signature-verification=False' ## é…ç½®åŠ é€Ÿ vi /etc/docker/daemon.json { \"registry-mirrors\": [\"https://rsbud4vc.mirror.aliyuncs.com\",\"https://registry.docker-cn.com\",\"https://docker.mirrors.ustc.edu.cn\",\"https://dockerhub.azk8s.cn\",\"http://hub-mirror.c.163.com\",\"http://qtid6917.mirror.aliyuncs.com\"] } ## é‡å¯docker systemctl daemon-reload systemctl restart docker.service master èŠ‚ç‚¹é…ç½®dockerç§æœ‰ä»“åº“ docker pull registry:2.5 yum install httpd -y systemctl start httpd mkdir -p /opt/registry-var/auth/ docker run --entrypoint htpasswd registry:2.5 -Bbn admin admin \u003e\u003e /opt/registry-var/auth/htpasswd # è®¾ç½®é…ç½®æ–‡ä»¶ mkdir -p /opt/registry-var/config vim /opt/registry-var/config/config.yml version: \"0.1\" log: fields: service: registry storage: delete: enabled: true cache: blobdescriptor: inmemory filesystem: rootdirectory: /var/lib/registry http: addr: :5000 headers: X-Content-Type-Options: [nosniff] health: storagedriver: enabled: true interval: 10s threshold: 3 # å¯åŠ¨æœåŠ¡ docker run -d -p 5000:5000 --restart=always --name=registry -v /opt/registry-var/config/:/etc/docker/registry/ -v /opt/registry-var/auth/:/auth/ -e \"REGISTRY_AUTH=htpasswd\" -e \"REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm\" -e REGISTRY_AUTH_HTPASSWD_PATH=/auth/htpasswd -v /opt/registry-var/:/var/lib/registry/ registry:2.5 å„èŠ‚ç‚¹é…ç½® https æƒé™æ”¯æŒ vim /etc/docker/daemon.json { \"registry-mirrors\": [\"\"https://rsbud4vc.mirror.aliyuncs.com\",\"https://registry.docker-cn.com\",\"https://docker.mirrors.ustc.edu.cn\",\"https://dockerhub.azk8s.cn\",\"http://hub-mirror.c.163.com\",\"http://qtid6917.mirror.aliyuncs.com\"\"], \"insecure-registries\":[\"192.168.58.31:5000\"] } # é‡å¯ docker systemctl daemon-reload systemctl restart docker.service systemctl enable docker æµ‹è¯•ç™»å½• docker ä»“åº“ docker login 192.168.58.31:5000 å„èŠ‚ç‚¹é…ç½® dcoker-storage [~] vim /etc/sysconfig/docker-storage-setup DEVS=/dev/sdb VG=docker-vg [~] docker-storage-setup é•œåƒä¸‹è½½ master01ï¼š docker pull quay.io/coreos/etcd:v3.2.22 docker pull openshift/origin-control-plane:v3.10 docker pull docker.io/openshift/origin-service-catalog:v3.10 docker pull openshift/origin-node:v3.10 docker pull openshift/origin-deployer:v3.10 docker pull openshift/origin-deployer:v3.10.0 docker pull openshift/origin-template-service-broker:v3.10","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:2","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#2-èŠ‚ç‚¹å‰ç½®å‡†å¤‡"},{"categories":["OpenShift"],"content":" 3. é›†ç¾¤å®‰è£…æ£€æŸ¥ï¼š ansible-playbook -i /etc/ansible/hosts openshift-ansible-release-3.10/playbooks/prerequisites.yml æ£€æŸ¥æ²¡é—®é¢˜å¼€å§‹å®‰è£…ï¼š ansible-playbook -i /etc/ansible/hosts openshift-ansible-release-3.10/playbooks/deploy_cluster.yml å®‰è£…è¿‡ç¨‹ä¸­ç¢°åˆ°çš„é—®é¢˜è®°å½•ï¼š 1.Control plane pods didnâ€™t come up æŸ¥çœ‹äº†ä¸‹ /var/log/messages æ—¥å¿— æœç´¢äº†ä¸‹è¯´æ˜¯ ansible ç‰ˆæœ¬å¤ªé«˜å¯¼è‡´çš„ï¼ˆå®‰è£…æˆäº† 2.9 çš„ç‰ˆæœ¬ï¼‰ï¼Œäºæ˜¯å°† ansible é™çº§å¾—åˆ°è§£å†³ 2.Could not find csr for nodes:â€¦.. è¦ä¿è¯ /etc/hosts ã€ /etc/ansible/hostsã€ä¸ªèŠ‚ç‚¹ hostname éƒ½æ˜¯ä¸€è‡´çš„ã€‚ /etc/hosts dns æ›´æ”¹ä¹‹åéœ€è¦é‡å¯ä¸‹ dnsmasq å¸è½½ ocp é›†ç¾¤ï¼ˆï¼Ÿï¼‰ ansible-playbook -i /etc/ansible/hosts openshift-ansible-release-3.10/playbooks/adhoc/uninstall.yml ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:3","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#3-é›†ç¾¤å®‰è£…"},{"categories":["OpenShift"],"content":" 4. åˆ›å»ºç®¡ç†å‘˜è´¦å· htpasswd -cb /etc/origin/master/htpasswd admin admin htpasswd -b /etc/origin/master/htpasswd dev dev oc login -u system:admin oc adm policy add-cluster-role-to-user cluster-admin admin ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:4","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#4-åˆ›å»ºç®¡ç†å‘˜è´¦å·"},{"categories":["OpenShift"],"content":" 5. ç™»å½• console æ§åˆ¶å°https://192.168.58.31:8443 ç¢°åˆ°çš„é—®é¢˜ï¼š 1.ç½‘é¡µä¸€ç›´æ— å“åº”ï¼Œæ‰“ä¸å¼€ ä¸çŸ¥é“åˆ°åº•å“ªä¸ªç¯èŠ‚å‡ºäº†é—®é¢˜ï¼Œè‡ªå·±å†™ä¸ªdemoæœåŠ¡ï¼Œæ¥æ¢ç©¶ä¸‹ OpenShift çš„è¯·æ±‚è½¬å‘åˆ°åç«¯çš„è¿‡ç¨‹ï¼š Go ä»£ç ï¼š func HelloHandler(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \"Hello World\") } func main() { http.HandleFunc(\"/\", HelloHandler) if err := http.ListenAndServe(\":8000\", nil); err != nil { log.Println(\"listener failed\", err) } } åœ¨ 8000 ç«¯å£æä¾›æœåŠ¡ åˆ¶ä½œæˆ docker é•œåƒ 192.168.58.31:5000/hello:latest ï¼Œpodè¿è¡Œèµ·æ¥åï¼Œåˆæ­¥éªŒè¯é€šè¿‡ï¼š åˆ›å»ºå¯¹åº”çš„ svc æœåŠ¡ï¼ŒéªŒè¯é€šè¿‡ï¼š é€šè¿‡ç½‘é¡µä¹Ÿæ˜¯èƒ½å¤Ÿè®¿é—®åˆ°çš„ï¼š â€¦ ç»“æœï¼šå› ä¸ºè®¿é—®æ˜¯ https åè®®ï¼Œé…ç½®çš„ hosts æ˜¯ xx.example.com ï¼Œä¸è¦å†™æˆåŸŸåçš„å½¢å¼å°±è¡Œäº†ã€‚ ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:5","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#5-ç™»å½•-console-æ§åˆ¶å°"},{"categories":["OpenShift"],"content":" ç•ªå¤– rpm åŒæ­¥åº“https://www.ibm.com/docs/zh/cloud-pak-system-w3550/2.3.2.0?topic=pattern-openshift-container-platform-faqs http://feilunshuai.tpddns.net:8446/repos/rhel-7-server-ose-3.11-rpms/Packages/a/ https://www.jianshu.com/p/429f7cfa6089 å‘½ä»¤è¡Œ subscription-manager register --auto-attach subscription-manager repos --enable=\"rhel-7-server-rpms\" --enable=\"rhel-7-server-extras-rpms\" --enable=\"rhel-7-server-ose-3.11-rpms\" --enable=\"rhel-7-server-ansible-2.9-rpms\" [root@master01 ~]# subscription-manager repos --list This system has no repositories available through subscriptions. # æ£€æŸ¥æœåŠ¡å™¨çš„æ‰€æœ‰å¯ç”¨è®¢é˜… subscription-manager list --available subscription-manager attach --auto subscription-manager attach --pool=8a82c6557ffabbea018020c21a4f127e ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:6","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#ç•ªå¤–"},{"categories":["OpenShift"],"content":" ç•ªå¤– rpm åŒæ­¥åº“https://www.ibm.com/docs/zh/cloud-pak-system-w3550/2.3.2.0?topic=pattern-openshift-container-platform-faqs http://feilunshuai.tpddns.net:8446/repos/rhel-7-server-ose-3.11-rpms/Packages/a/ https://www.jianshu.com/p/429f7cfa6089 å‘½ä»¤è¡Œ subscription-manager register --auto-attach subscription-manager repos --enable=\"rhel-7-server-rpms\" --enable=\"rhel-7-server-extras-rpms\" --enable=\"rhel-7-server-ose-3.11-rpms\" --enable=\"rhel-7-server-ansible-2.9-rpms\" [root@master01 ~]# subscription-manager repos --list This system has no repositories available through subscriptions. # æ£€æŸ¥æœåŠ¡å™¨çš„æ‰€æœ‰å¯ç”¨è®¢é˜… subscription-manager list --available subscription-manager attach --auto subscription-manager attach --pool=8a82c6557ffabbea018020c21a4f127e ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:6","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#rpm-åŒæ­¥åº“"},{"categories":["OpenShift"],"content":" ç•ªå¤– rpm åŒæ­¥åº“https://www.ibm.com/docs/zh/cloud-pak-system-w3550/2.3.2.0?topic=pattern-openshift-container-platform-faqs http://feilunshuai.tpddns.net:8446/repos/rhel-7-server-ose-3.11-rpms/Packages/a/ https://www.jianshu.com/p/429f7cfa6089 å‘½ä»¤è¡Œ subscription-manager register --auto-attach subscription-manager repos --enable=\"rhel-7-server-rpms\" --enable=\"rhel-7-server-extras-rpms\" --enable=\"rhel-7-server-ose-3.11-rpms\" --enable=\"rhel-7-server-ansible-2.9-rpms\" [root@master01 ~]# subscription-manager repos --list This system has no repositories available through subscriptions. # æ£€æŸ¥æœåŠ¡å™¨çš„æ‰€æœ‰å¯ç”¨è®¢é˜… subscription-manager list --available subscription-manager attach --auto subscription-manager attach --pool=8a82c6557ffabbea018020c21a4f127e ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:4:6","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#å‘½ä»¤è¡Œ"},{"categories":["OpenShift"],"content":" *ã€[ç¤¾åŒºç‰ˆ okd] master èŠ‚ç‚¹æœåŠ¡å¯åŠ¨è¯¦æƒ…","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:5:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#ç¤¾åŒºç‰ˆ-okd-master-èŠ‚ç‚¹æœåŠ¡å¯åŠ¨è¯¦æƒ…"},{"categories":["OpenShift"],"content":" *.1 api-serverå¯åŠ¨å‘½ä»¤ #!/bin/bash set -euo pipefail if [[ -f /etc/origin/master/master.env ]]; then set -o allexport source /etc/origin/master/master.env fi exec openshift start master api --config=/etc/origin/master/master-config.yaml --loglevel=${DEBUG_LOGLEVEL:-2} file: /etc/origin/master/master.env # Proxy configuration # See https://docs.openshift.com/container-platform/3.10/install_config/http_proxies.html DEBUG_LOGLEVEL=4 file: /etc/origin/master/master-config.yaml admissionConfig: pluginConfig: BuildDefaults: configuration: apiVersion: v1 env: [] kind: BuildDefaultsConfig resources: limits: {} requests: {} BuildOverrides: configuration: apiVersion: v1 kind: BuildOverridesConfig openshift.io/ImagePolicy: configuration: apiVersion: v1 executionRules: - matchImageAnnotations: - key: images.openshift.io/deny-execution value: 'true' name: execution-denied onResources: - resource: pods - resource: builds reject: true skipOnResolutionFailure: true kind: ImagePolicyConfig aggregatorConfig: proxyClientInfo: certFile: aggregator-front-proxy.crt keyFile: aggregator-front-proxy.key apiLevels: - v1 apiVersion: v1 authConfig: requestHeader: clientCA: front-proxy-ca.crt clientCommonNames: - aggregator-front-proxy extraHeaderPrefixes: - X-Remote-Extra- groupHeaders: - X-Remote-Group usernameHeaders: - X-Remote-User controllerConfig: election: lockName: openshift-master-controllers serviceServingCert: signer: certFile: service-signer.crt keyFile: service-signer.key controllers: '*' corsAllowedOrigins: - (?i)//127\\.0\\.0\\.1(:|\\z) - (?i)//localhost(:|\\z) - (?i)//192\\.168\\.58\\.31(:|\\z) - (?i)//kubernetes\\.default(:|\\z) - (?i)//kubernetes\\.default\\.svc\\.cluster\\.local(:|\\z) - (?i)//kubernetes(:|\\z) - (?i)//openshift\\.default(:|\\z) - (?i)//master01(:|\\z) - (?i)//openshift\\.default\\.svc(:|\\z) - (?i)//172\\.30\\.0\\.1(:|\\z) - (?i)//openshift\\.default\\.svc\\.cluster\\.local(:|\\z) - (?i)//kubernetes\\.default\\.svc(:|\\z) - (?i)//openshift(:|\\z) dnsConfig: bindAddress: 0.0.0.0:8053 bindNetwork: tcp4 etcdClientInfo: ca: master.etcd-ca.crt certFile: master.etcd-client.crt keyFile: master.etcd-client.key urls: - https://master01:2379 etcdStorageConfig: kubernetesStoragePrefix: kubernetes.io kubernetesStorageVersion: v1 openShiftStoragePrefix: openshift.io openShiftStorageVersion: v1 imageConfig: format: docker.io/openshift/origin-${component}:${version} latest: false imagePolicyConfig: internalRegistryHostname: docker-registry.default.svc:5000 kind: MasterConfig kubeletClientInfo: ca: ca-bundle.crt certFile: master.kubelet-client.crt keyFile: master.kubelet-client.key port: 10250 kubernetesMasterConfig: apiServerArguments: storage-backend: - etcd3 storage-media-type: - application/vnd.kubernetes.protobuf controllerArguments: cluster-signing-cert-file: - /etc/origin/master/ca.crt cluster-signing-key-file: - /etc/origin/master/ca.key masterCount: 1 masterIP: 192.168.58.31 podEvictionTimeout: null proxyClientInfo: certFile: master.proxy-client.crt keyFile: master.proxy-client.key schedulerArguments: null schedulerConfigFile: /etc/origin/master/scheduler.json servicesNodePortRange: '' servicesSubnet: 172.30.0.0/16 staticNodeNames: [] masterClients: externalKubernetesClientConnectionOverrides: acceptContentTypes: application/vnd.kubernetes.protobuf,application/json burst: 400 contentType: application/vnd.kubernetes.protobuf qps: 200 externalKubernetesKubeConfig: '' openshiftLoopbackClientConnectionOverrides: acceptContentTypes: application/vnd.kubernetes.protobuf,application/json burst: 600 contentType: application/vnd.kubernetes.protobuf qps: 300 openshiftLoopbackKubeConfig: openshift-master.kubeconfig masterPublicURL: https://master01:8443 networkConfig: clusterNetworks: - cidr: 10.128.0.0/14 hostSubnetLength: 9 externalIPNetworkCIDRs: - 0.0.0.0/0 networkPluginName: redhat/openshift-ovs-subnet serviceNetworkCIDR: 172.30.0.0/16 oauthConfig: assetPublicURL: https://master01:8443/console/ grantConfig: method: auto identityProviders: - challenge: true login: true m","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:5:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#1-api-server"},{"categories":["OpenShift"],"content":" *.2 scheduler","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:5:2","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#2-scheduler"},{"categories":["OpenShift"],"content":" *.3 controllerå¯åŠ¨å‘½ä»¤ #!/bin/bash set -euo pipefail if [[ -f /etc/origin/master/master.env ]]; then set -o allexport source /etc/origin/master/master.env fi exec openshift start master controllers --config=/etc/origin/master/master-config.yaml --listen=https://0.0.0.0:8444 --loglevel=${DEBUG_LOGLEVEL:-2} file: /etc/origin/master/master.env file: /etc/origin/master/master-config.yaml ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:5:3","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#3-controller"},{"categories":["OpenShift"],"content":" *ã€[cclinux ocp å…¬å¸ç‰ˆ] å®‰è£…","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:6:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#cclinux-ocp-å…¬å¸ç‰ˆ-å®‰è£…"},{"categories":["OpenShift"],"content":" æµç¨‹æ¢³ç†ã€cclinux-ocpã€‘ | ProcessOnå…è´¹åœ¨çº¿ä½œå›¾,åœ¨çº¿æµç¨‹å›¾,åœ¨çº¿æ€ç»´å¯¼å›¾ | ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:6:1","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#æµç¨‹æ¢³ç†"},{"categories":["OpenShift"],"content":" *ã€[cclinux ocp å…¬å¸ç‰ˆ] master èŠ‚ç‚¹æœåŠ¡å¯åŠ¨è¯¦æƒ…kubec ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:7:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#cclinux-ocp-å…¬å¸ç‰ˆ-master-èŠ‚ç‚¹æœåŠ¡å¯åŠ¨è¯¦æƒ…"},{"categories":["OpenShift"],"content":" *ã€ç›¸å…³å­¦ä¹ èµ„æ–™ https://docs.openshift.com/container-platform/4.10/welcome/index.html ","date":"2023-05-16","objectID":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/:8:0","series":["OpenShiftåˆè¯†"],"tags":[],"title":"openshift è®¤è¯†ä»¥åŠéƒ¨ç½²æµ‹è¯•","uri":"/202305161335-openshift-%E8%AE%A4%E8%AF%86%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/#ç›¸å…³å­¦ä¹ èµ„æ–™"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è§„åˆ’åŒº æ¢³ç†ä¸€ä¸‹æ•´ä½“è¦å­¦ä¹ çš„å†…å®¹ï¼Ÿ gantt dateFormat HH:mm axisFormat %H:%M tickInterval 1h title ä»Šå¤©å¤§æ¦‚è¦åš section æ–‡æ¡£è¿ç§» b7.openshiftæ–‡æ¡£:13:00, 1h b8.å·¥ä½œæ€§è´¨çš„æ–‡æ¡£: 4h section åšå®¢ a1.æ•´ç†æˆ‘çš„workspace:1h section ä¹ æƒ¯ ç®—æ³•æ¯æ—¥ä¸€é¢˜: 1h åŒå‘¨èµ›:22:30, 90m ","date":"2023-05-13","objectID":"/2023-05-13/:1:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-13 æ—¥è®°å½•","uri":"/2023-05-13/#è§„åˆ’åŒº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-ä¹ æƒ¯è®°å½•(v2.0)æ‰“å¡çŠ¶æ€ï¼š âœ… | âŒ æ”¹æˆä½¿ç”¨ todo åˆ—è¡¨çš„å½¢å¼æ¥è¡¨ç°ï¼Œæ¯ä¸ªæœˆçš„æ‰“å¡æƒ…å†µåœ¨æœˆåº¦æ€»ç»“é‡Œé¢ä½“ç° ç®—æ³•æ¯æ—¥ä¸€é¢˜ ","date":"2023-05-13","objectID":"/2023-05-13/:2:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-13 æ—¥è®°å½•","uri":"/2023-05-13/#è®°å½•åŒº-ä¹ æƒ¯è®°å½•"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-äº‹\u0026ç‰©è®° é‡è¦äº‹è®° æ—  æ–°äº‹ç‰© ","date":"2023-05-13","objectID":"/2023-05-13/:3:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-13 æ—¥è®°å½•","uri":"/2023-05-13/#è®°å½•åŒº-äº‹ç‰©è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-éšæ‰‹è®°ğŸ§ğŸµï¼ˆæŒ‘é¦–æ­Œï¼Ÿlocal:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ remote:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ï¼‰ ","date":"2023-05-13","objectID":"/2023-05-13/:4:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-13 æ—¥è®°å½•","uri":"/2023-05-13/#è®°å½•åŒº-éšæ‰‹è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ€»ç»“å¿ƒæƒ…æ‰“åˆ†ï¼š ğŸ˜† å¾ˆå¿«ä¹ ğŸ™‚ ä¸€èˆ¬å¿«ä¹ ğŸ˜¶ æ— æ˜æ˜¾æƒ…ç»ªæ³¢åŠ¨ ğŸ§æœ‰ç–‘é—® ğŸ˜µâ€ğŸ’« å¾ˆæ··ä¹± ğŸ˜®â€ğŸ’¨å¹æ°” ğŸ˜¡ ç”Ÿæ°” è¾“å‡ºå†…å®¹ï¼š ","date":"2023-05-13","objectID":"/2023-05-13/:5:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-13 æ—¥è®°å½•","uri":"/2023-05-13/#è®°å½•åŒº-æ€»ç»“"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ˜å¤©","date":"2023-05-13","objectID":"/2023-05-13/:6:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-13 æ—¥è®°å½•","uri":"/2023-05-13/#è®°å½•åŒº-æ˜å¤©"},{"categories":["åˆ†ç±»-box"],"content":"#è¯»ä¹¦è®°å½• https://github.com/Vonng/ddia/blob/master/ch1.md æ•°æ®å¯†é›†å‹ è®¡ç®—å¯†é›†å‹ ","date":"2023-05-12","objectID":"/202305121926-%E8%AF%BB-ddia-%E7%95%99%E4%B8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/:0:0","series":["è¯»ä¹¦è®°å½•"],"tags":[],"title":"è¯» DDIA ç•™ä¸‹çš„ä¸€äº›è®°å½•","uri":"/202305121926-%E8%AF%BB-ddia-%E7%95%99%E4%B8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#leetcode 128. æœ€é•¿è¿ç»­åºåˆ— // æ€è·¯1. æ’åº + åŒæŒ‡é’ˆ // o(nlogn) + o(n) // // å¦‚ä½•åœ¨ o(n) æ—¶é—´å¤æ‚åº¦ä¹‹å†…å®Œæˆï¼Ÿ // å…ˆéå†ä¸€éï¼ŒæŠŠ num éƒ½æ”¾å…¥map ï¼Œç”¨æ¥æ ‡è®°æ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªæ•°(appeared) // å†éå†ä¸€éï¼Œå¦‚æœè¯¥æ•°èƒ½å¤Ÿä½œä¸ºæ•°ç»„çš„èµ·ç‚¹ï¼Œå°±æŒç»­ +1 ç›´åˆ°æ•°ç»„ä¸­ä¸å­˜åœ¨è¿™ä¸ªæ•°ï¼Œè®°å½•é•¿åº¦ // å‰é¢ä½¿ç”¨ o(n) ç©ºé—´å¤æ‚åº¦æ¥æ¢å–äº† o(1) çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œæœ€å·®æƒ…å†µä¸‹ä¹Ÿå°±æ˜¯æ•´ä¸ªæ•°ç»„ä¸è¿ç»­ï¼Œä¹Ÿæ˜¯ o(n) func longestConsecutive(nums []int) int { if len(nums) == 0 { return 0 } appeared := map[int]bool{} for _, num := range nums { appeared[num] = true } maxLen := math.MinInt for _, num := range nums { if !appeared[num-1] { cnt := 0 for appeared[num] { num++ cnt++ } maxLen = max(maxLen, cnt) } } return maxLen } func max(a, b int) int { if a \u003c b { return b } return a } ","date":"2023-05-12","objectID":"/202305121759-t128-%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97/:0:0","series":["leetcode"],"tags":[],"title":"t128 æœ€é•¿è¿ç»­åºåˆ—","uri":"/202305121759-t128-%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#leetcode 128. æœ€é•¿è¿ç»­åºåˆ— // æ€è·¯1. æ’åº + åŒæŒ‡é’ˆ // o(nlogn) + o(n) // // å¦‚ä½•åœ¨ o(n) æ—¶é—´å¤æ‚åº¦ä¹‹å†…å®Œæˆï¼Ÿ // å…ˆéå†ä¸€éï¼ŒæŠŠ num éƒ½æ”¾å…¥map ï¼Œç”¨æ¥æ ‡è®°æ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªæ•°(appeared) // å†éå†ä¸€éï¼Œå¦‚æœè¯¥æ•°èƒ½å¤Ÿä½œä¸ºæ•°ç»„çš„èµ·ç‚¹ï¼Œå°±æŒç»­ +1 ç›´åˆ°æ•°ç»„ä¸­ä¸å­˜åœ¨è¿™ä¸ªæ•°ï¼Œè®°å½•é•¿åº¦ // å‰é¢ä½¿ç”¨ o(n) ç©ºé—´å¤æ‚åº¦æ¥æ¢å–äº† o(1) çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œæœ€å·®æƒ…å†µä¸‹ä¹Ÿå°±æ˜¯æ•´ä¸ªæ•°ç»„ä¸è¿ç»­ï¼Œä¹Ÿæ˜¯ o(n) func longestConsecutive(nums []int) int { if len(nums) == 0 { return 0 } appeared := map[int]bool{} for _, num := range nums { appeared[num] = true } maxLen := math.MinInt for _, num := range nums { if !appeared[num-1] { cnt := 0 for appeared[num] { num++ cnt++ } maxLen = max(maxLen, cnt) } } return maxLen } func max(a, b int) int { if a \u003c b { return b } return a } ","date":"2023-05-12","objectID":"/202305121759-t128-%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97/:0:0","series":["leetcode"],"tags":[],"title":"t128 æœ€é•¿è¿ç»­åºåˆ—","uri":"/202305121759-t128-%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97/#128-æœ€é•¿è¿ç»­åºåˆ—httpsleetcodecnproblemslongest-consecutive-sequence"},{"categories":["Golang"],"content":"#Golang ","date":"2023-05-12","objectID":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/:0:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":[],"title":"å…³äº goroutine å†…å­˜æ³„æ¼çš„ä¸€äº›æ€è€ƒ","uri":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/#"},{"categories":["Golang"],"content":" ä¸ºä»€ä¹ˆä¼šå†…å­˜æ³„æ¼å†…å­˜æ³„æ¼æ˜¯æŒ‡ GC æ²¡æœ‰åŠæ³•ä¸è¢«ä½¿ç”¨çš„ç©ºé—´ï¼Œå†…å­˜æ— æ³•é‡Šæ”¾ï¼Œæœ€ç»ˆå¯¼è‡´å†…å­˜ä¸è¶³æˆ–è€…å æ»¡ ä¸ºä»€ä¹ˆä¼šå†…å­˜æ³„æ¼ï¼Œå¯èƒ½ä¼šæœ‰è¿™äº›åŸå› ï¼š æ— é™å¾ªç¯ å¾ªç¯å¼•ç”¨ï¼Œä¸¤ä¸ªå¯¹è±¡å­˜åœ¨äº’ç›¸å¼•ç”¨çš„æƒ…å†µä¼šå¯¼è‡´è¿™ä¸¤ä¸ªå¯¹è±¡æœ€ç»ˆéƒ½æ— æ³•è¢«å›æ”¶ è¯·æ±‚çš„èµ„æºè¢«å ç”¨ï¼Œä¸€ç›´é˜»å¡ æœªå…³é—­çš„é€šé“ï¼Œå¦‚æœä¸€ä¸ªåç¨‹å¾€ä¸€ä¸ªæœªå…³é—­çš„é€šé“å‘é€æ•°æ®ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰è¢«æ¥å—ï¼Œå°±ä¼šä¸€ç›´é˜»å¡ â€¦ ","date":"2023-05-12","objectID":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/:1:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":[],"title":"å…³äº goroutine å†…å­˜æ³„æ¼çš„ä¸€äº›æ€è€ƒ","uri":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/#ä¸ºä»€ä¹ˆä¼šå†…å­˜æ³„æ¼"},{"categories":["Golang"],"content":" å¦‚ä½•åˆ¤æ–­ä¸€ä¸ª goroutine æ˜¯å¦å†…å­˜æ³„æ¼å¦‚ä½•ä½¿ç”¨ pprof æ’æŸ¥ ","date":"2023-05-12","objectID":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/:2:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":[],"title":"å…³äº goroutine å†…å­˜æ³„æ¼çš„ä¸€äº›æ€è€ƒ","uri":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ª-goroutine-æ˜¯å¦å†…å­˜æ³„æ¼"},{"categories":["Golang"],"content":" åœºæ™¯ âŒ ä¸‹é¢çš„ä»£ç ä¼šå¯åŠ¨ä¸€ä¸ªåç¨‹æ¥å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå°½ç®¡å½“è¿™ä¸ªè¯·æ±‚è¢«å–æ¶ˆï¼Œè¿™ä¸ªåç¨‹è¿˜æ˜¯ä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°å¤„ç†ç»“æŸï¼ˆè°åˆçŸ¥é“ç»“æ²¡ç»“æŸå‘¢ï¼‰ func users(req *Request) { // å¯åŠ¨ä¸€ä¸ª goroutine æ¥å¤„ç†è¯·æ±‚ go func() { // å¤„ç†è¯·æ±‚... }() } âœ… ä½¿ç”¨ context æ¥æ§åˆ¶è¿™ä¸ªåç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä½ ä¸åœä¹Ÿå¾—åœï¼‰ func users(ctx context.Context, req *Request) { // å¯åŠ¨ä¸€ä¸ª goroutine æ¥å¤„ç†è¯·æ±‚ go func(ctx context.Context) { // å¤„ç†è¯·æ±‚... }(ctx) } ","date":"2023-05-12","objectID":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/:3:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":[],"title":"å…³äº goroutine å†…å­˜æ³„æ¼çš„ä¸€äº›æ€è€ƒ","uri":"/202305121500-%E5%85%B3%E4%BA%8E-goroutine-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/#åœºæ™¯"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":"#ChatGPT ","date":"2023-05-12","objectID":"/202305121433-chatgpt-%E4%B8%80%E4%BA%9B%E6%8F%90%E7%A4%BA%E8%AF%8D%E8%AE%B0%E5%BD%95/:0:0","series":["ChatGPT"],"tags":[],"title":"ChatGPT ä¸€äº›æç¤ºè¯è®°å½•","uri":"/202305121433-chatgpt-%E4%B8%80%E4%BA%9B%E6%8F%90%E7%A4%BA%E8%AF%8D%E8%AE%B0%E5%BD%95/#"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" å¼€å‘ æˆ‘æƒ³åœ¨ç½‘ä¸Šæœç´¢å…³äº â€œâ€ çš„çŸ¥è¯†ï¼Œè¯·é—®æˆ‘åº”è¯¥ç”¨ä»€ä¹ˆå…³é”®å­—æ¥æœç´¢æ¯”è¾ƒå¥½ ","date":"2023-05-12","objectID":"/202305121433-chatgpt-%E4%B8%80%E4%BA%9B%E6%8F%90%E7%A4%BA%E8%AF%8D%E8%AE%B0%E5%BD%95/:1:0","series":["ChatGPT"],"tags":[],"title":"ChatGPT ä¸€äº›æç¤ºè¯è®°å½•","uri":"/202305121433-chatgpt-%E4%B8%80%E4%BA%9B%E6%8F%90%E7%A4%BA%E8%AF%8D%E8%AE%B0%E5%BD%95/#å¼€å‘"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" åšæ€»ç»“ã€æ‘˜è¦ æˆ‘ä»¬å°†å¼€å¯æ–°ä¸€è½®çš„é—®ç­”ï¼Œæ¥ä¸‹æ¥æˆ‘è¦æä¾›ç»™ä½ é€šè¿‡ â€œxxx @ numberâ€ æ¥ç¼–å·çš„æ•°æ®µæ–‡ç« ï¼Œè¯·ä½ å…ˆè®°ä½è¿™äº›æ–‡ç« ï¼Œå½“æˆ‘å¼€å§‹æé—®ï¼Œä½ å†æ ¹æ®è®°ä½çš„è¿™äº›å†…å®¹æ¥å›ç­”ï¼Œå¯ä»¥å— ","date":"2023-05-12","objectID":"/202305121433-chatgpt-%E4%B8%80%E4%BA%9B%E6%8F%90%E7%A4%BA%E8%AF%8D%E8%AE%B0%E5%BD%95/:2:0","series":["ChatGPT"],"tags":[],"title":"ChatGPT ä¸€äº›æç¤ºè¯è®°å½•","uri":"/202305121433-chatgpt-%E4%B8%80%E4%BA%9B%E6%8F%90%E7%A4%BA%E8%AF%8D%E8%AE%B0%E5%BD%95/#åšæ€»ç»“æ‘˜è¦"},{"categories":["Kubernetes"],"content":"#k8s https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/finalizers/ func (r *VolcanoBackendReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) { l := log.FromContext(ctx) l.Info(\"the vcb reconcile is triggered...\") vcb := new(operatorv1.VolcanoBackend) if err := r.Get(ctx, req.NamespacedName, vcb); err != nil { l.Error(err, \"unable to fetch VolcanoBackend\") return ctrl.Result{}, client.IgnoreNotFound(err) } // é»˜è®¤ vcbï¼Œåˆ›å»º volcano ç›¸å…³èµ„æº if vcb.Name == vc_operator.DftVolcanoBackend \u0026\u0026 vcb.Namespace == vc_operator.DftVolcanoBackendNS { // é»˜è®¤èµ„æºéœ€è¦æœ‰æˆ‘ä»¬çš„ finalizerï¼Œå¦‚æœæ²¡æœ‰ï¼Œéœ€è¦æ·»åŠ  if vcb.ObjectMeta.DeletionTimestamp.IsZero() { if !controllerutil.ContainsFinalizer(vcb, config.VolcanoResourcesFinalizer) { controllerutil.AddFinalizer(vcb, config.VolcanoResourcesFinalizer) if err := r.Update(ctx, vcb); err != nil { l.Error(err, \"failed to update default vcb\") return ctrl.Result{}, err } l.Info(\"default vcb add finalizer success\") } } else { // é»˜è®¤ vcb æ­£åœ¨è¢«åˆ é™¤ if controllerutil.ContainsFinalizer(vcb, config.VolcanoResourcesFinalizer) { err := r.deleteVolcanoResources(ctx) if err != nil { l.Error(err, \"failed to delete volcano resources\") return ctrl.Result{}, err } l.Info(\"clean volcano resources success\") controllerutil.RemoveFinalizer(vcb, config.VolcanoResourcesFinalizer) if err := r.Update(ctx, vcb); err != nil { l.Error(err, \"failed to update default vcb\") return ctrl.Result{}, err } l.Info(\"remove finalizer from default vcb success\") } return ctrl.Result{}, nil } err := r.reconcileVolcanoResources(ctx, l) if err != nil { l.Error(err, \"volcano resources reconcile failed\") return ctrl.Result{}, err } l.Info(\"volcano resources reconcile success\") } return ctrl.Result{}, nil } ","date":"2023-05-12","objectID":"/202305121405-finalizer-%E7%AE%80%E5%8D%95%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95/:0:0","series":["kubernetesä»£ç å®è·µ"],"tags":[],"title":"finalizer ç®€å•å®è·µè®°å½•","uri":"/202305121405-finalizer-%E7%AE%80%E5%8D%95%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95/#"},{"categories":["Docker"],"content":"#docker docker pull alpine:latest --platform=linux/arm64 # æŒ‡å®šé•œåƒæ¶æ„ docker inspect é•œåƒ # arm64 docker pull alpine:latest --platform=linux/arm64 docker tag alpine:latest image.cestc.cn/ceake/alpine:latest-arm64 docker push image.cestc.cn/ceake/alpine:latest-arm64 # amd64 docker pull alpine:latest --platform=linux/amd64 docker tag alpine:latest image.cestc.cn/ceake/alpine:latest-amd64 docker push image.cestc.cn/ceake/alpine:latest-amd64 # manifest create docker manifest create --insecure image.cestc.cn/ceake/alpine:latest-multiArch image.cestc.cn/ceake/alpine-arm64:latest image.cestc.cn/ceake/alpine-amd64:latest # mark arm \u0026 amd docker manifest annotate --arch \"arm64\" image.cestc.cn/ceake/alpine:latest-multiArch image.cestc.cn/ceake/alpine-arm64:latest docker manifest annotate --arch \"amd64\" image.cestc.cn/ceake/alpine:latest-multiArch image.cestc.cn/ceake/alpine-amd64:latest # manifest push multi-arch image docker manifest push image.cestc.cn/ceake/alpine:latest-multiArch ","date":"2023-05-12","objectID":"/202305121338-docker-%E5%A4%9A%E6%9E%B6%E6%9E%84%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/:0:0","series":["Dockeré•œåƒåˆ¶ä½œ"],"tags":[],"title":"Docker å¤šæ¶æ„é•œåƒåˆ¶ä½œ","uri":"/202305121338-docker-%E5%A4%9A%E6%9E%B6%E6%9E%84%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/#"},{"categories":["Linux"],"content":"#linux l # æŸ¥çœ‹æºç  b 3 # æ‰“ä¸Šæ–­ç‚¹ r # è¿è¡Œ c # ç»§ç»­æ‰§è¡Œï¼Œåˆ°ä¸‹ä¸ªæ–­ç‚¹ n # å•æ­¥æ‰§è¡Œï¼Œä¸è¿›å…¥å‡½æ•° s # è¿›å…¥å‡½æ•° x/\u003cn/f/u\u003e åœ°å€ # æŸ¥çœ‹åœ°å€çš„å€¼ n:æ˜¯æ­£æ•´æ•°ï¼Œè¡¨ç¤ºéœ€è¦æ˜¾ç¤ºçš„å†…å­˜å•å…ƒçš„ä¸ªæ•°ï¼Œå³ä»å½“å‰åœ°å€å‘åæ˜¾ç¤ºnä¸ªå†…å­˜å•å…ƒçš„å†…å®¹ï¼Œ ä¸€ä¸ªå†…å­˜å•å…ƒçš„å¤§å°ç”±ç¬¬ä¸‰ä¸ªå‚æ•°uå®šä¹‰ã€‚ f:è¡¨ç¤ºaddræŒ‡å‘çš„å†…å­˜å†…å®¹çš„è¾“å‡ºæ ¼å¼ï¼Œså¯¹åº”è¾“å‡ºå­—ç¬¦ä¸²ï¼Œæ­¤å¤„éœ€ç‰¹åˆ«æ³¨æ„è¾“å‡ºæ•´å‹æ•°æ®çš„æ ¼å¼ï¼š x æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡. d æŒ‰åè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ u æŒ‰åè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ— ç¬¦å·æ•´å‹ã€‚ o æŒ‰å…«è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ t æŒ‰äºŒè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ a æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ c æŒ‰å­—ç¬¦æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ f æŒ‰æµ®ç‚¹æ•°æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ u:å°±æ˜¯æŒ‡ä»¥å¤šå°‘ä¸ªå­—èŠ‚ä½œä¸ºä¸€ä¸ªå†…å­˜å•å…ƒ-unit,é»˜è®¤ä¸º4ã€‚uè¿˜å¯ä»¥ç”¨è¢«ä¸€äº›å­—ç¬¦è¡¨ç¤º: å¦‚b=1 byte, h=2 bytes,w=4 bytes,g=8 bytes. \u003caddr\u003e:è¡¨ç¤ºå†…å­˜åœ°å€ã€‚ ","date":"2023-05-12","objectID":"/202305121314-gdb-%E8%B0%83%E8%AF%95/:0:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"gdb è°ƒè¯•","uri":"/202305121314-gdb-%E8%B0%83%E8%AF%95/#"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":"#Git ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:0:0","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" äº†è§£æ¦‚å¿µ å·¥ä½œåŒºï¼šæœ¬åœ°çœ‹åˆ°çš„ç›®å½• æš‚å­˜åŒºï¼šstage æˆ–è€…å« index ç‰ˆæœ¬åº“ï¼š HEAD : å®é™…æ˜¯æŒ‡å‘ master çš„ä¸€ä¸ªæ¸¸æ ‡ï¼Œå¦‚å›¾å‡ºç° HEAD çš„å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨ master ä»£æ›¿ æ‰§è¡Œ git add ï¼Œindex ç›®å½•æ ‘æ›´æ–°ï¼Œå·¥ä½œåŒºçš„ä¿®æ”¹å†…å®¹è¢«å†™å…¥åˆ° objects ä¸­çš„ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ–°å¯¹è±¡ id è®°å½•åœ¨ index çš„æ–‡ä»¶ç´¢å¼•ä¸­ git commit æ—¶ï¼Œmaster åˆ†æ”¯åšç›¸åº”çš„æ›´æ–° ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:1:0","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#äº†è§£æ¦‚å¿µ"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" å¸¸ç”¨å‘½ä»¤","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:0","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#å¸¸ç”¨å‘½ä»¤"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" git help $ git --help usage: git [--version] [--help] [-C \u003cpath\u003e] [-c \u003cname\u003e=\u003cvalue\u003e] [--exec-path[=\u003cpath\u003e]] [--html-path] [--man-path] [--info-path] [-p | --paginate | -P | --no-pager] [--no-replace-objects] [--bare] [--git-dir=\u003cpath\u003e] [--work-tree=\u003cpath\u003e] [--namespace=\u003cname\u003e] [--super-prefix=\u003cpath\u003e] [--config-env=\u003cname\u003e=\u003cenvvar\u003e] \u003ccommand\u003e [\u003cargs\u003e] è¿™äº›æ˜¯åœ¨ä¸åŒæƒ…å†µä¸‹å¸¸ç”¨çš„Gitå‘½ä»¤: å¼€å§‹ä¸€ä¸ªå·¥ä½œåŒº (see also: git help tutorial) clone å…‹éš†ä¸€ä¸ªç‰ˆæœ¬åº“åˆ°ä¸€ä¸ªæ–°çš„ç›®å½•ä¸­ init åˆ›å»ºä¸€ä¸ªç©ºçš„Gitä»“åº“æˆ–é‡æ–°åˆå§‹åŒ–ä¸€ä¸ªç°æœ‰çš„ä»“åº“ å›´ç»•å½“å‰çš„å˜åŒ–å¼€å±•å·¥ä½œ (see also: git help everyday) add å°†æ–‡ä»¶å†…å®¹æ·»åŠ åˆ°ç´¢å¼•ä¸­ mv ç§»åŠ¨æˆ–é‡å‘½åä¸€ä¸ªæ–‡ä»¶ã€ä¸€ä¸ªç›®å½•æˆ–ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼ˆsymlinkï¼‰ restore æ¢å¤å·¥ä½œæ ‘æ–‡ä»¶ rm ä»å·¥ä½œæ ‘å’Œç´¢å¼•ä¸­åˆ é™¤æ–‡ä»¶ sparse-checkout åˆå§‹åŒ–å’Œä¿®æ”¹ sparse-checkout å®¡æŸ¥å†å²å’Œç»Ÿè®¡ (see also: git help revisions) bisect ä½¿ç”¨äºŒè¿›åˆ¶æœç´¢æ¥æŸ¥æ‰¾å¼•å…¥é”™è¯¯çš„æäº¤ diff Show changes between commits, commit and working tree, etc grep æ‰“å°ä¸æ¨¡å¼ç›¸åŒ¹é…çš„è¡Œ log æ˜¾ç¤ºæäº¤æ—¥å¿— show æ˜¾ç¤ºå„ç§ç±»å‹çš„å¯¹è±¡ status æ˜¾ç¤ºå·¥ä½œæ ‘çŠ¶æ€ å¢é•¿ã€æ ‡è®°å’Œè°ƒæ•´ä½ çš„å…±åŒå†å² branch åˆ—å‡ºã€åˆ›å»ºæˆ–åˆ é™¤åˆ†æ”¯ commit è®°å½•å¯¹å­˜å‚¨åº“çš„æ›´æ”¹ merge å°†ä¸¤ä¸ªæˆ–æ›´å¤šçš„å‘å±•å†å²è¿æ¥åœ¨ä¸€èµ· rebase åœ¨å¦ä¸€ä¸ªåŸºç¡€æç¤ºä¹‹ä¸Šé‡æ–°æäº¤ reset å°†å½“å‰çš„HEADå¤ä½åˆ°æŒ‡å®šçš„çŠ¶æ€ switch åˆ‡æ¢åˆ†æ”¯ tag åˆ›å»ºã€åˆ—å‡ºã€åˆ é™¤æˆ–éªŒè¯ä¸€ä¸ªç”¨GPGç­¾åçš„æ ‡ç­¾å¯¹è±¡ ååŒåˆä½œ (see also: git help workflows) fetch ä»å¦ä¸€ä¸ªèµ„æºåº“ä¸‹è½½ objects å’Œ refs pull ä»å¦ä¸€ä¸ªç‰ˆæœ¬åº“æˆ–æœ¬åœ°åˆ†æ”¯è·å–å¹¶ä¸ä¹‹æ•´åˆ push æ›´æ–°è¿œç¨‹ç›¸å…³ objects å’Œ refs 'git help -a' and 'git help -g' list available subcommands and some concept guides. See 'git help \u003ccommand\u003e' or 'git help \u003cconcept\u003e' to read about a specific subcommand or concept. See 'git help git' for an overview of the system. ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:1","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#git-help"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" diff","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:2","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#diff"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" log git log --oneline # -n æ˜¾ç¤ºæœ€è¿‘ n æ¡æäº¤è®°å½• git log --oneline -5 # æ˜¾ç¤ºæœ€è¿‘5æ¡æäº¤ # --after æŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ï¼›--before æŒ‡å®šæ—¶é—´ä¹‹å‰çš„ti'ji git log --oneline --after=2022-06-01 ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:3","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#log"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" reflog ## æŸ¥çœ‹åˆ†æ”¯æ˜¯ä»å“ªä¸ªåˆ†æ”¯åˆ›å»ºå‡ºæ¥çš„ git reflog show \u003cåˆ†æ”¯å\u003e git reflog --date=local | grep \u003cåˆ†æ”¯å\u003e ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:4","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#reflog"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" branch git branch # æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯æƒ…å†µ git branch -a # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ git branch \u003cåˆ†æ”¯å\u003e // åˆ›å»ºåˆ†æ”¯ï¼Œæ–°çš„åˆ†æ”¯æ•°æ®ä¸å½“å‰åˆ†æ”¯çš„æ•°æ®ç›¸åŒ git checkout \u003cåˆ†æ”¯å\u003e // åˆ‡æ¢åˆ†æ”¯ git branch -d # åˆ é™¤æœ¬åœ°åˆ†æ”¯ git push origin -d task-print # åˆ é™¤è¿œç«¯åˆ†æ”¯ ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:5","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#branch"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" cherry-pick git cherry-pick 7fa7894 # (7fa7894, 9f0d518] git cherry-pick 7fa7894..9f0d518 # [7fa7894, 9f0d518] git cherry-pick 7fa7894^..9f0d518 # æ‰“å¼€ç¼–è¾‘å™¨ï¼Œç¼–è¾‘æäº¤ä¿¡æ¯ -e # åœ¨æäº¤ä¿¡æ¯çš„æœ«å°¾è¿½åŠ  cherry pick æ¥æº commit -x # ç»§ç»­æ“ä½œ --continue # æ”¾å¼ƒåˆå¹¶å›åˆ°æ“ä½œå‰çš„æ ·å­ --abort # é€€å‡ºï¼Œä½†æ˜¯ä¸å›åˆ°æ“ä½œå‰çš„æ ·å­ --quit ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:6","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#cherry-pick"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" checkout git checkout -b åˆ†æ”¯å remotes/origin/åˆ†æ”¯å # æ‹‰å–è¿œç¨‹çš„åˆ†æ”¯åˆ°æœ¬åœ° git checkout -b åˆ†æ”¯å # åˆ›å»ºå¹¶åˆ‡æ¢åˆ°åˆ†æ”¯ ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:7","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#checkout"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" reset git reset [--soft | --mixed | --hard] [HEAD] ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:8","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#reset"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" fetch git fetch [alias] git merge [alias]/[branch] git checkout -b master origin/master # æœ¬åœ°æ²¡æœ‰ master åˆ†æ”¯ï¼Œæ‹‰å–è¿œç¨‹çš„ master åˆ†æ”¯ ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:9","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#fetch"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" pullgit pull å…¶å®å°±æ˜¯ git fetch å’Œ git merge FETCH_HEAD çš„ç®€å†™ git pull \u003cè¿œç¨‹ä¸»æœºå\u003e \u003cè¿œç¨‹åˆ†æ”¯å\u003e:\u003cæœ¬åœ°åˆ†æ”¯å\u003e // å°†è¿œç¨‹ä¸»æœº origin çš„åˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°ï¼Œå¹¶äºæœ¬åœ°çš„åˆ†æ”¯åˆå¹¶ git pull \u003cè¿œç¨‹ä¸»æœºå\u003e \u003cè¿œç¨‹åˆ†æ”¯\u003e // é»˜è®¤åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:10","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#pull"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" push git push \u003cè¿œç¨‹ä¸»æœºå\u003e \u003cæœ¬åœ°åˆ†æ”¯å\u003e:\u003cè¿œç¨‹åˆ†æ”¯å\u003e git push \u003cè¿œç¨‹ä¸»æœºå\u003e \u003cæœ¬åœ°åˆ†æ”¯å\u003e // \u003cæœ¬åœ°åˆ†æ”¯å\u003e = \u003cè¿œç¨‹åˆ†æ”¯å\u003e ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:11","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#push"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" æ·»åŠ è¿œç¨‹ä»“åº“ git remote -v # æŸ¥çœ‹æœ¬ä»“åº“çš„è¿œç¨‹ä»“åº“åˆ—è¡¨ git remote add B ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:2:12","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#æ·»åŠ è¿œç¨‹ä»“åº“"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" åœºæ™¯","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:3:0","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#åœºæ™¯"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" fetch ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:3:1","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#fetch-1"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" merge request ä» master åŒæ—¶æ‹‰å‡ºæ¥ä¸¤ä¸ªåˆ†æ”¯ task1ã€task2 master /\\ task1 task2 task1 ä¸ task2 åœ¨åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªä½ç½®å„åŠ äº†ä¸€ä¸ªæ–¹æ³•ï¼Œä¸¤ä¸ªåˆ†æ”¯åŒæ—¶å‘ master æäº†ä¸ª mr å…ˆåˆå…¥ task2 çš„ mr è¿™æ—¶ task1 çš„ mr å°±ä¼šæœ‰å†²çªï¼Œå¦‚ä½•è§£å†³ï¼Ÿ step1. fetch åŒæ­¥ä»£ç  step2. rebaseï¼Œä¸Šæ¸¸åˆ†æ”¯é€‰æ‹© masterï¼Œå¼€å§‹ rebaseï¼Œè§£å†³å‡ºç°çš„å†²çª step3. å¼ºåˆ¶ push åˆ° task1 åˆ†æ”¯ å‘½ä»¤è¡Œæ“ä½œ: git fetch git rebase origin/master # è§£å†³å†²çª ... git add æ–‡ä»¶ git rebase --continue git push origin task1:task1 --force ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:3:2","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#merge-request"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" rebase ç†è§£ https://www.yiibai.com/git/git_rebase.html # å½“å‰å¤„äº task4 åˆ†æ”¯ï¼Œæ‰§è¡Œ git rebase origin/master # **ç›¸å½“äºæŠŠåœ¨ task4 åˆ†æ”¯çš„æäº¤é‡æ–°åˆ›å»ºï¼Œæ”¾åˆ° origin/master çš„æäº¤ä¹‹å** # è€çš„æäº¤è¢«ä¸¢å¼ƒ ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:3:3","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#rebase-ç†è§£"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" cherry-pick git cherry-pick hash1..hash2 ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:3:4","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#cherry-pick-1"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" åˆå¹¶ commit git rebase -i ie. $ git log --oneline 3f9a1c2 (HEAD -\u003e bugfix-1-temp) 2 \u0026 3 b86fd5c 1 71df3ef (origin/bugfix-1-temp, origin/bugfix-1, bugfix-1) 1 3aa9ee7 Merge branch 'master' of code.cestc.cn:honghuiqiang/git-practice # å¦‚æœéœ€è¦åˆå¹¶å‰ä¸¤ä¸ª commitï¼Œ -i æŒ‡å‘ç¬¬ä¸‰ä¸ª commit git rebase -i 71df3ef $ git log --oneline 04beace (HEAD -\u003e bugfix-1-temp) 1 \u0026 2 \u0026 3 71df3ef (origin/bugfix-1-temp, origin/bugfix-1, bugfix-1) 1 ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:3:5","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#åˆå¹¶-commit"},{"categories":["é¡¹ç›®ç®¡ç†"],"content":" åŸºäºå·²æœ‰å·¥ç¨‹åˆ›å»ºæ–°çš„ git ä»“åº“ git init git remote add origin http://xxxx.git git add . git commit -m \"init project.\" git push -u origin master ","date":"2023-05-12","objectID":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:3:6","series":["Git"],"tags":[],"title":"Git å¸¸ç”¨æ“ä½œ","uri":"/202305121326-git-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#åŸºäºå·²æœ‰å·¥ç¨‹åˆ›å»ºæ–°çš„-git-ä»“åº“"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":"#gorm #Golang ","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:0:0","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" ä¸€ã€åŸºæœ¬ç”¨æ³•","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:0","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#ä¸€åŸºæœ¬ç”¨æ³•"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.1 åˆ›å»ºä¸ mysql çš„è¿æ¥ require ( gorm.io/driver/mysql v1.0.5 gorm.io/gorm v1.21.3 ) // createConn åˆ›å»ºä¸ myslq çš„è¿æ¥ func createConn() (db *gorm.DB, err error) { dsn := \"root:APTX4869@tcp(127.0.0.1:3306)/db_gorm_test?charset=utf8mb4\u0026parseTime=True\u0026loc=Local\" db, err = gorm.Open(mysql.Open(dsn), \u0026gorm.Config{}) if err != nil { log.Println(\"create db connection failed.\") return nil, err } return } ","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:1","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#11-åˆ›å»ºä¸-mysql-çš„è¿æ¥"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.2 å¢åˆ æ”¹æŸ¥ 1.2.1 å¢åŠ è®°å½• å¢åŠ å•æ¡è®°å½•ã€æ‰¹é‡å¢åŠ è®°å½• type Role struct { RoleId string `json:\"role_id\"` Name string `json:\"name\"` } func (role *Role) Create(db *gorm.DB) error { // åˆ›å»º role è®°å½• if result := db.Create(\u0026role); result.Error != nil { return errors.New(\"create role error\") } return nil } func CreateBatch(db *gorm.DB, roles []Role) error { if tx := db.Create(\u0026roles); tx.Error != nil { return errors.New(\"create role batch error\") } return nil } å¯ä»¥æ ¹æ® map æ¥åˆ›å»º func CreateByMapTest(db *gorm.DB) error { db.Model(\u0026Role{}).Create(map[string]interface{}{\"RoleId\": \"role-mapdf\", \"Name\": \"roleMap\"}) return nil } ä½¿ç”¨ Model type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { u.ID = utils.GenerateId(\"user\", 10) u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} return } func CreateUseModel() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := \u0026models.User{Name: \"honghuiqiang\"} db.Create(\u0026user) } å…³è”åˆ›å»º type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string CreditCard CreditCard } type CreditCard struct { ID string Number string UserId string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { if len(u.ID) == 0 { u.ID = utils.GenerateId(\"user\", 10) } u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} u.CreditCard.ID = utils.GenerateId(\"cc\", 10) u.CreditCard.UserId = u.ID return } func CreateAssociation() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := models.User{Name: \"honghuiqiang2\", CreditCard: models.CreditCard{Number: \"904566722\"}} db.Create(\u0026user) } 1.2.2 åˆ é™¤è®°å½• åˆ é™¤ä¸€æ¡è®°å½• db.Where(\"role_id = ?\", \"role-9j1t3\").Delete(\u0026models.Role{}) åˆ é™¤å¤šæ¡è®°å½• ids := []string{ \"role-sdftf\", \"role-sdjfu\", } db.Debug().Where(\"role_id IN ?\", ids).Delete([]models.Role{}) // DELETE FROM `roles` WHERE role_id IN ('role-sdftf','role-sdjfu') è½¯åˆ é™¤ æ¨¡å‹éœ€åŒ…å« gorm.DeletedAt å­—æ®µ type Model struct { ID string `gorm:\"primarykey\" json:\"id\"` CreatedAt time.Time `json:\"created_at\"` UpdatedAt time.Time `json:\"updated_at\"` DeletedAt gorm.DeletedAt `gorm:\"index\" json:\"deleted_at\"` } type User struct { Model Name string `json:\"name\"` StorageProtocolType string `json:\"storage_protocol_type\" gorm:\"default:iscsi;comment:'å­˜å‚¨åè®®ç±»å‹'\"` } db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // UPDATE `users` SET `deleted_at`='2021-10-14 17:22:57.853' WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL è½¯åˆ é™¤ä¹‹åï¼Œå°†ä¸èƒ½ä»¥æ­£å¸¸æ–¹å¼æŸ¥æ‰¾åˆ°è¯¥è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨ Unscoped æ¥æŸ¥æ‰¾ db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:0] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1 db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:1] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' ORDER BY `users`.`id` LIMIT 1 æ°¸ä¹…åˆ é™¤ db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // [rows:1] DELETE FROM `users` WHERE id = 'user-9mucs0t3zr' 1.2.3 ä¿®æ”¹è®°å½• æ›´æ–°è®°å½•çš„å…¨éƒ¨å­—æ®µ å³ä½¿å­—æ®µæ˜¯é›¶å€¼ä¹Ÿä¼šæ›´æ–°åˆ°æ•°æ®åº“ var findUser models.User db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Find(\u0026findUser) findUser.Name = \"modify-name\" db.Debug().Save(\u0026findUser) // [rows:1] UPDATE `users` SET `created_at`='2021-10-14 10:21:07',`updated_at`='2021-10-14 17:41:26.304',`deleted_at`=NULL,`name`='modify-name' WHERE `id` = 'user-5pu8tlxpg5' æ›´æ–°æŒ‡å®šå­—æ®µ // æ›´æ–°å•ä¸ªå­—æ®µ db.Model(\u0026models.User{}).Where(\"id = ?\", \"user-5pu8tlxpg5\").Update(\"qq\", \"904566722\") // æ›´æ–°å¤šä¸ªå­—æ®µ db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Updates(models.User{Name: \"hhq\", QQ: \"123\"}) // [rows:1] UPDATE `users` SET `updated_at`='2021-10-14 17:50:14.392',`name`='hhq',`qq`='123' WHERE id = 'user-5pu8tlxpg5' 1.2.4 æŸ¥è¯¢è®°å½• æœç´¢å•ä¸ªå¯¹è±¡ First Take Last æŸ¥è¯¢æ•°æ®åº“æ—¶æ·»åŠ äº† LIMIT 1 æ¡ä»¶ æ²¡æ‰¾åˆ°ï¼š ErrRecordNotFound db.W","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:2","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#12-å¢åˆ æ”¹æŸ¥"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.2 å¢åˆ æ”¹æŸ¥ 1.2.1 å¢åŠ è®°å½• å¢åŠ å•æ¡è®°å½•ã€æ‰¹é‡å¢åŠ è®°å½• type Role struct { RoleId string `json:\"role_id\"` Name string `json:\"name\"` } func (role *Role) Create(db *gorm.DB) error { // åˆ›å»º role è®°å½• if result := db.Create(\u0026role); result.Error != nil { return errors.New(\"create role error\") } return nil } func CreateBatch(db *gorm.DB, roles []Role) error { if tx := db.Create(\u0026roles); tx.Error != nil { return errors.New(\"create role batch error\") } return nil } å¯ä»¥æ ¹æ® map æ¥åˆ›å»º func CreateByMapTest(db *gorm.DB) error { db.Model(\u0026Role{}).Create(map[string]interface{}{\"RoleId\": \"role-mapdf\", \"Name\": \"roleMap\"}) return nil } ä½¿ç”¨ Model type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { u.ID = utils.GenerateId(\"user\", 10) u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} return } func CreateUseModel() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := \u0026models.User{Name: \"honghuiqiang\"} db.Create(\u0026user) } å…³è”åˆ›å»º type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string CreditCard CreditCard } type CreditCard struct { ID string Number string UserId string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { if len(u.ID) == 0 { u.ID = utils.GenerateId(\"user\", 10) } u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} u.CreditCard.ID = utils.GenerateId(\"cc\", 10) u.CreditCard.UserId = u.ID return } func CreateAssociation() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := models.User{Name: \"honghuiqiang2\", CreditCard: models.CreditCard{Number: \"904566722\"}} db.Create(\u0026user) } 1.2.2 åˆ é™¤è®°å½• åˆ é™¤ä¸€æ¡è®°å½• db.Where(\"role_id = ?\", \"role-9j1t3\").Delete(\u0026models.Role{}) åˆ é™¤å¤šæ¡è®°å½• ids := []string{ \"role-sdftf\", \"role-sdjfu\", } db.Debug().Where(\"role_id IN ?\", ids).Delete([]models.Role{}) // DELETE FROM `roles` WHERE role_id IN ('role-sdftf','role-sdjfu') è½¯åˆ é™¤ æ¨¡å‹éœ€åŒ…å« gorm.DeletedAt å­—æ®µ type Model struct { ID string `gorm:\"primarykey\" json:\"id\"` CreatedAt time.Time `json:\"created_at\"` UpdatedAt time.Time `json:\"updated_at\"` DeletedAt gorm.DeletedAt `gorm:\"index\" json:\"deleted_at\"` } type User struct { Model Name string `json:\"name\"` StorageProtocolType string `json:\"storage_protocol_type\" gorm:\"default:iscsi;comment:'å­˜å‚¨åè®®ç±»å‹'\"` } db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // UPDATE `users` SET `deleted_at`='2021-10-14 17:22:57.853' WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL è½¯åˆ é™¤ä¹‹åï¼Œå°†ä¸èƒ½ä»¥æ­£å¸¸æ–¹å¼æŸ¥æ‰¾åˆ°è¯¥è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨ Unscoped æ¥æŸ¥æ‰¾ db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:0] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1 db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:1] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' ORDER BY `users`.`id` LIMIT 1 æ°¸ä¹…åˆ é™¤ db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // [rows:1] DELETE FROM `users` WHERE id = 'user-9mucs0t3zr' 1.2.3 ä¿®æ”¹è®°å½• æ›´æ–°è®°å½•çš„å…¨éƒ¨å­—æ®µ å³ä½¿å­—æ®µæ˜¯é›¶å€¼ä¹Ÿä¼šæ›´æ–°åˆ°æ•°æ®åº“ var findUser models.User db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Find(\u0026findUser) findUser.Name = \"modify-name\" db.Debug().Save(\u0026findUser) // [rows:1] UPDATE `users` SET `created_at`='2021-10-14 10:21:07',`updated_at`='2021-10-14 17:41:26.304',`deleted_at`=NULL,`name`='modify-name' WHERE `id` = 'user-5pu8tlxpg5' æ›´æ–°æŒ‡å®šå­—æ®µ // æ›´æ–°å•ä¸ªå­—æ®µ db.Model(\u0026models.User{}).Where(\"id = ?\", \"user-5pu8tlxpg5\").Update(\"qq\", \"904566722\") // æ›´æ–°å¤šä¸ªå­—æ®µ db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Updates(models.User{Name: \"hhq\", QQ: \"123\"}) // [rows:1] UPDATE `users` SET `updated_at`='2021-10-14 17:50:14.392',`name`='hhq',`qq`='123' WHERE id = 'user-5pu8tlxpg5' 1.2.4 æŸ¥è¯¢è®°å½• æœç´¢å•ä¸ªå¯¹è±¡ First Take Last æŸ¥è¯¢æ•°æ®åº“æ—¶æ·»åŠ äº† LIMIT 1 æ¡ä»¶ æ²¡æ‰¾åˆ°ï¼š ErrRecordNotFound db.W","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:2","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#121-å¢åŠ è®°å½•"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.2 å¢åˆ æ”¹æŸ¥ 1.2.1 å¢åŠ è®°å½• å¢åŠ å•æ¡è®°å½•ã€æ‰¹é‡å¢åŠ è®°å½• type Role struct { RoleId string `json:\"role_id\"` Name string `json:\"name\"` } func (role *Role) Create(db *gorm.DB) error { // åˆ›å»º role è®°å½• if result := db.Create(\u0026role); result.Error != nil { return errors.New(\"create role error\") } return nil } func CreateBatch(db *gorm.DB, roles []Role) error { if tx := db.Create(\u0026roles); tx.Error != nil { return errors.New(\"create role batch error\") } return nil } å¯ä»¥æ ¹æ® map æ¥åˆ›å»º func CreateByMapTest(db *gorm.DB) error { db.Model(\u0026Role{}).Create(map[string]interface{}{\"RoleId\": \"role-mapdf\", \"Name\": \"roleMap\"}) return nil } ä½¿ç”¨ Model type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { u.ID = utils.GenerateId(\"user\", 10) u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} return } func CreateUseModel() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := \u0026models.User{Name: \"honghuiqiang\"} db.Create(\u0026user) } å…³è”åˆ›å»º type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string CreditCard CreditCard } type CreditCard struct { ID string Number string UserId string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { if len(u.ID) == 0 { u.ID = utils.GenerateId(\"user\", 10) } u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} u.CreditCard.ID = utils.GenerateId(\"cc\", 10) u.CreditCard.UserId = u.ID return } func CreateAssociation() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := models.User{Name: \"honghuiqiang2\", CreditCard: models.CreditCard{Number: \"904566722\"}} db.Create(\u0026user) } 1.2.2 åˆ é™¤è®°å½• åˆ é™¤ä¸€æ¡è®°å½• db.Where(\"role_id = ?\", \"role-9j1t3\").Delete(\u0026models.Role{}) åˆ é™¤å¤šæ¡è®°å½• ids := []string{ \"role-sdftf\", \"role-sdjfu\", } db.Debug().Where(\"role_id IN ?\", ids).Delete([]models.Role{}) // DELETE FROM `roles` WHERE role_id IN ('role-sdftf','role-sdjfu') è½¯åˆ é™¤ æ¨¡å‹éœ€åŒ…å« gorm.DeletedAt å­—æ®µ type Model struct { ID string `gorm:\"primarykey\" json:\"id\"` CreatedAt time.Time `json:\"created_at\"` UpdatedAt time.Time `json:\"updated_at\"` DeletedAt gorm.DeletedAt `gorm:\"index\" json:\"deleted_at\"` } type User struct { Model Name string `json:\"name\"` StorageProtocolType string `json:\"storage_protocol_type\" gorm:\"default:iscsi;comment:'å­˜å‚¨åè®®ç±»å‹'\"` } db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // UPDATE `users` SET `deleted_at`='2021-10-14 17:22:57.853' WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL è½¯åˆ é™¤ä¹‹åï¼Œå°†ä¸èƒ½ä»¥æ­£å¸¸æ–¹å¼æŸ¥æ‰¾åˆ°è¯¥è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨ Unscoped æ¥æŸ¥æ‰¾ db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:0] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1 db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:1] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' ORDER BY `users`.`id` LIMIT 1 æ°¸ä¹…åˆ é™¤ db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // [rows:1] DELETE FROM `users` WHERE id = 'user-9mucs0t3zr' 1.2.3 ä¿®æ”¹è®°å½• æ›´æ–°è®°å½•çš„å…¨éƒ¨å­—æ®µ å³ä½¿å­—æ®µæ˜¯é›¶å€¼ä¹Ÿä¼šæ›´æ–°åˆ°æ•°æ®åº“ var findUser models.User db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Find(\u0026findUser) findUser.Name = \"modify-name\" db.Debug().Save(\u0026findUser) // [rows:1] UPDATE `users` SET `created_at`='2021-10-14 10:21:07',`updated_at`='2021-10-14 17:41:26.304',`deleted_at`=NULL,`name`='modify-name' WHERE `id` = 'user-5pu8tlxpg5' æ›´æ–°æŒ‡å®šå­—æ®µ // æ›´æ–°å•ä¸ªå­—æ®µ db.Model(\u0026models.User{}).Where(\"id = ?\", \"user-5pu8tlxpg5\").Update(\"qq\", \"904566722\") // æ›´æ–°å¤šä¸ªå­—æ®µ db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Updates(models.User{Name: \"hhq\", QQ: \"123\"}) // [rows:1] UPDATE `users` SET `updated_at`='2021-10-14 17:50:14.392',`name`='hhq',`qq`='123' WHERE id = 'user-5pu8tlxpg5' 1.2.4 æŸ¥è¯¢è®°å½• æœç´¢å•ä¸ªå¯¹è±¡ First Take Last æŸ¥è¯¢æ•°æ®åº“æ—¶æ·»åŠ äº† LIMIT 1 æ¡ä»¶ æ²¡æ‰¾åˆ°ï¼š ErrRecordNotFound db.W","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:2","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#122-åˆ é™¤è®°å½•"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.2 å¢åˆ æ”¹æŸ¥ 1.2.1 å¢åŠ è®°å½• å¢åŠ å•æ¡è®°å½•ã€æ‰¹é‡å¢åŠ è®°å½• type Role struct { RoleId string `json:\"role_id\"` Name string `json:\"name\"` } func (role *Role) Create(db *gorm.DB) error { // åˆ›å»º role è®°å½• if result := db.Create(\u0026role); result.Error != nil { return errors.New(\"create role error\") } return nil } func CreateBatch(db *gorm.DB, roles []Role) error { if tx := db.Create(\u0026roles); tx.Error != nil { return errors.New(\"create role batch error\") } return nil } å¯ä»¥æ ¹æ® map æ¥åˆ›å»º func CreateByMapTest(db *gorm.DB) error { db.Model(\u0026Role{}).Create(map[string]interface{}{\"RoleId\": \"role-mapdf\", \"Name\": \"roleMap\"}) return nil } ä½¿ç”¨ Model type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { u.ID = utils.GenerateId(\"user\", 10) u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} return } func CreateUseModel() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := \u0026models.User{Name: \"honghuiqiang\"} db.Create(\u0026user) } å…³è”åˆ›å»º type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string CreditCard CreditCard } type CreditCard struct { ID string Number string UserId string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { if len(u.ID) == 0 { u.ID = utils.GenerateId(\"user\", 10) } u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} u.CreditCard.ID = utils.GenerateId(\"cc\", 10) u.CreditCard.UserId = u.ID return } func CreateAssociation() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := models.User{Name: \"honghuiqiang2\", CreditCard: models.CreditCard{Number: \"904566722\"}} db.Create(\u0026user) } 1.2.2 åˆ é™¤è®°å½• åˆ é™¤ä¸€æ¡è®°å½• db.Where(\"role_id = ?\", \"role-9j1t3\").Delete(\u0026models.Role{}) åˆ é™¤å¤šæ¡è®°å½• ids := []string{ \"role-sdftf\", \"role-sdjfu\", } db.Debug().Where(\"role_id IN ?\", ids).Delete([]models.Role{}) // DELETE FROM `roles` WHERE role_id IN ('role-sdftf','role-sdjfu') è½¯åˆ é™¤ æ¨¡å‹éœ€åŒ…å« gorm.DeletedAt å­—æ®µ type Model struct { ID string `gorm:\"primarykey\" json:\"id\"` CreatedAt time.Time `json:\"created_at\"` UpdatedAt time.Time `json:\"updated_at\"` DeletedAt gorm.DeletedAt `gorm:\"index\" json:\"deleted_at\"` } type User struct { Model Name string `json:\"name\"` StorageProtocolType string `json:\"storage_protocol_type\" gorm:\"default:iscsi;comment:'å­˜å‚¨åè®®ç±»å‹'\"` } db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // UPDATE `users` SET `deleted_at`='2021-10-14 17:22:57.853' WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL è½¯åˆ é™¤ä¹‹åï¼Œå°†ä¸èƒ½ä»¥æ­£å¸¸æ–¹å¼æŸ¥æ‰¾åˆ°è¯¥è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨ Unscoped æ¥æŸ¥æ‰¾ db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:0] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1 db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:1] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' ORDER BY `users`.`id` LIMIT 1 æ°¸ä¹…åˆ é™¤ db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // [rows:1] DELETE FROM `users` WHERE id = 'user-9mucs0t3zr' 1.2.3 ä¿®æ”¹è®°å½• æ›´æ–°è®°å½•çš„å…¨éƒ¨å­—æ®µ å³ä½¿å­—æ®µæ˜¯é›¶å€¼ä¹Ÿä¼šæ›´æ–°åˆ°æ•°æ®åº“ var findUser models.User db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Find(\u0026findUser) findUser.Name = \"modify-name\" db.Debug().Save(\u0026findUser) // [rows:1] UPDATE `users` SET `created_at`='2021-10-14 10:21:07',`updated_at`='2021-10-14 17:41:26.304',`deleted_at`=NULL,`name`='modify-name' WHERE `id` = 'user-5pu8tlxpg5' æ›´æ–°æŒ‡å®šå­—æ®µ // æ›´æ–°å•ä¸ªå­—æ®µ db.Model(\u0026models.User{}).Where(\"id = ?\", \"user-5pu8tlxpg5\").Update(\"qq\", \"904566722\") // æ›´æ–°å¤šä¸ªå­—æ®µ db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Updates(models.User{Name: \"hhq\", QQ: \"123\"}) // [rows:1] UPDATE `users` SET `updated_at`='2021-10-14 17:50:14.392',`name`='hhq',`qq`='123' WHERE id = 'user-5pu8tlxpg5' 1.2.4 æŸ¥è¯¢è®°å½• æœç´¢å•ä¸ªå¯¹è±¡ First Take Last æŸ¥è¯¢æ•°æ®åº“æ—¶æ·»åŠ äº† LIMIT 1 æ¡ä»¶ æ²¡æ‰¾åˆ°ï¼š ErrRecordNotFound db.W","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:2","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#123-ä¿®æ”¹è®°å½•"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.2 å¢åˆ æ”¹æŸ¥ 1.2.1 å¢åŠ è®°å½• å¢åŠ å•æ¡è®°å½•ã€æ‰¹é‡å¢åŠ è®°å½• type Role struct { RoleId string `json:\"role_id\"` Name string `json:\"name\"` } func (role *Role) Create(db *gorm.DB) error { // åˆ›å»º role è®°å½• if result := db.Create(\u0026role); result.Error != nil { return errors.New(\"create role error\") } return nil } func CreateBatch(db *gorm.DB, roles []Role) error { if tx := db.Create(\u0026roles); tx.Error != nil { return errors.New(\"create role batch error\") } return nil } å¯ä»¥æ ¹æ® map æ¥åˆ›å»º func CreateByMapTest(db *gorm.DB) error { db.Model(\u0026Role{}).Create(map[string]interface{}{\"RoleId\": \"role-mapdf\", \"Name\": \"roleMap\"}) return nil } ä½¿ç”¨ Model type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { u.ID = utils.GenerateId(\"user\", 10) u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} return } func CreateUseModel() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := \u0026models.User{Name: \"honghuiqiang\"} db.Create(\u0026user) } å…³è”åˆ›å»º type Model struct { ID string `gorm:\"primarykey\"` CreatedAt time.Time UpdatedAt time.Time DeletedAt sql.NullTime `gorm:\"index\"` } type User struct { Model Name string CreditCard CreditCard } type CreditCard struct { ID string Number string UserId string } func (u *User) BeforeCreate(tx *gorm.DB) (err error) { if len(u.ID) == 0 { u.ID = utils.GenerateId(\"user\", 10) } u.CreatedAt = time.Now() u.UpdatedAt = time.Now() u.DeletedAt = sql.NullTime{} u.CreditCard.ID = utils.GenerateId(\"cc\", 10) u.CreditCard.UserId = u.ID return } func CreateAssociation() { db, err := createConn() if err != nil { log.Println(\"open db failed.\") } user := models.User{Name: \"honghuiqiang2\", CreditCard: models.CreditCard{Number: \"904566722\"}} db.Create(\u0026user) } 1.2.2 åˆ é™¤è®°å½• åˆ é™¤ä¸€æ¡è®°å½• db.Where(\"role_id = ?\", \"role-9j1t3\").Delete(\u0026models.Role{}) åˆ é™¤å¤šæ¡è®°å½• ids := []string{ \"role-sdftf\", \"role-sdjfu\", } db.Debug().Where(\"role_id IN ?\", ids).Delete([]models.Role{}) // DELETE FROM `roles` WHERE role_id IN ('role-sdftf','role-sdjfu') è½¯åˆ é™¤ æ¨¡å‹éœ€åŒ…å« gorm.DeletedAt å­—æ®µ type Model struct { ID string `gorm:\"primarykey\" json:\"id\"` CreatedAt time.Time `json:\"created_at\"` UpdatedAt time.Time `json:\"updated_at\"` DeletedAt gorm.DeletedAt `gorm:\"index\" json:\"deleted_at\"` } type User struct { Model Name string `json:\"name\"` StorageProtocolType string `json:\"storage_protocol_type\" gorm:\"default:iscsi;comment:'å­˜å‚¨åè®®ç±»å‹'\"` } db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // UPDATE `users` SET `deleted_at`='2021-10-14 17:22:57.853' WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL è½¯åˆ é™¤ä¹‹åï¼Œå°†ä¸èƒ½ä»¥æ­£å¸¸æ–¹å¼æŸ¥æ‰¾åˆ°è¯¥è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨ Unscoped æ¥æŸ¥æ‰¾ db.Debug().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:0] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1 db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").First(\u0026findUser) // [rows:1] SELECT * FROM `users` WHERE id = 'user-9mucs0t3zr' ORDER BY `users`.`id` LIMIT 1 æ°¸ä¹…åˆ é™¤ db.Debug().Unscoped().Where(\"id = ?\", \"user-9mucs0t3zr\").Delete(\u0026models.User{}) // [rows:1] DELETE FROM `users` WHERE id = 'user-9mucs0t3zr' 1.2.3 ä¿®æ”¹è®°å½• æ›´æ–°è®°å½•çš„å…¨éƒ¨å­—æ®µ å³ä½¿å­—æ®µæ˜¯é›¶å€¼ä¹Ÿä¼šæ›´æ–°åˆ°æ•°æ®åº“ var findUser models.User db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Find(\u0026findUser) findUser.Name = \"modify-name\" db.Debug().Save(\u0026findUser) // [rows:1] UPDATE `users` SET `created_at`='2021-10-14 10:21:07',`updated_at`='2021-10-14 17:41:26.304',`deleted_at`=NULL,`name`='modify-name' WHERE `id` = 'user-5pu8tlxpg5' æ›´æ–°æŒ‡å®šå­—æ®µ // æ›´æ–°å•ä¸ªå­—æ®µ db.Model(\u0026models.User{}).Where(\"id = ?\", \"user-5pu8tlxpg5\").Update(\"qq\", \"904566722\") // æ›´æ–°å¤šä¸ªå­—æ®µ db.Debug().Where(\"id = ?\", \"user-5pu8tlxpg5\").Updates(models.User{Name: \"hhq\", QQ: \"123\"}) // [rows:1] UPDATE `users` SET `updated_at`='2021-10-14 17:50:14.392',`name`='hhq',`qq`='123' WHERE id = 'user-5pu8tlxpg5' 1.2.4 æŸ¥è¯¢è®°å½• æœç´¢å•ä¸ªå¯¹è±¡ First Take Last æŸ¥è¯¢æ•°æ®åº“æ—¶æ·»åŠ äº† LIMIT 1 æ¡ä»¶ æ²¡æ‰¾åˆ°ï¼š ErrRecordNotFound db.W","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:2","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#124-æŸ¥è¯¢è®°å½•"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.3 é’©å­ BeforeSave`ã€`AfterSave`ã€`BeforeCreate`ã€`AfterCreate`ã€`BeforeDelete`ã€`AfterDelete`ã€`BeforeUpdate`ã€`AfterUpdate 1.3.1 BeforeCreate \u0026\u0026 AfterCreate BeforeCreate // BeforeCreate åˆ›å»ºä¹‹å‰åšçš„åŠ¨ä½œï¼Œä¸ºè®°å½•ç”Ÿæˆid func (role *Role) BeforeCreate(tx *gorm.DB) (err error) { role.RoleId = utils.GenerateId(\"role\", 10) return } è·³è¿‡é’©å­æ–¹æ³•ï¼šä½¿ç”¨ä¼šè¯æ¨¡å¼ DB.Session(\u0026gorm.Session{SkipHooks: true}).Create(\u0026user) 1.3.2 BeforeSave \u0026\u0026 AfterSave 1.3.3 BeforeDelete \u0026\u0026 AfterDelete BeforeDelete func (role *Role) BeforeDelete(tx *gorm.DB) (err error) { var findRole Role tx.Debug().Where(\"role_id = ?\", role.RoleId).First(\u0026findRole) // SELECT * FROM `roles` WHERE role_id = 'role-fsi21' ORDER BY `roles`.`role_id` LIMIT 1 if findRole.Name == \"Admin\" { return errors.New(fmt.Sprintf(\"delete role Admin failed\")) } return } func DeleteTest() { db, err := CreateConn() if err != nil { log.Println(\"create connection failed.\") } db.Debug().Delete(\u0026models.Role{RoleId: \"role-fsi21\"}) } 1.3.4 BeforeUpdate \u0026\u0026 AfterUpdate","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:3","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#13-é’©å­"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.3 é’©å­ BeforeSave`ã€`AfterSave`ã€`BeforeCreate`ã€`AfterCreate`ã€`BeforeDelete`ã€`AfterDelete`ã€`BeforeUpdate`ã€`AfterUpdate 1.3.1 BeforeCreate \u0026\u0026 AfterCreate BeforeCreate // BeforeCreate åˆ›å»ºä¹‹å‰åšçš„åŠ¨ä½œï¼Œä¸ºè®°å½•ç”Ÿæˆid func (role *Role) BeforeCreate(tx *gorm.DB) (err error) { role.RoleId = utils.GenerateId(\"role\", 10) return } è·³è¿‡é’©å­æ–¹æ³•ï¼šä½¿ç”¨ä¼šè¯æ¨¡å¼ DB.Session(\u0026gorm.Session{SkipHooks: true}).Create(\u0026user) 1.3.2 BeforeSave \u0026\u0026 AfterSave 1.3.3 BeforeDelete \u0026\u0026 AfterDelete BeforeDelete func (role *Role) BeforeDelete(tx *gorm.DB) (err error) { var findRole Role tx.Debug().Where(\"role_id = ?\", role.RoleId).First(\u0026findRole) // SELECT * FROM `roles` WHERE role_id = 'role-fsi21' ORDER BY `roles`.`role_id` LIMIT 1 if findRole.Name == \"Admin\" { return errors.New(fmt.Sprintf(\"delete role Admin failed\")) } return } func DeleteTest() { db, err := CreateConn() if err != nil { log.Println(\"create connection failed.\") } db.Debug().Delete(\u0026models.Role{RoleId: \"role-fsi21\"}) } 1.3.4 BeforeUpdate \u0026\u0026 AfterUpdate","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:3","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#131-beforecreate--aftercreate"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.3 é’©å­ BeforeSave`ã€`AfterSave`ã€`BeforeCreate`ã€`AfterCreate`ã€`BeforeDelete`ã€`AfterDelete`ã€`BeforeUpdate`ã€`AfterUpdate 1.3.1 BeforeCreate \u0026\u0026 AfterCreate BeforeCreate // BeforeCreate åˆ›å»ºä¹‹å‰åšçš„åŠ¨ä½œï¼Œä¸ºè®°å½•ç”Ÿæˆid func (role *Role) BeforeCreate(tx *gorm.DB) (err error) { role.RoleId = utils.GenerateId(\"role\", 10) return } è·³è¿‡é’©å­æ–¹æ³•ï¼šä½¿ç”¨ä¼šè¯æ¨¡å¼ DB.Session(\u0026gorm.Session{SkipHooks: true}).Create(\u0026user) 1.3.2 BeforeSave \u0026\u0026 AfterSave 1.3.3 BeforeDelete \u0026\u0026 AfterDelete BeforeDelete func (role *Role) BeforeDelete(tx *gorm.DB) (err error) { var findRole Role tx.Debug().Where(\"role_id = ?\", role.RoleId).First(\u0026findRole) // SELECT * FROM `roles` WHERE role_id = 'role-fsi21' ORDER BY `roles`.`role_id` LIMIT 1 if findRole.Name == \"Admin\" { return errors.New(fmt.Sprintf(\"delete role Admin failed\")) } return } func DeleteTest() { db, err := CreateConn() if err != nil { log.Println(\"create connection failed.\") } db.Debug().Delete(\u0026models.Role{RoleId: \"role-fsi21\"}) } 1.3.4 BeforeUpdate \u0026\u0026 AfterUpdate","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:3","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#132-beforesave---aftersave"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.3 é’©å­ BeforeSave`ã€`AfterSave`ã€`BeforeCreate`ã€`AfterCreate`ã€`BeforeDelete`ã€`AfterDelete`ã€`BeforeUpdate`ã€`AfterUpdate 1.3.1 BeforeCreate \u0026\u0026 AfterCreate BeforeCreate // BeforeCreate åˆ›å»ºä¹‹å‰åšçš„åŠ¨ä½œï¼Œä¸ºè®°å½•ç”Ÿæˆid func (role *Role) BeforeCreate(tx *gorm.DB) (err error) { role.RoleId = utils.GenerateId(\"role\", 10) return } è·³è¿‡é’©å­æ–¹æ³•ï¼šä½¿ç”¨ä¼šè¯æ¨¡å¼ DB.Session(\u0026gorm.Session{SkipHooks: true}).Create(\u0026user) 1.3.2 BeforeSave \u0026\u0026 AfterSave 1.3.3 BeforeDelete \u0026\u0026 AfterDelete BeforeDelete func (role *Role) BeforeDelete(tx *gorm.DB) (err error) { var findRole Role tx.Debug().Where(\"role_id = ?\", role.RoleId).First(\u0026findRole) // SELECT * FROM `roles` WHERE role_id = 'role-fsi21' ORDER BY `roles`.`role_id` LIMIT 1 if findRole.Name == \"Admin\" { return errors.New(fmt.Sprintf(\"delete role Admin failed\")) } return } func DeleteTest() { db, err := CreateConn() if err != nil { log.Println(\"create connection failed.\") } db.Debug().Delete(\u0026models.Role{RoleId: \"role-fsi21\"}) } 1.3.4 BeforeUpdate \u0026\u0026 AfterUpdate","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:3","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#133-beforedelete--afterdelete"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 1.3 é’©å­ BeforeSave`ã€`AfterSave`ã€`BeforeCreate`ã€`AfterCreate`ã€`BeforeDelete`ã€`AfterDelete`ã€`BeforeUpdate`ã€`AfterUpdate 1.3.1 BeforeCreate \u0026\u0026 AfterCreate BeforeCreate // BeforeCreate åˆ›å»ºä¹‹å‰åšçš„åŠ¨ä½œï¼Œä¸ºè®°å½•ç”Ÿæˆid func (role *Role) BeforeCreate(tx *gorm.DB) (err error) { role.RoleId = utils.GenerateId(\"role\", 10) return } è·³è¿‡é’©å­æ–¹æ³•ï¼šä½¿ç”¨ä¼šè¯æ¨¡å¼ DB.Session(\u0026gorm.Session{SkipHooks: true}).Create(\u0026user) 1.3.2 BeforeSave \u0026\u0026 AfterSave 1.3.3 BeforeDelete \u0026\u0026 AfterDelete BeforeDelete func (role *Role) BeforeDelete(tx *gorm.DB) (err error) { var findRole Role tx.Debug().Where(\"role_id = ?\", role.RoleId).First(\u0026findRole) // SELECT * FROM `roles` WHERE role_id = 'role-fsi21' ORDER BY `roles`.`role_id` LIMIT 1 if findRole.Name == \"Admin\" { return errors.New(fmt.Sprintf(\"delete role Admin failed\")) } return } func DeleteTest() { db, err := CreateConn() if err != nil { log.Println(\"create connection failed.\") } db.Debug().Delete(\u0026models.Role{RoleId: \"role-fsi21\"}) } 1.3.4 BeforeUpdate \u0026\u0026 AfterUpdate","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:3","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#134-beforeupdate--afterupdate"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" äºŒã€å…³è”","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:2:0","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#äºŒå…³è”"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 2.1 belongs toä¸€ä¸ªç”¨æˆ·å±äºä¸€å®¶å…¬å¸ type User struct { Model Name string `json:\"name\"` QQ string `json:\"qq\"` // ä¸€ä¸ªç”¨æˆ·å±äºä¸€ä¸ªå…¬å¸ CompanyId string `json:\"company_id\"` Company Company } type Company struct { Id string `json:\"id\"` Name string `json:\"name\"` } func (c *Company) TableName() string { return \"company\" } func BelongsToTest() { companyId := utils.GenerateId(\"company\", 5) user := models.User{ Model: models.Model{ID: utils.GenerateId(\"user\", 5)}, Name: \"æ´ªæƒ å¼º\", QQ: \"904566722\", CompanyId: companyId, Company: models.Company{Id: companyId, Name: \"ä¸­å›½ç”µå­ç³»ç»ŸæŠ€æœ¯æœ‰é™å…¬å¸\"}, } db, err := base.CreateConn() if err != nil { log.Println(\"open db failed.\") } db.Debug().Create(\u0026user) // [rows:1] INSERT INTO `company` (`id`,`name`) VALUES ('company-3gs3u','ä¸­å›½ç”µå­ç³»ç»ŸæŠ€æœ¯æœ‰é™å…¬å¸') ON DUPLICATE KEY UPDATE `id`=`id` // [rows:1] INSERT INTO `users` (`id`,`created_at`,`updated_at`,`deleted_at`,`name`,`qq`,`company_id`) VALUES ('user-3gs3u','2021-10-15 10:26:00.312','2021-10-15 10:26:00.312',NULL,'æ´ªæƒ å¼º','904566722','company-3gs3u') user2 := models.User{ Model: models.Model{ID: utils.GenerateId(\"user\", 5)}, Name: \"é™ˆä¹‹èƒ½\", QQ: \"unknown\", CompanyId: \"company-3gs3u\", Company: models.Company{Id: \"company-3gs3u\", Name: \"ä¸­å›½ç³»ç»Ÿ\"}, } db.Debug().Create(\u0026user2) // [rows:0] INSERT INTO `company` (`id`,`name`) VALUES ('company-3gs3u','ä¸­å›½ç³»ç»Ÿ') ON DUPLICATE KEY UPDATE `id`=`id` // [rows:1] INSERT INTO `users` (`id`,`created_at`,`updated_at`,`deleted_at`,`name`,`qq`,`company_id`) VALUES ('user-ys4cf','2021-10-15 10:34:50.196','2021-10-15 10:34:50.196',NULL,'é™ˆä¹‹èƒ½','unknown','company-3gs3u') } ","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:2:1","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#21-belongs-to"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 2.2 has oneä¸€ä¸ªç”¨æˆ·æœ‰ä¸€å¼ å¡ type User struct { Model Name string `json:\"name\"` QQ string `json:\"qq\"` // has one CreditCard CreditCard } type CreditCard struct { ID string Number string UserId string } ","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:2:2","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#22-has-one"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 2.3 has manyä¸€ä¸ªç”¨æˆ·æ‹¥æœ‰å¤šå¼ å¡ type User struct { Model Name string `json:\"name\"` QQ string `json:\"qq\"` // has one CreditCards []CreditCard } type CreditCard struct { ID string Number string UserId string } ","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:2:3","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#23-has-many"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" 2.4 many to manyå¤šå¯¹å¤šå…³ç³»éœ€è¦ä¸­é—´è¡¨ // ä¸€ä¸ª user å¯ä»¥è¯´å¤šç§è¯­è¨€ // ä¸€ç§ language å¯ä»¥ç”±å¤šä¸ª user è¯´ // ä¸­é—´è¡¨ users_languages type User struct { models.Model Name string `json:\"name\"` Languages []Language `gorm:\"many2many:users_languages\" json:\"languages\"` } type Language struct { models.Model Name string Users []User `gorm:\"many2many:users_languages\" json:\"users\"` } func ManyToManyTest() { db, err := base.CreateConn() if err != nil { log.Println(\"open db failed.\") } // ä¼šè‡ªåŠ¨ç”Ÿæˆä¸­é—´è¡¨ db.Set(\"gorm:table_options\", \"ENGINE=InnoDB\").AutoMigrate(\u0026User{}, \u0026Language{}) user := User{ Model: models.Model{ ID: utils.GenerateId(\"user\", 10), }, Name: \"å°æ´ª\", Languages: []Language{ {Model:models.Model{ID: utils.GenerateId(\"lg\", 10)}, Name: \"è‹±è¯­\"}, {Model:models.Model{ID: utils.GenerateId(\"lg\", 11)}, Name: \"ä¸­æ–‡\"}, }, } db.Debug().Create(\u0026user) // [rows:2] INSERT INTO `languages` (`id`,`created_at`,`updated_at`,`deleted_at`,`name`) VALUES ('lg-wgvnn84a70','2021-10-15 14:39:46.204','2021-10-15 14:39:46.204',NULL,'è‹±è¯­'),('lg-wgvnn84a70y','2021-10-15 14:39:46.204','2021-10-15 14:39:46.204',NULL,'ä¸­æ–‡') ON DUPLICATE KEY UPDATE `id`=`id` // [rows:2] INSERT INTO `users_languages` (`user_id`,`language_id`) VALUES ('user-wgvnn84a70','lg-wgvnn84a70'),('user-wgvnn84a70','lg-wgvnn84a70y') ON DUPLICATE KEY UPDATE `user_id`=`user_id` // [rows:1] INSERT INTO `users` (`id`,`created_at`,`updated_at`,`deleted_at`,`name`) VALUES ('user-wgvnn84a70','2021-10-15 14:39:46.195','2021-10-15 14:39:46.195',NULL,'å°æ´ª') } func ManyToManyFindTest() { db, err := base.CreateConn() if err != nil { log.Println(\"open db failed.\") } var findUsers []User var findLanguages []Language LanguageCondition := \u0026Language{Model: models.Model{ID: \"lg-5wb85aj644\"}} userCondition := \u0026User{Model: models.Model{ID: \"user-5wb85aj644\"}} // æŸ¥æ‰¾ä½¿ç”¨æŸè¯­è¨€çš„æ‰€æœ‰ç”¨æˆ· db.Debug().Model(\u0026LanguageCondition).Association(\"Users\").Find(\u0026findUsers) // [rows:1] SELECT `users`.`id`,`users`.`created_at`,`users`.`updated_at`,`users`.`deleted_at`,`users`.`name` FROM `users` JOIN `users_languages` ON `users_languages`.`user_id` = `users`.`id` AND `users_languages`.`language_id` = 'lg-5wb85aj644' WHERE `users`.`deleted_at` IS NULL // æŸ¥æ‰¾æŸç”¨æˆ·ä½¿ç”¨çš„è¯­è¨€ db.Debug().Model(\u0026userCondition).Association(\"Languages\").Find(\u0026findLanguages) // [rows:2] SELECT `languages`.`id`,`languages`.`created_at`,`languages`.`updated_at`,`languages`.`deleted_at`,`languages`.`name` FROM `languages` JOIN `users_languages` ON `users_languages`.`language_id` = `languages`.`id` AND `users_languages`.`user_id` = 'user-5wb85aj644' WHERE `languages`.`deleted_at` IS NULL marshalFindUsers, err := json.Marshal(findUsers) marshalFindLgs, err := json.Marshal(findLanguages) fmt.Println(string(marshalFindUsers)) fmt.Println(string(marshalFindLgs)) } ","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:2:4","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#24-many-to-many"},{"categories":["Golangä¸€äº›æ¡†æ¶"],"content":" ä¸‰ã€å£°æ˜æ¨¡å‹ - æ ‡ç­¾ colume type boolã€intã€uintã€floatã€stringã€timeã€bytes serializer size primaryKey unique default precision scale not null autoIncrement autoIncrementIncrement embedded embeddedPrefix autoCreateTime autoUpdateTime index uniqueIndex check \u003c - comment ","date":"2023-05-12","objectID":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:3:0","series":["Gorm"],"tags":[],"title":"Gorm åŸºæœ¬ä½¿ç”¨","uri":"/202305121339-gorm-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#ä¸‰å£°æ˜æ¨¡å‹---æ ‡ç­¾"},{"categories":["Kubernetes"],"content":"#k8s ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:0:0","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#"},{"categories":["Kubernetes"],"content":" ç®€å•äº†è§£","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:1:0","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#ç®€å•äº†è§£"},{"categories":["Kubernetes"],"content":" ç‰¹ç‚¹ åŸºäºå®¹å™¨æŠ€æœ¯ æœ‰è‡ªæˆ‘ä¿®å¤èƒ½åŠ› æ°´å¹³ä¼¸ç¼© è‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©å±• æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ â€¦ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:1:1","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#ç‰¹ç‚¹"},{"categories":["Kubernetes"],"content":" master èŠ‚ç‚¹ç›¸å…³ç»„ä»¶ kube-apiserver kube-controller-manaer kube-scheduler ä¸Šè¿°ç»„ä»¶å®Œæˆäº†é›†ç¾¤çš„ pod è°ƒåº¦ã€å¼¹æ€§ä¼¸ç¼©ã€èµ„æºç®¡ç†ã€å®‰å…¨æ§åˆ¶ç­‰åŠŸèƒ½ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:1:2","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#master-èŠ‚ç‚¹ç›¸å…³ç»„ä»¶"},{"categories":["Kubernetes"],"content":" æ•°æ®åº“å±‚é¢å¦‚ä½•æ‰©å±•åŠŸèƒ½ æ–¹æ³• ä¼˜ç‚¹ ç¼ºç‚¹ æ–¹æ³•1. æ•°æ®åº“è¡¨é¢„ç•™ä¸€ä¸ªå¾ˆé•¿çš„å¤‡æ³¨å­—æ®µï¼Œä¹‹åæ‰©å±•çš„å†…å®¹ä»¥æŸç§æ ¼å¼ï¼ˆxmlã€jsonã€å­—ç¬¦ä¸²æ‹¼æ¥ç­‰ï¼‰å­˜å…¥ ä»£ç æ”¹åŠ¨å°ï¼Œé£é™©å° ä¸ç¾è§‚ æ–¹æ³•2. ç›´æ¥ä¿®æ”¹æ•°æ®åº“è¡¨ ä»£ç æ”¹åŠ¨å¤§ï¼Œé£é™©å¤§ æ¯”è¾ƒç¾è§‚ é€šå¸¸çš„åšæ³•æ˜¯ç»“åˆä¸¤ç§æ–¹æ³•ï¼Œåˆšå¼€å§‹å¼•å…¥ç‰¹æ€§çš„æ—¶å€™ä½¿ç”¨æ–¹æ³•1ï¼Œè¾ƒå°é£é™©ï¼Œç­‰ç‰¹æ€§ç¨³å®šä¹‹åï¼Œä½¿ç”¨æ–¹æ³•2è¿›è¡Œé‡æ„ï¼Œä½¿ä»£ç ç¾è§‚ã€‚ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:1:3","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#æ•°æ®åº“å±‚é¢å¦‚ä½•æ‰©å±•åŠŸèƒ½"},{"categories":["Kubernetes"],"content":" ä¸€äº›æ¦‚å¿µ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:0","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#ä¸€äº›æ¦‚å¿µ"},{"categories":["Kubernetes"],"content":" Master - é›†ç¾¤çš„æ§åˆ¶èŠ‚ç‚¹master èŠ‚ç‚¹ä¸Šè¿è¡Œå…³é”®è¿›ç¨‹ï¼š kube-controller-managerï¼šèµ„æºå¯¹è±¡çš„è‡ªåŠ¨åŒ–æ§åˆ¶ kube-apiserverï¼šæä¾› HTTP Rest æ¥å£çš„å…³é”®æœåŠ¡è¿›ç¨‹ï¼Œç›¸å½“äºé›†ç¾¤çš„å…¥å£ï¼Œæ§åˆ¶èµ„æºçš„å¢åˆ æ”¹æŸ¥ç­‰éƒ½è¦ç»è¿‡å®ƒ kube-schedulerï¼šèµ„æºè°ƒåº¦ etcdï¼šä¿å­˜æ‰€æœ‰èµ„æºå¯¹è±¡çš„æ•°æ® ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:1","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#master---é›†ç¾¤çš„æ§åˆ¶èŠ‚ç‚¹"},{"categories":["Kubernetes"],"content":" Node - å·¥ä½œè´Ÿè½½èŠ‚ç‚¹node èŠ‚ç‚¹ä¸Šè¿è¡Œçš„å…³é”®è¿›ç¨‹ï¼š kubeletï¼šè´Ÿè´£ pod å®¹å™¨çš„åˆ›å»ºã€èµ·åœ kube-proxyï¼šå®ç°è´Ÿè½½å‡è¡¡çš„å…³é”®ç»„ä»¶ docker engineï¼šå®¹å™¨çš„ç®¡ç† ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:2","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#node---å·¥ä½œè´Ÿè½½èŠ‚ç‚¹"},{"categories":["Kubernetes"],"content":" Pod pause æ ¹å®¹å™¨çš„ä¸¤ä¸ªåŠŸèƒ½ï¼š å…³è”è¯¥ pod å†…å®¹å™¨çš„çŠ¶æ€ ä¸å…¶ä»–å®¹å™¨å…±äº« IPã€æŒ‚è½½çš„ Volume Pod ç±»å‹ï¼š æ™®é€š Pod é™æ€ Pod ç‰¹ç‚¹1. å­˜æ”¾ä½ç½®ï¼šé™æ€podæ²¡æœ‰è¢«æ”¾åˆ° etcd ä¸­ï¼Œè€Œæ˜¯åœ¨æŸä¸ª node çš„ä¸€ä¸ªå…·ä½“æ–‡ä»¶ ç‰¹ç‚¹2. è°ƒåº¦ç­–ç•¥ï¼šåªåœ¨å¯¹åº”çš„ node ä¸Šå¯åŠ¨ File: Pod-template.yaml apiVersion: v1 kind: Pod metadata: name: string # pod åç§° namespace: string # å‘½åç©ºé—´ labels: # æ ‡ç­¾ name: string annotations: # æ³¨é‡Š - name: string spec: containers: - name: string # å®¹å™¨ åç§° image: string # å®¹å™¨ä½¿ç”¨é•œåƒ imagePullPolicy: [Always | Never | IfNotPresent] # é•œåƒæ‹‰å–ç­–ç•¥ command: []string # ä¸ºå®¹å™¨å®šä¹‰å‘½ä»¤ args: []string # ä¸ºå®¹å™¨å®šä¹‰å‚æ•° # ä»¥ä¸Šå®šä¹‰çš„å‘½ä»¤å’Œå‚æ•°ä¼šè¦†ç›–å®¹å™¨é•œåƒ(image)æä¾›çš„é»˜è®¤å‘½ä»¤å’Œå‚æ•°ï¼Œå¦‚æœåªæŒ‡å®šäº† argsï¼Œåˆ™å°†å‚æ•°å°†é…åˆé»˜è®¤å‘½ä»¤ä½¿ç”¨ workingDir: string # æŒ‡å®šå®¹å™¨å·¥ä½œç›®å½• volumeMounts: - name: string # åç§°ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨æœ¬æ–‡ä»¶ä¸­çš„ volume å¯¹è±¡ id mountPath: string # æŒ‚è½½åˆ°å®¹å™¨å†…çš„è·¯å¾„ readOnly: boolean ports: - name: string containerPort: int hostPort: int # å¤§å¤šæ•°å®¹å™¨ä¸éœ€è¦è¿™ä¸ªã€‚è¦åœ¨ä¸»æœºä¸Šå…¬å¼€çš„ç«¯å£å· protocol: [TCP | UDP | SCTP] env: - name: string value: string - name: string valueFrom: configMapKeyRef: name: string key: string resources: # æŒ‡å®šå®¹å™¨éœ€è¦çš„æ¯ç§èµ„æºçš„æ•°é‡ï¼Œè°ƒåº¦ç¨‹åºä¼šåˆ©ç”¨æ­¤ä¿¡æ¯æ¥å†³å®šå°† Pod æ”¾åœ¨é‚£ä¸ªèŠ‚ç‚¹ä¸Š limits: # æœ€å°æ•°å€¼ cpu: string memory: string requests: # å³°å€¼è´Ÿè½½æƒ…å†µä¸‹èµ„æºå ç”¨çš„æœ€å¤§é‡ cpu: string memory: string livenessProbe: # å­˜æ´»æ¢é’ˆ exec: command: []string # åœ¨å®¹å™¨å†…æ‰§è¡Œçš„å‘½ä»¤è¡Œï¼Œå·¥ä½œç›®å½•æ˜¯ \"/\" httpGet: host: string # è¿æ¥åˆ°çš„ä¸»æœºåï¼Œé»˜è®¤æ˜¯ pod çš„ IP port: number path: string scheme: string # è¿æ¥åˆ°ä¸»æœºçš„æ–¹æ¡ˆï¼Œé»˜è®¤ HTTP httpHeaders: - name: string value: string tcpSocket: host: string port: string initialDelaySeconds: 0 # å¯åŠ¨å®¹å™¨å \u003c---- ç§’æ•° ----\u003e å¯åŠ¨å¯ç”¨æ€§æ¢æµ‹ timeoutSeconds: 1 periodSeconds: 1 # å¤šä¹…æ‰§è¡Œä¸€æ¬¡æ¢æµ‹ successThreshold: 1 # å¤±è´¥åè¢«è®¤ä¸ºæ˜¯æˆåŠŸçš„æœ€å°è¿ç»­æˆåŠŸæ¬¡æ•° failureThreshold: 1 # æˆåŠŸåè¢«è§†ä¸ºå¤±è´¥çš„æœ€å°è¿ç»­å¤±è´¥æ¬¡æ•°ã€‚é»˜è®¤ä¸º3ï¼Œæœ€å°å€¼ä¸º1 securityContext: # å®šä¹‰å®¹å™¨çš„æƒé™å’Œè®¿é—®æ§åˆ¶è®¾ç½® ï¼ˆPod ä¹Ÿæœ‰ securityContextï¼Œå¦‚æœä¸¤è€…æœ‰ç›¸åŒå­—æ®µï¼Œå®¹å™¨ä¼˜å…ˆï¼‰ privileged: boolean # æ˜¯å¦ç‰¹æƒæ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œç‰¹æƒå®¹å™¨ä¸­çš„è¿›ç¨‹åŸºæœ¬ä¸Šç­‰åŒäºä¸»æœºä¸Šçš„ root procMount: string allowPrivilegeEscalation: boolean # æ§åˆ¶ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦å¯ä»¥è·å¾—æ¯”å…¶çˆ¶è¿›ç¨‹æ›´å¤šçš„æƒé™ capabilities: Object # è¿è¡Œå®¹å™¨æ—¶è¦æ·»åŠ /åˆ é™¤çš„èƒ½åŠ› readOnlyRootFilesystem: boolean # å®¹å™¨æ˜¯å¦æœ‰ä¸€ä¸ªåªè¯»çš„æ ¹æ–‡ä»¶ç³»ç»Ÿ runAsGroup: integer # ç”¨äºè¿è¡Œå®¹å™¨è¿›ç¨‹çš„å…¥å£çš„ GID runAsNonRoot: boolean # å®¹å™¨å¿…é¡»ä»¥é root ç”¨æˆ·çš„èº«ä»½è¿è¡Œï¼Œ ä¸º true æ—¶ï¼Œkubelet å°†åœ¨è¿è¡Œçš„æ—¶å€™éªŒè¯é•œåƒï¼Œç¡®ä¿ä¸ä¼šä»¥ UID 0 ï¼ˆrootï¼‰ç”¨æˆ·çš„èº«ä»½è¿è¡Œï¼Œå¦‚æœä»¥ root ç”¨æˆ·è¿è¡Œï¼Œåˆ™æ— æ³•å¯åŠ¨å®¹å™¨ runAsUser: integer # è¿è¡Œå®¹å™¨è¿›ç¨‹çš„ UID seLinuxOptions: Object windowsOptions: Object restartPolicy: [Always | OnFailure | Never] # pod å†…å®¹å™¨çš„é‡å¯ç­–ç•¥ nodeSelector: map[string]string # é¡»ä¸ node çš„æ ‡ç­¾ç›¸åŒ¹é…ï¼Œä»¥ä¾¿æ­¤ pod åœ¨èŠ‚ç‚¹ä¸Šè°ƒåº¦ imagePullSecrets: - name: string hostNetwork: boolean # ä½¿ç”¨ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´ï¼Œè¯·æ±‚ä¸»æœºç½‘ç»œ volumes: # å±äº pod çš„å®¹å™¨å¯ä»¥æŒ‚è½½çš„å·åˆ—è¡¨ - name: string hostPath: path: string # ä¸»æœºä¸Šçš„ç›®å½•è·¯å¾„ï¼Œå¦‚æœæ˜¯é“¾æ¥ï¼Œä¼šé“¾æ¥åˆ°çœŸå®è·¯å¾„ type: [\"\" | DirectoryOrCreate | Directory | FileOrCreate | File | Socket | CharDevice | BlockDevice] emptyDir: # ä¸´æ—¶ç›®å½•ï¼Œåˆ†äº« pod çš„å£°æ˜å‘¨æœŸ medium: string sizeLimit: string secret: # å¡«å……è¿™ä¸ªå·çš„ secret secretName: string items: - key: string path: string optional: boolean defaultMode: integer configMap: name: string items: - key: string path: string iscsi: # ä¸€ä¸ª iscsi ç£ç›˜èµ„æºï¼Œè¿æ¥åˆ°ä¸€ä¸ª kubelet çš„ä¸»æœºä¸Šï¼Œç„¶åæš´éœ²ç»™ pod chapAuthDiscovery: boolean # æ˜¯å¦æ”¯æŒiSCSIå‘ç°CHAPè®¤è¯ chapAuthSession: boolean # æ˜¯å¦æ”¯æŒ iSCSI ä¼šè¯ CHAP è®¤è¯ initiatorName: string # è‡ªå®šä¹‰å¯åŠ¨å™¨åç§° iqn: string lun: integer targetPortal: string portals: []string readOnly: boolean ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:3","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#pod"},{"categories":["Kubernetes"],"content":" RC ï¼ˆReplication Controllerï¼‰ã€RSï¼ˆReplication Setï¼‰ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯ RS æ”¯æŒé›†åˆçš„ label selector æ»šåŠ¨å‡çº§ï¼ˆä¿æŒå‰¯æœ¬æ•°é‡ä¸å˜ï¼Œæ¯åœä¸€ä¸ªæ—§ç‰ˆæœ¬çš„podï¼ŒåŒæ—¶å¯åŠ¨ä¸€ä¸ªæ–°ç‰ˆæœ¬çš„podï¼‰ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:4","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#rc-replication-controllerrsreplication-set"},{"categories":["Kubernetes"],"content":" Deploymentå†…éƒ¨æ˜¯ä½¿ç”¨ RS æ¥å®ç°çš„ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:5","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#deployment"},{"categories":["Kubernetes"],"content":" HPAï¼ˆHorizontal Pod Autoscalerï¼‰Pod æ°´å¹³è‡ªåŠ¨æ‰©ç¼©å®¹ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:6","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#hpahorizontal-pod-autoscaler"},{"categories":["Kubernetes"],"content":" StatefulSetåŒºåˆ«äº RCã€Deploymentã€DaemonSetã€Job é¢å‘æ— çŠ¶æ€æœåŠ¡ StatefulSetä¸ºæœ‰çŠ¶æ€æœåŠ¡ sts æ§åˆ¶çš„å‰¯æœ¬å¯åœé¡ºåºå—æ§ é‡‡ç”¨æŒä¹…åŒ–å­˜å‚¨å·ï¼ˆPV or PVCï¼‰ Headless Service ä¸é…åˆä½¿ç”¨ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:7","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#statefulset"},{"categories":["Kubernetes"],"content":" Service RSã€Serviceã€Pod ä¹‹é—´çš„å…³ç³»ï¼š å…³ç³»è¯¦æƒ…ï¼š Service ä¸ å¾®æœåŠ¡ï¼Ÿæ¯ä¸ª Service å°±ç›¸å½“äºä¸€ä¸ª å¾®æœåŠ¡ï¼š Service å¾ˆå¥½çš„è§£å†³äº† k8s æœåŠ¡å‘ç°çš„é—®é¢˜ pod+ip ç»„æˆçš„ endpoint è™½ç„¶å¯ä»¥è®¿é—®åˆ°æœåŠ¡ï¼Œä½†æ˜¯ pod ä¸€é‡å¯ï¼Œè¿™ä¸ª endpoint éšä¹‹æ”¹å˜ï¼Œè€Œåœ¨ service çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®ƒçš„ ip æ˜¯ä¸å˜çš„ï¼Œåªè¦å°† Service çš„åç§°ä¸ipåšä¸€ä¸ª dns åŸŸåæ˜ å°„ä¾¿å¯ç”¨åŸŸåè®¿é—®æœåŠ¡ ä¸€æ¬¡å®è·µçš„æˆªå›¾ï¼š ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:8","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#service"},{"categories":["Kubernetes"],"content":" Volumek8s çš„æ”¯æŒå¤šç§ç±»å‹çš„ volumeï¼š GlusterFS Ceph å…¶ä»–åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:9","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#volume"},{"categories":["Kubernetes"],"content":" Persistent Volumeï¼ˆPVï¼‰é›†ç¾¤ä¸­æŸä¸ªç½‘ç»œå­˜å‚¨å¯¹åº”çš„ä¸€å—å­˜å‚¨ ä¸ Persistent Volume Claimï¼ˆPVCï¼‰èµ·åˆ°äº†ç±»ä¼¼çš„ä½œç”¨ â€¦ ","date":"2023-05-12","objectID":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/:2:10","series":["kubernetesåˆè¯†"],"tags":[],"title":"Kubernetes ä¸€äº›åŸºç¡€æ¦‚å¿µ","uri":"/202305121348-kubernetes-%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/#persistent-volumepv"},{"categories":["Linux"],"content":"#linux ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:0:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#"},{"categories":["Linux"],"content":" ä¸€ã€åŸºæœ¬æ“ä½œ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ä¸€åŸºæœ¬æ“ä½œ"},{"categories":["Linux"],"content":" æŸ¥çœ‹ç³»ç»Ÿã€cpuä¿¡æ¯ # æŸ¥çœ‹ç³»ç»Ÿæ¶æ„ arch # æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ä¿¡æ¯ uname -a # æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ cat /proc/version # æŸ¥çœ‹å½“å‰ç”¨æˆ·ç¯å¢ƒå˜é‡ env # æ˜¾ç¤ºCPU infoçš„ä¿¡æ¯ cat /proc/cpuinfo # æŸ¥çœ‹æœ‰å‡ ä¸ªé€»è¾‘cpu, åŒ…æ‹¬cpuå‹å· cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c # æŸ¥çœ‹æœ‰å‡ é¢—cpu,æ¯é¢—åˆ†åˆ«æ˜¯å‡ æ ¸ cat /proc/cpuinfo | grep physical | uniq -c # æŸ¥çœ‹å½“å‰CPUè¿è¡Œåœ¨32bitè¿˜æ˜¯64bitæ¨¡å¼ä¸‹, å¦‚æœæ˜¯è¿è¡Œåœ¨32bitä¸‹ä¹Ÿä¸ä»£è¡¨CPUä¸æ”¯æŒ64bit getconf LONG_BIT # ç»“æœå¤§äº0, è¯´æ˜æ”¯æŒ64bitè®¡ç®—. lmæŒ‡long mode, æ”¯æŒlmåˆ™æ˜¯64bit cat /proc/cpuinfo | grep flags | grep ' lm ' | wc -l cat /proc/meminfo # æ£€éªŒå†…å­˜ä½¿ç”¨ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:1","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æŸ¥çœ‹ç³»ç»Ÿcpuä¿¡æ¯"},{"categories":["Linux"],"content":" ç½—åˆ—è®¾å¤‡ # ç½—åˆ— pci è®¾å¤‡ lspci -tv ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:2","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ç½—åˆ—è®¾å¤‡"},{"categories":["Linux"],"content":" sshkey # åˆ›å»ºsshkey ssh-keygen -t rsa -C your_email@example.com #id_rsa.pub çš„å†…å®¹æ‹·è´åˆ°è¦æ§åˆ¶çš„æœåŠ¡å™¨çš„ home/username/.ssh/authorized_keys ä¸­,å¦‚æœæ²¡æœ‰åˆ™æ–°å»º(.sshæƒé™ä¸º700, authorized_keysæƒé™ä¸º600) ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#sshkey"},{"categories":["Linux"],"content":" å‘½ä»¤åˆ«å # åœ¨å„ä¸ªç”¨æˆ·çš„.bash_profileä¸­æ·»åŠ é‡å‘½åé…ç½® alias ll='ls -alF' ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:4","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#å‘½ä»¤åˆ«å"},{"categories":["Linux"],"content":" åŒæ­¥æœåŠ¡å™¨æ—¶é—´ sudo ntpdate -u ntp.api.bz ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:5","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#åŒæ­¥æœåŠ¡å™¨æ—¶é—´"},{"categories":["Linux"],"content":" åå°è¿è¡Œå‘½ä»¤ # åå°è¿è¡Œ,å¹¶ä¸”æœ‰nohup.outè¾“å‡º nohup xxx \u0026 # åå°è¿è¡Œ, ä¸è¾“å‡ºä»»ä½•æ—¥å¿— nohup xxx \u003e /dev/null \u0026 # åå°è¿è¡Œ, å¹¶å°†é”™è¯¯ä¿¡æ¯åšæ ‡å‡†è¾“å‡ºåˆ°æ—¥å¿—ä¸­ nohup xxx \u003eout.log 2\u003e\u00261 \u0026 ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:6","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#åå°è¿è¡Œå‘½ä»¤"},{"categories":["Linux"],"content":" æŸ¥çœ‹å‘½ä»¤è·¯å¾„ #æ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶æˆ–å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ which \u003cå‘½ä»¤\u003e #æ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€æºç æˆ–mançš„ä½ç½® whereis \u003cå‘½ä»¤\u003e ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:7","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æŸ¥çœ‹å‘½ä»¤è·¯å¾„"},{"categories":["Linux"],"content":" æŸ¥çœ‹åŸŸåè·¯ç”±è¡¨ nslookup google.com ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:8","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æŸ¥çœ‹åŸŸåè·¯ç”±è¡¨"},{"categories":["Linux"],"content":" æœ€è¿‘ç™»å½•ä¿¡æ¯åˆ—è¡¨ last -n 5 ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:9","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æœ€è¿‘ç™»å½•ä¿¡æ¯åˆ—è¡¨"},{"categories":["Linux"],"content":" è®¾ç½®å›ºå®šip ifconfig em1 192.168.5.177 netmask 255.255.255.0 ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:10","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#è®¾ç½®å›ºå®šip"},{"categories":["Linux"],"content":" ç£ç›˜ã€æ–‡ä»¶ã€ç›®å½•ç›¸å…³æ“ä½œ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ç£ç›˜æ–‡ä»¶ç›®å½•ç›¸å…³æ“ä½œ"},{"categories":["Linux"],"content":" vim #normalæ¨¡å¼ä¸‹ gè¡¨ç¤ºå…¨å±€, xè¡¨ç¤ºæŸ¥æ‰¾çš„å†…å®¹, yè¡¨ç¤ºæ›¿æ¢åçš„å†…å®¹ :%s/x/y/g #normalæ¨¡å¼ä¸‹ 0 # å…‰æ ‡ç§»åˆ°è¡Œé¦–(æ•°å­—0) $ # å…‰æ ‡ç§»è‡³è¡Œå°¾ shift + g # è·³åˆ°æ–‡ä»¶æœ€å gg # è·³åˆ°æ–‡ä»¶å¤´ # æ˜¾ç¤ºè¡Œå· :set nu # å»é™¤è¡Œå· :set nonu # æ£€ç´¢ /xxx(æ£€ç´¢å†…å®¹) # ä»å¤´æ£€ç´¢, æŒ‰næŸ¥æ‰¾ä¸‹ä¸€ä¸ª ?xxx(æ£€ç´¢å†…å®¹) # ä»å°¾éƒ¨æ£€ç´¢ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:1","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#vim"},{"categories":["Linux"],"content":" ç£ç›˜ã€æ–‡ä»¶ç›®å½•åŸºæœ¬ä¿¡æ¯ mount # æŸ¥çœ‹ç£ç›˜æŒ‚è½½æƒ…å†µ df # æŸ¥çœ‹ç£ç›˜åˆ†åŒºä¿¡æ¯ df -h df -lh df -h è·¯å¾„ du -H -h # æŸ¥çœ‹ç›®å½•åŠå­ç›®å½•å¤§å° du -sh * # æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹å„ä¸ªæ–‡ä»¶, æ–‡ä»¶å¤¹å äº†å¤šå°‘ç©ºé—´, ä¸ä¼šé€’å½’ du -sh dir1 #ä¼°ç®—ç›®å½• 'dir1' å·²ç»ä½¿ç”¨çš„ç£ç›˜ç©ºé—´' ls -lSr |more #ä»¥å°ºå¯¸å¤§å°æ’åˆ—æ–‡ä»¶å’Œç›®å½• ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:2","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ç£ç›˜æ–‡ä»¶ç›®å½•åŸºæœ¬ä¿¡æ¯"},{"categories":["Linux"],"content":" fdisk ############ åˆ›å»ºä¸€ä¸ªåˆ†åŒº fdisk /dev/sdb Command (m for help): m Command action a toggle a bootable flag b edit bsd disklabel c toggle the dos compatibility flag d delete a partition g create a new empty GPT partition table G create an IRIX (SGI) partition table l list known partition types m print this menu n add a new partition o create a new empty DOS partition table p print the partition table q quit without saving changes s create a new empty Sun disklabel t change a partition's system id u change display/entry units v verify the partition table w write table to disk and exit x extra functionality (experts only) Command (m for help): n Partition type: p primary (0 primary, 0 extended, 4 free) e extended Select (default p): p Partition number (1-4, default 1): 1 First sector (2048-20971519, default 2048): Using default value 2048 Last sector, +sectors or +size{K,M,G} (2048-20971519, default 20971519): 1G Value out of range. Last sector, +sectors or +size{K,M,G} (2048-20971519, default 20971519): +1G Partition 1 of type Linux and of size 1 GiB is set Command (m for help): w The partition table has been altered! Calling ioctl() to re-read partition table. Syncing disks. å®è·µ-åˆ é™¤åˆ†åŒº é‡åˆ°è®¾å¤‡ç¹å¿™çš„é—®é¢˜ â†’ è§£å†³ï¼šä½¿ç”¨ lsof å‘½ä»¤æŸ¥çœ‹æ­£åœ¨ä½¿ç”¨è¯¥è®¾å¤‡çš„ç¨‹åºï¼Œå…³é—­ç¨‹åºå†å°è¯• ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#fdisk"},{"categories":["Linux"],"content":" fdisk ############ åˆ›å»ºä¸€ä¸ªåˆ†åŒº fdisk /dev/sdb Command (m for help): m Command action a toggle a bootable flag b edit bsd disklabel c toggle the dos compatibility flag d delete a partition g create a new empty GPT partition table G create an IRIX (SGI) partition table l list known partition types m print this menu n add a new partition o create a new empty DOS partition table p print the partition table q quit without saving changes s create a new empty Sun disklabel t change a partition's system id u change display/entry units v verify the partition table w write table to disk and exit x extra functionality (experts only) Command (m for help): n Partition type: p primary (0 primary, 0 extended, 4 free) e extended Select (default p): p Partition number (1-4, default 1): 1 First sector (2048-20971519, default 2048): Using default value 2048 Last sector, +sectors or +size{K,M,G} (2048-20971519, default 20971519): 1G Value out of range. Last sector, +sectors or +size{K,M,G} (2048-20971519, default 20971519): +1G Partition 1 of type Linux and of size 1 GiB is set Command (m for help): w The partition table has been altered! Calling ioctl() to re-read partition table. Syncing disks. å®è·µ-åˆ é™¤åˆ†åŒº é‡åˆ°è®¾å¤‡ç¹å¿™çš„é—®é¢˜ â†’ è§£å†³ï¼šä½¿ç”¨ lsof å‘½ä»¤æŸ¥çœ‹æ­£åœ¨ä½¿ç”¨è¯¥è®¾å¤‡çš„ç¨‹åºï¼Œå…³é—­ç¨‹åºå†å°è¯• ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#å®è·µ-åˆ é™¤åˆ†åŒº"},{"categories":["Linux"],"content":" æŸ¥çœ‹æ–‡ä»¶å†…å®¹ cat file1 #ä»ç¬¬ä¸€ä¸ªå­—èŠ‚å¼€å§‹æ­£å‘æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ tac file1 #ä»æœ€åä¸€è¡Œå¼€å§‹åå‘æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ more file1 #æŸ¥çœ‹ä¸€ä¸ªé•¿æ–‡ä»¶çš„å†…å®¹ less file1 #ç±»ä¼¼äº 'more' å‘½ä»¤ï¼Œä½†æ˜¯å®ƒå…è®¸åœ¨æ–‡ä»¶ä¸­å’Œæ­£å‘æ“ä½œä¸€æ ·çš„åå‘æ“ä½œ head -2 file1 #æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å‰ä¸¤è¡Œ tail -2 file1 #æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„æœ€åä¸¤è¡Œ tail -f /var/log/messages #å®æ—¶æŸ¥çœ‹è¢«æ·»åŠ åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:4","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æŸ¥çœ‹æ–‡ä»¶å†…å®¹"},{"categories":["Linux"],"content":" æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ mount /dev/hda2 /mnt/hda2 #æŒ‚è½½ä¸€ä¸ªå«åšhda2çš„ç›˜ - ç¡®å®šç›®å½• '/ mnt/hda2' å·²ç»å­˜åœ¨ umount /dev/hda2 #å¸è½½ä¸€ä¸ªå«åšhda2çš„ç›˜ - å…ˆä»æŒ‚è½½ç‚¹ '/ mnt/hda2' é€€å‡º fuser -km /mnt/hda2 #å½“è®¾å¤‡ç¹å¿™æ—¶å¼ºåˆ¶å¸è½½ umount -n /mnt/hda2 #è¿è¡Œå¸è½½æ“ä½œè€Œä¸å†™å…¥ /etc/mtab æ–‡ä»¶- å½“æ–‡ä»¶ä¸ºåªè¯»æˆ–å½“ç£ç›˜å†™æ»¡æ—¶éå¸¸æœ‰ç”¨ mount /dev/fd0 /mnt/floppy #æŒ‚è½½ä¸€ä¸ªè½¯ç›˜ mount /dev/cdrom /mnt/cdrom #æŒ‚è½½ä¸€ä¸ªcdromæˆ–dvdrom mount /dev/hdc /mnt/cdrecorder #æŒ‚è½½ä¸€ä¸ªcdrwæˆ–dvdrom mount /dev/hdb /mnt/cdrecorder #æŒ‚è½½ä¸€ä¸ªcdrwæˆ–dvdrom mount -o loop file.iso /mnt/cdrom #æŒ‚è½½ä¸€ä¸ªæ–‡ä»¶æˆ–ISOé•œåƒæ–‡ä»¶ mount -t vfat /dev/hda5 /mnt/hda5 #æŒ‚è½½ä¸€ä¸ªWindows FAT32æ–‡ä»¶ç³»ç»Ÿ mount /dev/sda1 /mnt/usbdisk #æŒ‚è½½ä¸€ä¸ªusb æ·ç›˜æˆ–é—ªå­˜è®¾å¤‡ mount -t smbfs -o username=user,password=pass //WinClient/share /mnt/share #æŒ‚è½½ä¸€ä¸ªwindowsç½‘ç»œå…±äº« mount -t cifs -o username=iaas,password=iaas@123 //10.32.43.2/iaaså¼€å‘éƒ¨/cke smb ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:5","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ"},{"categories":["Linux"],"content":" æ–‡ä»¶ç³»ç»Ÿã€åˆå§‹åŒ–ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ badblocks -v /dev/hda1 #æ£€æŸ¥ç£ç›˜hda1ä¸Šçš„åç£å— fsck /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šlinuxæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ fsck.ext2 /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šext2æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ e2fsck /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šext2æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ e2fsck -j /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šext3æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ fsck.ext3 /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šext3æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ fsck.vfat /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šfatæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ fsck.msdos /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šdosæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ dosfsck /dev/hda1 #ä¿®å¤/æ£€æŸ¥hda1ç£ç›˜ä¸Šdosæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ mkfs /dev/hda1 #åœ¨hda1åˆ†åŒºåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ mke2fs /dev/hda1 #åœ¨hda1åˆ†åŒºåˆ›å»ºä¸€ä¸ªlinux ext2çš„æ–‡ä»¶ç³»ç»Ÿ mke2fs -j /dev/hda1 #åœ¨hda1åˆ†åŒºåˆ›å»ºä¸€ä¸ªlinux ext3(æ—¥å¿—å‹)çš„æ–‡ä»¶ç³»ç»Ÿ mkfs -t vfat 32 -F /dev/hda1 #åˆ›å»ºä¸€ä¸ª FAT32 æ–‡ä»¶ç³»ç»Ÿ fdformat -n /dev/fd0 #æ ¼å¼åŒ–ä¸€ä¸ªè½¯ç›˜ mkswap /dev/hda3 #åˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶ç³»ç»Ÿ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:6","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æ–‡ä»¶ç³»ç»Ÿåˆå§‹åŒ–ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ"},{"categories":["Linux"],"content":" å¤‡ä»½ dump -0aj -f /tmp/home0.bak /home #åˆ¶ä½œä¸€ä¸ª '/home' ç›®å½•çš„å®Œæ•´å¤‡ä»½ dump -1aj -f /tmp/home0.bak /home #åˆ¶ä½œä¸€ä¸ª '/home' ç›®å½•çš„äº¤äº’å¼å¤‡ä»½ restore -if /tmp/home0.bak #è¿˜åŸä¸€ä¸ªäº¤äº’å¼å¤‡ä»½ rsync -rogpav --delete /home /tmp #åŒæ­¥ä¸¤è¾¹çš„ç›®å½• rsync -rogpav -e ssh --delete /home ip_address:/tmp #é€šè¿‡SSHé€šé“rsync rsync -az -e ssh --delete ip_addr:/home/public /home/local #é€šè¿‡sshå’Œå‹ç¼©å°†ä¸€ä¸ªè¿œç¨‹ç›®å½•åŒæ­¥åˆ°æœ¬åœ°ç›®å½• rsync -az -e ssh --delete /home/local ip_addr:/home/public #é€šè¿‡sshå’Œå‹ç¼©å°†æœ¬åœ°ç›®å½•åŒæ­¥åˆ°è¿œç¨‹ç›®å½• dd bs=1M if=/dev/hda | gzip | ssh user@ip_addr 'dd of=hda.gz' #é€šè¿‡sshåœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œä¸€æ¬¡å¤‡ä»½æœ¬åœ°ç£ç›˜çš„æ“ä½œ dd if=/dev/sda of=/tmp/file1 #å¤‡ä»½ç£ç›˜å†…å®¹åˆ°ä¸€ä¸ªæ–‡ä»¶ tar -Puf backup.tar /home/user æ‰§è¡Œä¸€æ¬¡å¯¹ '/home/user' #ç›®å½•çš„äº¤äº’å¼å¤‡ä»½æ“ä½œ ( cd /tmp/local/ \u0026\u0026 tar c . ) | ssh -C user@ip_addr 'cd /home/share/ \u0026\u0026 tar x -p' #é€šè¿‡sshåœ¨è¿œç¨‹ç›®å½•ä¸­å¤åˆ¶ä¸€ä¸ªç›®å½•å†…å®¹ ( tar c /home ) | ssh -C user@ip_addr 'cd /home/backup-home \u0026\u0026 tar x -p' #é€šè¿‡sshåœ¨è¿œç¨‹ç›®å½•ä¸­å¤åˆ¶ä¸€ä¸ªæœ¬åœ°ç›®å½• tar cf - . | (cd /tmp/backup ; tar xf - ) #æœ¬åœ°å°†ä¸€ä¸ªç›®å½•å¤åˆ¶åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼Œä¿ç•™åŸæœ‰æƒé™åŠé“¾æ¥ find /home/user1 -name '*.txt' | xargs cp -av --target-directory=/home/backup/ --parents #ä»ä¸€ä¸ªç›®å½•æŸ¥æ‰¾å¹¶å¤åˆ¶æ‰€æœ‰ä»¥ '.txt' ç»“å°¾çš„æ–‡ä»¶åˆ°å¦ä¸€ä¸ªç›®å½• find /var/log -name '*.log' | tar cv --files-from=- | bzip2 \u003e log.tar.bz2 #æŸ¥æ‰¾æ‰€æœ‰ä»¥ '.log' ç»“å°¾çš„æ–‡ä»¶å¹¶åšæˆä¸€ä¸ªbzipåŒ… dd if=/dev/hda of=/dev/fd0 bs=512 count=1 #åšä¸€ä¸ªå°† MBR (Master Boot Record)å†…å®¹å¤åˆ¶åˆ°è½¯ç›˜çš„åŠ¨ä½œ dd if=/dev/fd0 of=/dev/hda bs=512 count=1 #ä»å·²ç»ä¿å­˜åˆ°è½¯ç›˜çš„å¤‡ä»½ä¸­æ¢å¤MBRå†…å®¹ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:7","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#å¤‡ä»½"},{"categories":["Linux"],"content":" å­—ç¬¦è®¾ç½®å’Œæ–‡ä»¶æ ¼å¼è½¬æ¢ dos2unix filedos.txt fileunix.txt #å°†ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶çš„æ ¼å¼ä»MSDOSè½¬æ¢æˆUNIX unix2dos fileunix.txt filedos.txt #å°†ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶çš„æ ¼å¼ä»UNIXè½¬æ¢æˆMSDOS recode ..HTML \u003c page.txt \u003e page.html #å°†ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶è½¬æ¢æˆhtml recode -l | more #æ˜¾ç¤ºæ‰€æœ‰å…è®¸çš„è½¬æ¢æ ¼å¼ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:8","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#å­—ç¬¦è®¾ç½®å’Œæ–‡ä»¶æ ¼å¼è½¬æ¢"},{"categories":["Linux"],"content":" wc wc -l filename # æŸ¥çœ‹æ–‡ä»¶é‡Œæœ‰å¤šå°‘è¡Œ wc -w filename # çœ‹æ–‡ä»¶é‡Œæœ‰å¤šå°‘ä¸ªword wc -L filename # æ–‡ä»¶é‡Œæœ€é•¿çš„é‚£ä¸€è¡Œæ˜¯å¤šå°‘ä¸ªå­— wc -c # ç»Ÿè®¡å­—èŠ‚æ•° ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:9","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#wc"},{"categories":["Linux"],"content":" å‹ç¼©ã€è§£å‹ç¼© tar czvf xxx.tar å‹ç¼©ç›®å½• zip -r xxx.zip å‹ç¼©ç›®å½• tar zxvf xxx.tar # è§£å‹åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ tar zxvf xxx.tar -C /xxx/yyy/ unzip xxx.zip bunzip2 file1.bz2 #è§£å‹ä¸€ä¸ªå«åš 'file1.bz2'çš„æ–‡ä»¶ bzip2 file1 #å‹ç¼©ä¸€ä¸ªå«åš 'file1' çš„æ–‡ä»¶ gunzip file1.gz #è§£å‹ä¸€ä¸ªå«åš 'file1.gz'çš„æ–‡ä»¶ gzip file1 #å‹ç¼©ä¸€ä¸ªå«åš 'file1'çš„æ–‡ä»¶ gzip -9 file1 #æœ€å¤§ç¨‹åº¦å‹ç¼© rar a file1.rar test_file #åˆ›å»ºä¸€ä¸ªå«åš 'file1.rar' çš„åŒ… rar a file1.rar file1 file2 dir1 #åŒæ—¶å‹ç¼© 'file1', 'file2' ä»¥åŠç›®å½• 'dir1' rar x file1.rar #è§£å‹raråŒ… unrar x file1.rar #è§£å‹raråŒ… tar -cvf archive.tar file1 #åˆ›å»ºä¸€ä¸ªéå‹ç¼©çš„ tarball tar -cvf archive.tar file1 file2 dir1 #åˆ›å»ºä¸€ä¸ªåŒ…å«äº† 'file1', 'file2' ä»¥åŠ 'dir1'çš„æ¡£æ¡ˆæ–‡ä»¶ tar -tf archive.tar #æ˜¾ç¤ºä¸€ä¸ªåŒ…ä¸­çš„å†…å®¹ tar -xvf archive.tar #é‡Šæ”¾ä¸€ä¸ªåŒ… tar -xvf archive.tar -C /tmp #å°†å‹ç¼©åŒ…é‡Šæ”¾åˆ° /tmpç›®å½•ä¸‹ tar -cvfj archive.tar.bz2 dir1 #åˆ›å»ºä¸€ä¸ªbzip2æ ¼å¼çš„å‹ç¼©åŒ… tar -jxvf archive.tar.bz2 #è§£å‹ä¸€ä¸ªbzip2æ ¼å¼çš„å‹ç¼©åŒ… tar -cvfz archive.tar.gz dir1 #åˆ›å»ºä¸€ä¸ªgzipæ ¼å¼çš„å‹ç¼©åŒ… tar -zxvf archive.tar.gz #è§£å‹ä¸€ä¸ªgzipæ ¼å¼çš„å‹ç¼©åŒ… zip file1.zip file1 #åˆ›å»ºä¸€ä¸ªzipæ ¼å¼çš„å‹ç¼©åŒ… zip -r file1.zip file1 file2 dir1 #å°†å‡ ä¸ªæ–‡ä»¶å’Œç›®å½•åŒæ—¶å‹ç¼©æˆä¸€ä¸ªzipæ ¼å¼çš„å‹ç¼©åŒ… unzip file1.zip #è§£å‹ä¸€ä¸ªzipæ ¼å¼å‹ç¼©åŒ… ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:10","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#å‹ç¼©è§£å‹ç¼©"},{"categories":["Linux"],"content":" æ‹·è´ã€åˆ›å»ºç›®å½• cp xxx.log #å¤åˆ¶ cp -f xxx.log # å¤åˆ¶å¹¶å¼ºåˆ¶è¦†ç›–åŒåæ–‡ä»¶ cp -r xxx(æºæ–‡ä»¶å¤¹) yyy(ç›®æ ‡æ–‡ä»¶å¤¹) # å¤åˆ¶æ–‡ä»¶å¤¹ scp -P sshç«¯å£ username@10.10.10.101:/home/username/xxx /home/xxx # è¿œç¨‹å¤åˆ¶ mkdir -p /xxx/yyy/zzz # çº§è”åˆ›å»ºç›®å½• mkdir -p src/{test,main}/{java,resources} # æ‰¹é‡åˆ›å»ºæ–‡ä»¶å¤¹, ä¼šåœ¨test,mainä¸‹éƒ½åˆ›å»ºjava, resourcesæ–‡ä»¶å¤¹ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:11","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#æ‹·è´åˆ›å»ºç›®å½•"},{"categories":["Linux"],"content":" è½¯é“¾æ¥ #åˆ›å»ºä¸€ä¸ªæŒ‡å‘æ–‡ä»¶æˆ–ç›®å½•çš„è½¯é“¾æ¥ -\u003e åœ¨é€‰å®šçš„ä½ç½®ç”Ÿæˆé•œåƒ ln -s source dest #åˆ›å»ºä¸€ä¸ªæŒ‡å‘æ–‡ä»¶æˆ–ç›®å½•çš„ç‰©ç†é“¾æ¥ï¼ˆç¡¬é“¾æ¥ï¼‰ï¼ˆç»å¯¹åœ°å€ -\u003e åœ¨é€‰å®šçš„ä½ç½®ç”Ÿæˆå’Œæºç›¸åŒçš„æ–‡ä»¶ï¼‰ ln source dest ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:12","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#è½¯é“¾æ¥"},{"categories":["Linux"],"content":" grep æ£€ç´¢ grep -v xxx # åå‘åŒ¹é…, æŸ¥æ‰¾ä¸åŒ…å«xxxçš„å†…å®¹ grep -v '^/pre\u003e # æ’é™¤æ‰€æœ‰ç©ºè¡Œ grep -n â€œ^$â€ 111.txt # è¿”å›ç»“æœ 2,åˆ™è¯´æ˜ç¬¬äºŒè¡Œæ˜¯ç©ºè¡Œ grep -n â€œ^abcâ€ 111.txt # æŸ¥è¯¢ä»¥abcå¼€å¤´çš„è¡Œ grep 'xxx' -n xxx.log # åŒæ—¶åˆ—å‡ºè¯¥è¯è¯­å‡ºç°åœ¨æ–‡ç« çš„ç¬¬å‡ è¡Œ grep 'xxx' -c xxx.log # è®¡ç®—ä¸€ä¸‹è¯¥å­—ä¸²å‡ºç°çš„æ¬¡æ•° grep 'xxx' -i xxx.log # æ¯”å¯¹çš„æ—¶å€™ï¼Œä¸è®¡è¾ƒå¤§å°å†™çš„ä¸åŒ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:13","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#grep-æ£€ç´¢"},{"categories":["Linux"],"content":" find find /home/eagleye -name '*.mysql' -print # åœ¨ç›®å½•ä¸‹æ‰¾åç¼€æ˜¯.mysqlçš„æ–‡ä»¶ find /usr -atime 3 â€“print # ä¼šä» /usr ç›®å½•å¼€å§‹å¾€ä¸‹æ‰¾ï¼Œæ‰¾æœ€è¿‘3å¤©ä¹‹å†…å­˜å–è¿‡çš„æ–‡ä»¶ã€‚ find /usr -ctime 5 â€“print # ä¼šä» /usr ç›®å½•å¼€å§‹å¾€ä¸‹æ‰¾ï¼Œæ‰¾æœ€è¿‘5å¤©ä¹‹å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ã€‚ find /doc -user jacky -name 'j*' â€“print # ä¼šä» /doc ç›®å½•å¼€å§‹å¾€ä¸‹æ‰¾ï¼Œæ‰¾jacky çš„ã€æ–‡ä»¶åå¼€å¤´æ˜¯ jçš„æ–‡ä»¶ã€‚ find /doc \\( -name 'ja*' -o- -name 'ma*' \\) â€“print # ä¼šä» /doc ç›®å½•å¼€å§‹å¾€ä¸‹æ‰¾ï¼Œæ‰¾å¯»æ–‡ä»¶åæ˜¯ ja å¼€å¤´æˆ–è€… maå¼€å¤´çš„æ–‡ä»¶ã€‚ # ä¼šä» /doc ç›®å½•å¼€å§‹å¾€ä¸‹æ‰¾ï¼Œæ‰¾åˆ°å‡¡æ˜¯æ–‡ä»¶åç»“å°¾ä¸º bakçš„æ–‡ä»¶ï¼ŒæŠŠå®ƒåˆ é™¤æ‰ã€‚-exec é€‰é¡¹æ˜¯æ‰§è¡Œçš„æ„æ€ï¼Œrm æ˜¯åˆ é™¤å‘½ä»¤ï¼Œ{ } è¡¨ç¤ºæ–‡ä»¶åï¼Œâ€œ\\;â€æ˜¯è§„å®šçš„å‘½ä»¤ç»“å°¾ã€‚ find /doc -name '*bak' -exec rm {} \\; ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:14","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#find"},{"categories":["Linux"],"content":" awk # ç”¨æ³•ä¸€ è¡ŒåŒ¹é…è¯­å¥ ps. '' åªèƒ½ç”¨å•å¼•å· awk '{[pattern] action}' filenames ie. awk '{print $1, $10}' test.log # æ‰“å°å‡º test.log æ¯è¡Œçš„ç¬¬1é¡¹ã€ç¬¬10é¡¹ï¼ˆå¦‚æœæ²¡æœ‰åˆ™è¯¥é¡¹ä¸ºç©ºï¼‰ï¼ˆä»¥ TAB æˆ–è€… ç©ºæ ¼ ä½œä¸ºåˆ†éš”ç¬¦ï¼‰ awk -Fåˆ†éš”ç¬¦ '{[pattern] action}' filenames ie. awk -F, '{print $1,$2}' test.log # ä»¥ , ä½œä¸ºåˆ†éš”ç¬¦ awk -F '[:,]' '{print $1,$2,$3,$4}' # å…ˆç”¨ : åˆ†å‰²ï¼Œå†ç”¨ , åˆ†å‰² awk -vone=line '{print $1one,$2}' test2.log # ç¬¬ä¸€é¡¹æ‹¼æ¥'line'å­—ç¬¦ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:15","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#awk"},{"categories":["Linux"],"content":" sed","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:16","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#sed"},{"categories":["Linux"],"content":" rename rename '.repo' '.repo.bak' ./*.repo ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:17","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#rename"},{"categories":["Linux"],"content":" ç½‘ç»œ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:3:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ç½‘ç»œ"},{"categories":["Linux"],"content":" ç½‘ç»œä¿¡æ¯ç»Ÿè®¡ netstat -a #åˆ—å‡ºæ‰€æœ‰è¿æ¥ netstat -tnl #åˆ—å‡ºç›‘å¬ä¸­çš„è¿æ¥ nestat -nlpt #è·å–è¿›ç¨‹åã€è¿›ç¨‹å·ä»¥åŠç”¨æˆ· ID netstat -atnp | grep ESTA #æ‰“å°activeçŠ¶æ€çš„è¿æ¥ netstat -at/netstat -au #åªåˆ—å‡ºTCPæˆ–è€…UDP ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:3:1","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ç½‘ç»œä¿¡æ¯ç»Ÿè®¡"},{"categories":["Linux"],"content":" tcpdump tcpdump -i eth0 #æ•è·ç‰¹å®šç½‘å£æ•°æ®åŒ… tcpdump -c 1000 -i eth0 #æ•è·ç‰¹å®šä¸ªæ•°(1000)çš„åŒ… tcpdump -w a.pcap -i eth0 #å°†æ•è·çš„åŒ…ä¿å­˜åˆ°æ–‡ä»¶ tcpdump -r a.pcap #è¯»å–pcapæ ¼å¼çš„åŒ… tcpdump -i eth0 arp #æŒ‡å®šæ•è·åŒ…çš„åè®®ç±»å‹ tcpdump -i eth0 post 22 #æ•è·æŒ‡å®šç«¯å£ tcpdump -i eth0 dst address and port 22 #æ•è·ç‰¹å®šç›®æ ‡ip+portçš„åŒ… ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:3:2","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#tcpdump"},{"categories":["Linux"],"content":" iptables service iptables status # æŸ¥çœ‹iptablesçŠ¶æ€ iptables -I INPUT -s ***.***.***.*** -j DROP # è¦å°åœä¸€ä¸ªip iptables -D INPUT -s ***.***.***.*** -j DROP # è¦è§£å°ä¸€ä¸ªIPï¼Œä½¿ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š å¤‡æ³¨: å‚æ•°-Iæ˜¯è¡¨ç¤ºInsertï¼ˆæ·»åŠ ï¼‰ï¼Œ-Dè¡¨ç¤ºDeleteï¼ˆåˆ é™¤ï¼‰ã€‚åé¢è·Ÿçš„æ˜¯è§„åˆ™ï¼ŒINPUTè¡¨ç¤ºå…¥ç«™ï¼Œ***.***.***.***è¡¨ç¤ºè¦å°åœçš„IPï¼ŒDROPè¡¨ç¤ºæ”¾å¼ƒè¿æ¥ã€‚ #å¼€å¯9090ç«¯å£çš„è®¿é—® /sbin/iptables -I INPUT -p tcp --dport 9090 -j ACCEPT # é˜²ç«å¢™å¼€å¯ã€å…³é—­ã€é‡å¯ /etc/init.d/iptables status /etc/init.d/iptables start /etc/init.d/iptables stop /etc/init.d/iptables restart ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:3:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#iptables"},{"categories":["Linux"],"content":" ç¨‹åº","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:4:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ç¨‹åº"},{"categories":["Linux"],"content":" è¿›ç¨‹ pidof iscsid # æŸ¥çœ‹è¿è¡Œ iscsid çš„è¿›ç¨‹å· lsof -i:8080 # æŸ¥çœ‹ä½¿ç”¨ 8080 ç«¯å£çš„ç¨‹åº ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:4:1","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#è¿›ç¨‹"},{"categories":["Linux"],"content":" rpm rpm -ivh package.rpm #å®‰è£…ä¸€ä¸ªrpmåŒ… rpm -ivh --nodeeps package.rpm #å®‰è£…ä¸€ä¸ªrpmåŒ…è€Œå¿½ç•¥ä¾èµ–å…³ç³»è­¦å‘Š rpm -U package.rpm #æ›´æ–°ä¸€ä¸ªrpmåŒ…ä½†ä¸æ”¹å˜å…¶é…ç½®æ–‡ä»¶ rpm -F package.rpm #æ›´æ–°ä¸€ä¸ªç¡®å®šå·²ç»å®‰è£…çš„rpmåŒ… rpm -e package_name.rpm #åˆ é™¤ä¸€ä¸ªrpmåŒ… rpm -qa #æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰å·²ç»å®‰è£…çš„rpmåŒ… rpm -qa | grep httpd #æ˜¾ç¤ºæ‰€æœ‰åç§°ä¸­åŒ…å« \"httpd\" å­—æ ·çš„rpmåŒ… rpm -qi package_name #è·å–ä¸€ä¸ªå·²å®‰è£…åŒ…çš„ç‰¹æ®Šä¿¡æ¯ rpm -qg \"System Environment/Daemons\" #æ˜¾ç¤ºä¸€ä¸ªç»„ä»¶çš„rpmåŒ… rpm -ql package_name #æ˜¾ç¤ºä¸€ä¸ªå·²ç»å®‰è£…çš„rpmåŒ…æä¾›çš„æ–‡ä»¶åˆ—è¡¨ rpm -qc package_name #æ˜¾ç¤ºä¸€ä¸ªå·²ç»å®‰è£…çš„rpmåŒ…æä¾›çš„é…ç½®æ–‡ä»¶åˆ—è¡¨ rpm -q package_name --whatrequires #æ˜¾ç¤ºä¸ä¸€ä¸ªrpmåŒ…å­˜åœ¨ä¾èµ–å…³ç³»çš„åˆ—è¡¨ rpm -q package_name --whatprovides #æ˜¾ç¤ºä¸€ä¸ªrpmåŒ…æ‰€å çš„ä½“ç§¯ rpm -q package_name --scripts #æ˜¾ç¤ºåœ¨å®‰è£…/åˆ é™¤æœŸé—´æ‰€æ‰§è¡Œçš„è„šæœ¬l rpm -q package_name --changelog #æ˜¾ç¤ºä¸€ä¸ªrpmåŒ…çš„ä¿®æ”¹å†å² rpm -qf /etc/httpd/conf/httpd.conf #ç¡®è®¤æ‰€ç»™çš„æ–‡ä»¶ç”±å“ªä¸ªrpmåŒ…æ‰€æä¾› rpm -qp package.rpm -l #æ˜¾ç¤ºç”±ä¸€ä¸ªå°šæœªå®‰è£…çš„rpmåŒ…æä¾›çš„æ–‡ä»¶åˆ—è¡¨ rpm --import /media/cdrom/RPM-GPG-KEY #å¯¼å…¥å…¬é’¥æ•°å­—è¯ä¹¦ rpm --checksig package.rpm #ç¡®è®¤ä¸€ä¸ªrpmåŒ…çš„å®Œæ•´æ€§ rpm -qa gpg-pubkey #ç¡®è®¤å·²å®‰è£…çš„æ‰€æœ‰rpmåŒ…çš„å®Œæ•´æ€§ rpm -V package_name #æ£€æŸ¥æ–‡ä»¶å°ºå¯¸ã€ è®¸å¯ã€ç±»å‹ã€æ‰€æœ‰è€…ã€ç¾¤ç»„ã€MD5æ£€æŸ¥ä»¥åŠæœ€åä¿®æ”¹æ—¶é—´ rpm -Va #æ£€æŸ¥ç³»ç»Ÿä¸­æ‰€æœ‰å·²å®‰è£…çš„rpmåŒ…- å°å¿ƒä½¿ç”¨ rpm -Vp package.rpm #ç¡®è®¤ä¸€ä¸ªrpmåŒ…è¿˜æœªå®‰è£… rpm2cpio package.rpm | cpio --extract --make-directories *bin* #ä»ä¸€ä¸ªrpmåŒ…è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ rpm -ivh /usr/src/redhat/RPMS/`arch`/package.rpm #ä»ä¸€ä¸ªrpmæºç å®‰è£…ä¸€ä¸ªæ„å»ºå¥½çš„åŒ… rpmbuild --rebuild package_name.src.rpm #ä»ä¸€ä¸ªrpmæºç æ„å»ºä¸€ä¸ª rpm åŒ… #å®‰è£… rpm -ivh xx.rpm #å¸è½½ rpm -e --nodeps xx.rpm #é™çº§ rpm -Uvh --oldpackage xx.rpm ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:4:2","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#rpm"},{"categories":["Linux"],"content":" yum yum install package_name #ä¸‹è½½å¹¶å®‰è£…ä¸€ä¸ªrpmåŒ… yum localinstall package_name.rpm #å°†å®‰è£…ä¸€ä¸ªrpmåŒ…ï¼Œä½¿ç”¨ä½ è‡ªå·±çš„è½¯ä»¶ä»“åº“ä¸ºä½ è§£å†³æ‰€æœ‰ä¾èµ–å…³ç³» yum update package_name.rpm #æ›´æ–°å½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰å®‰è£…çš„rpmåŒ… yum update package_name #æ›´æ–°ä¸€ä¸ªrpmåŒ… yum remove package_name #åˆ é™¤ä¸€ä¸ªrpmåŒ… yum list #åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­å®‰è£…çš„æ‰€æœ‰åŒ… yum search package_name #åœ¨rpmä»“åº“ä¸­æœå¯»è½¯ä»¶åŒ… yum clean packages #æ¸…ç†rpmç¼“å­˜åˆ é™¤ä¸‹è½½çš„åŒ… yum clean headers #åˆ é™¤æ‰€æœ‰å¤´æ–‡ä»¶ yum clean all #åˆ é™¤æ‰€æœ‰ç¼“å­˜çš„åŒ…å’Œå¤´æ–‡ä»¶ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:4:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#yum"},{"categories":["Linux"],"content":" apt apt-get install package_name #å®‰è£…/æ›´æ–°ä¸€ä¸ª deb åŒ… apt-cdrom install package_name #ä»å…‰ç›˜å®‰è£…/æ›´æ–°ä¸€ä¸ª deb åŒ… apt-get update #å‡çº§åˆ—è¡¨ä¸­çš„è½¯ä»¶åŒ… apt-get upgrade #å‡çº§æ‰€æœ‰å·²å®‰è£…çš„è½¯ä»¶ apt-get remove package_name #ä»ç³»ç»Ÿåˆ é™¤ä¸€ä¸ªdebåŒ… apt-get check #ç¡®è®¤ä¾èµ–çš„è½¯ä»¶ä»“åº“æ­£ç¡® apt-get clean #ä»ä¸‹è½½çš„è½¯ä»¶åŒ…ä¸­æ¸…ç†ç¼“å­˜ apt-cache search searched-package #è¿”å›åŒ…å«æ‰€è¦æœç´¢å­—ç¬¦ä¸²çš„è½¯ä»¶åŒ…åç§° ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:4:4","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#apt"},{"categories":["Linux"],"content":" wget wget -nd -r -l1 --no-parent http://admin.na.shared.opentlc.com/repos/ocp/3.11.51/rhel-7-server-ose-3.11-rpms/Packages/ ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:4:5","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#wget"},{"categories":["Linux"],"content":" å…¶ä»–","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:5:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#å…¶ä»–"},{"categories":["Linux"],"content":" openssl ç”Ÿæˆéšæœºå­—ç¬¦ä¸² openssl rand -base64 12 | md5sum | cut -c1-12 ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:5:1","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#openssl"},{"categories":["Linux"],"content":" sh #/bin/bash dir=$(dirname $0) # è·å–è„šæœ¬æ‰€åœ¨çš„ç›®å½• #... ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:5:2","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#sh"},{"categories":["Linux"],"content":" dd æµ‹è¯•å†™æ€§èƒ½ time dd if=/dev/zero of=/test.txt bs=8k count=10000 oflag=direct æµ‹è¯•è¯»æ€§èƒ½ time dd if=/test.txt of=/dev/null bs=1M count=100 iflag=direct ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:5:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#dd"},{"categories":["Linux"],"content":" fping yum -y install epel-release fping -s -g 192.168.0.1 192.168.0.70 ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:5:4","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#fping"},{"categories":["Linux"],"content":" dlv dlv --listen=:2345 --headless=true --api-version=2 exec ./promApi ","date":"2023-05-12","objectID":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:5:5","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"Linux å¸¸ç”¨å‘½ä»¤","uri":"/202305121301-linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#dlv"},{"categories":["Linux"],"content":"#linux rpm åŒ…ä¸‹è½½ï¼šhttps://pkgs.org/ è®°å½•ä¸€æ¬¡åœ¨åˆ¶ä½œåŸºç¡€é•œåƒçš„æ—¶å€™é‡åˆ°çš„ yum æºé—®é¢˜ åˆ¶ä½œé•œåƒçš„ dockerfile å¦‚ä¸‹ æ‰§è¡Œå®Œå›¾ç¤ºçš„å‘½ä»¤åï¼Œyum æºç›®å½•ä¸‹ç”Ÿæˆäº†å¦‚ä¸‹ä¸€äº›æ–‡ä»¶ï¼š å†æ¬¡æ‰§è¡Œç”Ÿæˆç¼“å­˜å‘½ä»¤çš„æ—¶å€™ï¼Œå‡ºç°äº†å¦‚ä¸‹é”™è¯¯ï¼š cannot prepare internal mirrorlist: No URLs in mirrorlist æŸ¥çœ‹å¯¹åº”çš„ repo æ–‡ä»¶ï¼Œåˆ°å¯¹åº”çš„åœ°å€ä¸‹çœ‹çœ‹ï¼š è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨æ—§çš„ä»“åº“ sed -i 's/mirrorlist/#mirrorlist/g' /etc/yum.repos.d/CentOS-* sed -i 's|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g' /etc/yum.repos.d/CentOS-* é‡æ–°åˆ›å»ºç¼“å­˜ï¼Œå‘ç°æœ‰ä¸€ä¸ªåœ°å€ 404 äº†ï¼Œåº”è¯¥ä¹Ÿæ˜¯æ²¡æœ‰åœ¨ç»´æŠ¤è¢«å¼ƒç”¨äº†ï¼š æ‰“å¼€è¿™ä¸ªç½‘å€æ‰¾æ‰¾çœ‹ å‘ç°å·²ç»æ²¡æœ‰ç›¸å…³çš„ rpm åŒ…äº† åˆ°å¯¹åº”çš„ centos ç‰ˆæœ¬ä¸‹æ‰¾æ‰¾ï¼š å‘ç°è¿™ä¸ªç‰ˆæœ¬ä¸‹æ˜¯æœ‰ç›¸å…³ rpm åŒ…çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠ yum æºçš„ 8-stream æ¢æ‰ é—®é¢˜å¾—åˆ°è§£å†³ã€‚ ","date":"2023-05-12","objectID":"/202305121316-yum-%E6%BA%90%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/:0:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":[],"title":"yum æºé—®é¢˜è®°å½•","uri":"/202305121316-yum-%E6%BA%90%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/#"},{"categories":["Golang"],"content":"#Golang ","date":"2023-05-12","objectID":"/202305121218-client-go/:0:0","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#"},{"categories":["Golang"],"content":" ä¸€ã€åŸºæœ¬äº†è§£","date":"2023-05-12","objectID":"/202305121218-client-go/:1:0","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#ä¸€åŸºæœ¬äº†è§£"},{"categories":["Golang"],"content":" 1.1 åŸºæœ¬æ¦‚å¿µã€èƒŒæ™¯ã€ç”¨é€”client-go æ˜¯ç”¨äº Go å®¢æˆ·ç«¯ä¸ Kubernetes é›†ç¾¤é€šä¿¡çš„ä¸€ä¸ªå¼€æºé¡¹ç›® ","date":"2023-05-12","objectID":"/202305121218-client-go/:1:1","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#11-åŸºæœ¬æ¦‚å¿µèƒŒæ™¯ç”¨é€”"},{"categories":["Golang"],"content":" äºŒã€å®‰è£…æµç¨‹ã€ä½¿ç”¨","date":"2023-05-12","objectID":"/202305121218-client-go/:2:0","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#äºŒå®‰è£…æµç¨‹ä½¿ç”¨"},{"categories":["Golang"],"content":" 2.1 å®‰è£… https://github.com/kubernetes/client-go/blob/master/INSTALL.md ","date":"2023-05-12","objectID":"/202305121218-client-go/:2:1","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#21-å®‰è£…"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¹äº client-go çš„ä½¿ç”¨ä¸»è¦åˆ†ä¸¤ç§åœºæ™¯ï¼š åº”ç”¨ç¨‹åºè¿è¡Œåœ¨é›†ç¾¤ä¸­çš„ Pod ä¸­ â€“\u003e ä½¿ç”¨é›†ç¾¤å†…çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configurationï¼‰ or â€“\u003e ä½¿ç”¨é›†ç¾¤å¤–çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/out-of-cluster-client-configurationï¼‰ 2.2.1 ç®€å•ä½¿ç”¨ï¼ˆè¿›ç¾¤å†…å¤–åˆ›å»ºClientSetï¼Œå¹¶ä¸ Kubernetes API é€šä¿¡ï¼‰ä¸»è¦ç¼–ç æ­¥éª¤ åˆ›å»º cluster configï¼ˆè°ƒç”¨ InClusterConfigï¼Œä½¿ç”¨ Pod å†…çš„ tokenï¼‰ Pod å†…ä½¿ç”¨ InClusterConfig åˆ›å»º cluster config ä¸æ˜¯ Pod å†…çš„åº”ç”¨å¯ä»¥ä½¿ç”¨ kubeconfig æ¥åˆå§‹åŒ–å®¢æˆ·ç«¯ é€šè¿‡ cluster config åˆ›å»ºä¸€ä¸ª client set é€šè¿‡ client set è®¿é—® Kubernetes APIï¼Œ å®Œæˆä¸šåŠ¡é€»è¾‘ç¼–ç  2.2.1.1 é›†ç¾¤å†… https://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configuration åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ Pod å†…éƒ¨çš„æ—¶å€™ï¼Œä½¿ç”¨å®‰è£…åœ¨ Pod å†…éƒ¨çš„ /var/run/secrets/kubernetes.io/serviceaccount è·¯å¾„ä¸‹çš„ Service Account token main.go /* Copyright 2016 The Kubernetes Authors. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */ // Note: the example only works with the code within the same release/branch. package main import ( \"context\" \"fmt\" \"time\" \"k8s.io/apimachinery/pkg/api/errors\" metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" \"k8s.io/client-go/kubernetes\" \"k8s.io/client-go/rest\" // // Uncomment to load all auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth\" // // Or uncomment to load specific auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth/azure\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/gcp\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/oidc\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/openstack\" ) func main() { // creates the in-cluster config config, err := rest.InClusterConfig() if err != nil { panic(err.Error()) } // creates the clientset clientset, err := kubernetes.NewForConfig(config) if err != nil { panic(err.Error()) } for { // get pods in all the namespaces by omitting namespace // Or specify namespace to get pods in particular namespace pods, err := clientset.CoreV1().Pods(\"\").List(context.TODO(), metav1.ListOptions{}) if err != nil { panic(err.Error()) } fmt.Printf(\"There are %d pods in the cluster\\n\", len(pods.Items)) // Examples for error handling: // - Use helper functions e.g. errors.IsNotFound() // - And/or cast to StatusError and use its properties like e.g. ErrStatus.Message _, err = clientset.CoreV1().Pods(\"default\").Get(context.TODO(), \"example-xxxxx\", metav1.GetOptions{}) if errors.IsNotFound(err) { fmt.Printf(\"Pod example-xxxxx not found in default namespace\\n\") } else if statusError, isStatus := err.(*errors.StatusError); isStatus { fmt.Printf(\"Error getting pod %v\\n\", statusError.ErrStatus.Message) } else if err != nil { panic(err.Error()) } else { fmt.Printf(\"Found example-xxxxx pod in default namespace\\n\") } time.Sleep(10 * time.Second) } } æ„å»ºäºŒè¿›åˆ¶ï¼Œæ„å»º docker é•œåƒ go buidl -o app main.go docker build -t 904566722/in-cluster-app:1.0.0 ä½¿ç”¨è¯¥é•œåƒå¯åŠ¨ä¸€ä¸ª Pod apiVersion: v1 kind: ServiceAccount metadata: name: in-cluster-client-go namespace: default --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: in-cluster-client-go rules: - apiGroups: - '*' resources: - '*' verbs: - '*' --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: in-cluster-client-go roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: in-cluster-client-go subjects: - kind: ServiceAccount name: in-cluster-client-go namespace: default --- apiVersion: v1 kind: Pod metadata: name: in-cluster-client-go namespace: default spec: serviceAccountName: in-cluster-client-go containers: - image: 904566722/in-cluster-app:1.0.0 imagePullPolicy: IfNotPresent name: client-go restartPolicy: Never æŸ¥çœ‹ Po","date":"2023-05-12","objectID":"/202305121218-client-go/:2:2","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#22-ä½¿ç”¨"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¹äº client-go çš„ä½¿ç”¨ä¸»è¦åˆ†ä¸¤ç§åœºæ™¯ï¼š åº”ç”¨ç¨‹åºè¿è¡Œåœ¨é›†ç¾¤ä¸­çš„ Pod ä¸­ â€“\u003e ä½¿ç”¨é›†ç¾¤å†…çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configurationï¼‰ or â€“\u003e ä½¿ç”¨é›†ç¾¤å¤–çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/out-of-cluster-client-configurationï¼‰ 2.2.1 ç®€å•ä½¿ç”¨ï¼ˆè¿›ç¾¤å†…å¤–åˆ›å»ºClientSetï¼Œå¹¶ä¸ Kubernetes API é€šä¿¡ï¼‰ä¸»è¦ç¼–ç æ­¥éª¤ åˆ›å»º cluster configï¼ˆè°ƒç”¨ InClusterConfigï¼Œä½¿ç”¨ Pod å†…çš„ tokenï¼‰ Pod å†…ä½¿ç”¨ InClusterConfig åˆ›å»º cluster config ä¸æ˜¯ Pod å†…çš„åº”ç”¨å¯ä»¥ä½¿ç”¨ kubeconfig æ¥åˆå§‹åŒ–å®¢æˆ·ç«¯ é€šè¿‡ cluster config åˆ›å»ºä¸€ä¸ª client set é€šè¿‡ client set è®¿é—® Kubernetes APIï¼Œ å®Œæˆä¸šåŠ¡é€»è¾‘ç¼–ç  2.2.1.1 é›†ç¾¤å†… https://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configuration åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ Pod å†…éƒ¨çš„æ—¶å€™ï¼Œä½¿ç”¨å®‰è£…åœ¨ Pod å†…éƒ¨çš„ /var/run/secrets/kubernetes.io/serviceaccount è·¯å¾„ä¸‹çš„ Service Account token main.go /* Copyright 2016 The Kubernetes Authors. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */ // Note: the example only works with the code within the same release/branch. package main import ( \"context\" \"fmt\" \"time\" \"k8s.io/apimachinery/pkg/api/errors\" metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" \"k8s.io/client-go/kubernetes\" \"k8s.io/client-go/rest\" // // Uncomment to load all auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth\" // // Or uncomment to load specific auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth/azure\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/gcp\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/oidc\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/openstack\" ) func main() { // creates the in-cluster config config, err := rest.InClusterConfig() if err != nil { panic(err.Error()) } // creates the clientset clientset, err := kubernetes.NewForConfig(config) if err != nil { panic(err.Error()) } for { // get pods in all the namespaces by omitting namespace // Or specify namespace to get pods in particular namespace pods, err := clientset.CoreV1().Pods(\"\").List(context.TODO(), metav1.ListOptions{}) if err != nil { panic(err.Error()) } fmt.Printf(\"There are %d pods in the cluster\\n\", len(pods.Items)) // Examples for error handling: // - Use helper functions e.g. errors.IsNotFound() // - And/or cast to StatusError and use its properties like e.g. ErrStatus.Message _, err = clientset.CoreV1().Pods(\"default\").Get(context.TODO(), \"example-xxxxx\", metav1.GetOptions{}) if errors.IsNotFound(err) { fmt.Printf(\"Pod example-xxxxx not found in default namespace\\n\") } else if statusError, isStatus := err.(*errors.StatusError); isStatus { fmt.Printf(\"Error getting pod %v\\n\", statusError.ErrStatus.Message) } else if err != nil { panic(err.Error()) } else { fmt.Printf(\"Found example-xxxxx pod in default namespace\\n\") } time.Sleep(10 * time.Second) } } æ„å»ºäºŒè¿›åˆ¶ï¼Œæ„å»º docker é•œåƒ go buidl -o app main.go docker build -t 904566722/in-cluster-app:1.0.0 ä½¿ç”¨è¯¥é•œåƒå¯åŠ¨ä¸€ä¸ª Pod apiVersion: v1 kind: ServiceAccount metadata: name: in-cluster-client-go namespace: default --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: in-cluster-client-go rules: - apiGroups: - '*' resources: - '*' verbs: - '*' --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: in-cluster-client-go roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: in-cluster-client-go subjects: - kind: ServiceAccount name: in-cluster-client-go namespace: default --- apiVersion: v1 kind: Pod metadata: name: in-cluster-client-go namespace: default spec: serviceAccountName: in-cluster-client-go containers: - image: 904566722/in-cluster-app:1.0.0 imagePullPolicy: IfNotPresent name: client-go restartPolicy: Never æŸ¥çœ‹ Po","date":"2023-05-12","objectID":"/202305121218-client-go/:2:2","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#221-ç®€å•ä½¿ç”¨è¿›ç¾¤å†…å¤–åˆ›å»ºclientsetå¹¶ä¸-kubernetes-api-é€šä¿¡"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¹äº client-go çš„ä½¿ç”¨ä¸»è¦åˆ†ä¸¤ç§åœºæ™¯ï¼š åº”ç”¨ç¨‹åºè¿è¡Œåœ¨é›†ç¾¤ä¸­çš„ Pod ä¸­ â€“\u003e ä½¿ç”¨é›†ç¾¤å†…çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configurationï¼‰ or â€“\u003e ä½¿ç”¨é›†ç¾¤å¤–çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/out-of-cluster-client-configurationï¼‰ 2.2.1 ç®€å•ä½¿ç”¨ï¼ˆè¿›ç¾¤å†…å¤–åˆ›å»ºClientSetï¼Œå¹¶ä¸ Kubernetes API é€šä¿¡ï¼‰ä¸»è¦ç¼–ç æ­¥éª¤ åˆ›å»º cluster configï¼ˆè°ƒç”¨ InClusterConfigï¼Œä½¿ç”¨ Pod å†…çš„ tokenï¼‰ Pod å†…ä½¿ç”¨ InClusterConfig åˆ›å»º cluster config ä¸æ˜¯ Pod å†…çš„åº”ç”¨å¯ä»¥ä½¿ç”¨ kubeconfig æ¥åˆå§‹åŒ–å®¢æˆ·ç«¯ é€šè¿‡ cluster config åˆ›å»ºä¸€ä¸ª client set é€šè¿‡ client set è®¿é—® Kubernetes APIï¼Œ å®Œæˆä¸šåŠ¡é€»è¾‘ç¼–ç  2.2.1.1 é›†ç¾¤å†… https://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configuration åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ Pod å†…éƒ¨çš„æ—¶å€™ï¼Œä½¿ç”¨å®‰è£…åœ¨ Pod å†…éƒ¨çš„ /var/run/secrets/kubernetes.io/serviceaccount è·¯å¾„ä¸‹çš„ Service Account token main.go /* Copyright 2016 The Kubernetes Authors. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */ // Note: the example only works with the code within the same release/branch. package main import ( \"context\" \"fmt\" \"time\" \"k8s.io/apimachinery/pkg/api/errors\" metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" \"k8s.io/client-go/kubernetes\" \"k8s.io/client-go/rest\" // // Uncomment to load all auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth\" // // Or uncomment to load specific auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth/azure\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/gcp\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/oidc\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/openstack\" ) func main() { // creates the in-cluster config config, err := rest.InClusterConfig() if err != nil { panic(err.Error()) } // creates the clientset clientset, err := kubernetes.NewForConfig(config) if err != nil { panic(err.Error()) } for { // get pods in all the namespaces by omitting namespace // Or specify namespace to get pods in particular namespace pods, err := clientset.CoreV1().Pods(\"\").List(context.TODO(), metav1.ListOptions{}) if err != nil { panic(err.Error()) } fmt.Printf(\"There are %d pods in the cluster\\n\", len(pods.Items)) // Examples for error handling: // - Use helper functions e.g. errors.IsNotFound() // - And/or cast to StatusError and use its properties like e.g. ErrStatus.Message _, err = clientset.CoreV1().Pods(\"default\").Get(context.TODO(), \"example-xxxxx\", metav1.GetOptions{}) if errors.IsNotFound(err) { fmt.Printf(\"Pod example-xxxxx not found in default namespace\\n\") } else if statusError, isStatus := err.(*errors.StatusError); isStatus { fmt.Printf(\"Error getting pod %v\\n\", statusError.ErrStatus.Message) } else if err != nil { panic(err.Error()) } else { fmt.Printf(\"Found example-xxxxx pod in default namespace\\n\") } time.Sleep(10 * time.Second) } } æ„å»ºäºŒè¿›åˆ¶ï¼Œæ„å»º docker é•œåƒ go buidl -o app main.go docker build -t 904566722/in-cluster-app:1.0.0 ä½¿ç”¨è¯¥é•œåƒå¯åŠ¨ä¸€ä¸ª Pod apiVersion: v1 kind: ServiceAccount metadata: name: in-cluster-client-go namespace: default --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: in-cluster-client-go rules: - apiGroups: - '*' resources: - '*' verbs: - '*' --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: in-cluster-client-go roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: in-cluster-client-go subjects: - kind: ServiceAccount name: in-cluster-client-go namespace: default --- apiVersion: v1 kind: Pod metadata: name: in-cluster-client-go namespace: default spec: serviceAccountName: in-cluster-client-go containers: - image: 904566722/in-cluster-app:1.0.0 imagePullPolicy: IfNotPresent name: client-go restartPolicy: Never æŸ¥çœ‹ Po","date":"2023-05-12","objectID":"/202305121218-client-go/:2:2","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#2211-é›†ç¾¤å†…"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¹äº client-go çš„ä½¿ç”¨ä¸»è¦åˆ†ä¸¤ç§åœºæ™¯ï¼š åº”ç”¨ç¨‹åºè¿è¡Œåœ¨é›†ç¾¤ä¸­çš„ Pod ä¸­ â€“\u003e ä½¿ç”¨é›†ç¾¤å†…çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configurationï¼‰ or â€“\u003e ä½¿ç”¨é›†ç¾¤å¤–çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/out-of-cluster-client-configurationï¼‰ 2.2.1 ç®€å•ä½¿ç”¨ï¼ˆè¿›ç¾¤å†…å¤–åˆ›å»ºClientSetï¼Œå¹¶ä¸ Kubernetes API é€šä¿¡ï¼‰ä¸»è¦ç¼–ç æ­¥éª¤ åˆ›å»º cluster configï¼ˆè°ƒç”¨ InClusterConfigï¼Œä½¿ç”¨ Pod å†…çš„ tokenï¼‰ Pod å†…ä½¿ç”¨ InClusterConfig åˆ›å»º cluster config ä¸æ˜¯ Pod å†…çš„åº”ç”¨å¯ä»¥ä½¿ç”¨ kubeconfig æ¥åˆå§‹åŒ–å®¢æˆ·ç«¯ é€šè¿‡ cluster config åˆ›å»ºä¸€ä¸ª client set é€šè¿‡ client set è®¿é—® Kubernetes APIï¼Œ å®Œæˆä¸šåŠ¡é€»è¾‘ç¼–ç  2.2.1.1 é›†ç¾¤å†… https://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configuration åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ Pod å†…éƒ¨çš„æ—¶å€™ï¼Œä½¿ç”¨å®‰è£…åœ¨ Pod å†…éƒ¨çš„ /var/run/secrets/kubernetes.io/serviceaccount è·¯å¾„ä¸‹çš„ Service Account token main.go /* Copyright 2016 The Kubernetes Authors. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */ // Note: the example only works with the code within the same release/branch. package main import ( \"context\" \"fmt\" \"time\" \"k8s.io/apimachinery/pkg/api/errors\" metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" \"k8s.io/client-go/kubernetes\" \"k8s.io/client-go/rest\" // // Uncomment to load all auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth\" // // Or uncomment to load specific auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth/azure\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/gcp\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/oidc\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/openstack\" ) func main() { // creates the in-cluster config config, err := rest.InClusterConfig() if err != nil { panic(err.Error()) } // creates the clientset clientset, err := kubernetes.NewForConfig(config) if err != nil { panic(err.Error()) } for { // get pods in all the namespaces by omitting namespace // Or specify namespace to get pods in particular namespace pods, err := clientset.CoreV1().Pods(\"\").List(context.TODO(), metav1.ListOptions{}) if err != nil { panic(err.Error()) } fmt.Printf(\"There are %d pods in the cluster\\n\", len(pods.Items)) // Examples for error handling: // - Use helper functions e.g. errors.IsNotFound() // - And/or cast to StatusError and use its properties like e.g. ErrStatus.Message _, err = clientset.CoreV1().Pods(\"default\").Get(context.TODO(), \"example-xxxxx\", metav1.GetOptions{}) if errors.IsNotFound(err) { fmt.Printf(\"Pod example-xxxxx not found in default namespace\\n\") } else if statusError, isStatus := err.(*errors.StatusError); isStatus { fmt.Printf(\"Error getting pod %v\\n\", statusError.ErrStatus.Message) } else if err != nil { panic(err.Error()) } else { fmt.Printf(\"Found example-xxxxx pod in default namespace\\n\") } time.Sleep(10 * time.Second) } } æ„å»ºäºŒè¿›åˆ¶ï¼Œæ„å»º docker é•œåƒ go buidl -o app main.go docker build -t 904566722/in-cluster-app:1.0.0 ä½¿ç”¨è¯¥é•œåƒå¯åŠ¨ä¸€ä¸ª Pod apiVersion: v1 kind: ServiceAccount metadata: name: in-cluster-client-go namespace: default --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: in-cluster-client-go rules: - apiGroups: - '*' resources: - '*' verbs: - '*' --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: in-cluster-client-go roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: in-cluster-client-go subjects: - kind: ServiceAccount name: in-cluster-client-go namespace: default --- apiVersion: v1 kind: Pod metadata: name: in-cluster-client-go namespace: default spec: serviceAccountName: in-cluster-client-go containers: - image: 904566722/in-cluster-app:1.0.0 imagePullPolicy: IfNotPresent name: client-go restartPolicy: Never æŸ¥çœ‹ Po","date":"2023-05-12","objectID":"/202305121218-client-go/:2:2","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#2211-é›†ç¾¤å¤–"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¹äº client-go çš„ä½¿ç”¨ä¸»è¦åˆ†ä¸¤ç§åœºæ™¯ï¼š åº”ç”¨ç¨‹åºè¿è¡Œåœ¨é›†ç¾¤ä¸­çš„ Pod ä¸­ â€“\u003e ä½¿ç”¨é›†ç¾¤å†…çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configurationï¼‰ or â€“\u003e ä½¿ç”¨é›†ç¾¤å¤–çš„æ–¹å¼ï¼ˆhttps://github.com/kubernetes/client-go/tree/master/examples/out-of-cluster-client-configurationï¼‰ 2.2.1 ç®€å•ä½¿ç”¨ï¼ˆè¿›ç¾¤å†…å¤–åˆ›å»ºClientSetï¼Œå¹¶ä¸ Kubernetes API é€šä¿¡ï¼‰ä¸»è¦ç¼–ç æ­¥éª¤ åˆ›å»º cluster configï¼ˆè°ƒç”¨ InClusterConfigï¼Œä½¿ç”¨ Pod å†…çš„ tokenï¼‰ Pod å†…ä½¿ç”¨ InClusterConfig åˆ›å»º cluster config ä¸æ˜¯ Pod å†…çš„åº”ç”¨å¯ä»¥ä½¿ç”¨ kubeconfig æ¥åˆå§‹åŒ–å®¢æˆ·ç«¯ é€šè¿‡ cluster config åˆ›å»ºä¸€ä¸ª client set é€šè¿‡ client set è®¿é—® Kubernetes APIï¼Œ å®Œæˆä¸šåŠ¡é€»è¾‘ç¼–ç  2.2.1.1 é›†ç¾¤å†… https://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configuration åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ Pod å†…éƒ¨çš„æ—¶å€™ï¼Œä½¿ç”¨å®‰è£…åœ¨ Pod å†…éƒ¨çš„ /var/run/secrets/kubernetes.io/serviceaccount è·¯å¾„ä¸‹çš„ Service Account token main.go /* Copyright 2016 The Kubernetes Authors. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */ // Note: the example only works with the code within the same release/branch. package main import ( \"context\" \"fmt\" \"time\" \"k8s.io/apimachinery/pkg/api/errors\" metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" \"k8s.io/client-go/kubernetes\" \"k8s.io/client-go/rest\" // // Uncomment to load all auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth\" // // Or uncomment to load specific auth plugins // _ \"k8s.io/client-go/plugin/pkg/client/auth/azure\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/gcp\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/oidc\" // _ \"k8s.io/client-go/plugin/pkg/client/auth/openstack\" ) func main() { // creates the in-cluster config config, err := rest.InClusterConfig() if err != nil { panic(err.Error()) } // creates the clientset clientset, err := kubernetes.NewForConfig(config) if err != nil { panic(err.Error()) } for { // get pods in all the namespaces by omitting namespace // Or specify namespace to get pods in particular namespace pods, err := clientset.CoreV1().Pods(\"\").List(context.TODO(), metav1.ListOptions{}) if err != nil { panic(err.Error()) } fmt.Printf(\"There are %d pods in the cluster\\n\", len(pods.Items)) // Examples for error handling: // - Use helper functions e.g. errors.IsNotFound() // - And/or cast to StatusError and use its properties like e.g. ErrStatus.Message _, err = clientset.CoreV1().Pods(\"default\").Get(context.TODO(), \"example-xxxxx\", metav1.GetOptions{}) if errors.IsNotFound(err) { fmt.Printf(\"Pod example-xxxxx not found in default namespace\\n\") } else if statusError, isStatus := err.(*errors.StatusError); isStatus { fmt.Printf(\"Error getting pod %v\\n\", statusError.ErrStatus.Message) } else if err != nil { panic(err.Error()) } else { fmt.Printf(\"Found example-xxxxx pod in default namespace\\n\") } time.Sleep(10 * time.Second) } } æ„å»ºäºŒè¿›åˆ¶ï¼Œæ„å»º docker é•œåƒ go buidl -o app main.go docker build -t 904566722/in-cluster-app:1.0.0 ä½¿ç”¨è¯¥é•œåƒå¯åŠ¨ä¸€ä¸ª Pod apiVersion: v1 kind: ServiceAccount metadata: name: in-cluster-client-go namespace: default --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: in-cluster-client-go rules: - apiGroups: - '*' resources: - '*' verbs: - '*' --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: in-cluster-client-go roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: in-cluster-client-go subjects: - kind: ServiceAccount name: in-cluster-client-go namespace: default --- apiVersion: v1 kind: Pod metadata: name: in-cluster-client-go namespace: default spec: serviceAccountName: in-cluster-client-go containers: - image: 904566722/in-cluster-app:1.0.0 imagePullPolicy: IfNotPresent name: client-go restartPolicy: Never æŸ¥çœ‹ Po","date":"2023-05-12","objectID":"/202305121218-client-go/:2:2","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#222-åˆ›å»ºæ›´æ–°åˆ é™¤ä¸€ä¸ª-deployment"},{"categories":["Golang"],"content":" ä¸‰ã€ä»£ç ç»„ç»‡","date":"2023-05-12","objectID":"/202305121218-client-go/:3:0","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#ä¸‰ä»£ç ç»„ç»‡"},{"categories":["Golang"],"content":" 3.1 ç›®å½•ç»“æ„ ","date":"2023-05-12","objectID":"/202305121218-client-go/:3:1","series":["Golang-box"],"tags":[],"title":"client-go","uri":"/202305121218-client-go/#31-ç›®å½•ç»“æ„"},{"categories":["Golang"],"content":"#æµ‹è¯• ","date":"2023-05-12","objectID":"/202305121208-ginkgo/:0:0","series":["æµ‹è¯•"],"tags":[],"title":"ginkgo ç®€å•ä½¿ç”¨","uri":"/202305121208-ginkgo/#"},{"categories":["Golang"],"content":" å®‰è£…ã€ä½¿ç”¨å®‰è£… go get -u github.com/onsi/ginkgo/v2/ginkgo go get -u github.com/onsi/gomega/... ","date":"2023-05-12","objectID":"/202305121208-ginkgo/:1:0","series":["æµ‹è¯•"],"tags":[],"title":"ginkgo ç®€å•ä½¿ç”¨","uri":"/202305121208-ginkgo/#å®‰è£…ä½¿ç”¨"},{"categories":["Golang"],"content":" å†™ä½œè§„èŒƒ","date":"2023-05-12","objectID":"/202305121208-ginkgo/:2:0","series":["æµ‹è¯•"],"tags":[],"title":"ginkgo ç®€å•ä½¿ç”¨","uri":"/202305121208-ginkgo/#å†™ä½œè§„èŒƒ"},{"categories":["Golang"],"content":" ç»„ç»‡ç»“æ„Ginkgo å¹¿æ³›ä½¿ç”¨é—­åŒ…æ¥æ„å»ºæè¿°æ€§è§„èŒƒå±‚æ¬¡ç»“æ„ï¼ˆä»¥ä»£ç ç»„ç»‡å½¢å¼çš„æ–¹å¼æ¥æè¿°ä»£ç è¡Œä¸ºï¼‰ï¼Œè¿™ä¸ªç»“æ„å±‚æ¬¡æ˜¯ä½¿ç”¨ä¸‰ç§ç±»å‹çš„èŠ‚ç‚¹æ¥æ„å»ºçš„ï¼š container node å®¹å™¨èŠ‚ç‚¹ ç”¨æ¥ç»„ç»‡æ­£åœ¨æµ‹è¯•çš„ä»£ç çš„ä¸åŒæ–¹é¢ ä¾‹å¦‚ï¼š Describeã€Contextã€When é€šå¸¸ä½¿ç”¨ Describe ä½¿ç”¨ä»£ç çš„ä¸åŒåŠŸèƒ½ï¼Œä½¿ç”¨ Context æ¢ç´¢æ¯ç§åŠŸèƒ½çš„è¡Œä¸º setup node è®¾ç½®èŠ‚ç‚¹ ç”¨æ¥è®¾ç½®è§„èŒƒçš„çŠ¶æ€ ä¾‹å¦‚ï¼šBeforeEach subject node ä¸»é¢˜èŠ‚ç‚¹ ç”¨æ¥ç¼–å†™ä¸€ä¸ªè§„èŒƒ containerã€setupã€subject node å½¢æˆä¸€ä¸ªè§„èŒƒæ ‘ï¼š var _ = Describe(\"Book\", func() { var foxInSocks, lesMis *books.Book // å…±äº«å˜é‡ï¼ˆè®¾ç½®èŠ‚ç‚¹å’Œä¸»é¢˜èŠ‚ç‚¹ä¹‹é—´å…±äº«çš„å˜é‡ï¼‰ BeforeEach(func() { // è®¾ç½®èŠ‚ç‚¹ lesMis = \u0026books.Book{ Title: \"Les Miserables\", Author: \"Victor Hugo\", Pages: 2783, } foxInSocks = \u0026books.Book{ Title: \"Fox In Socks\", Author: \"Dr. Seuss\", Pages: 24, } }) Describe(\"Categorizing books\", func() { Context(\"with more than 300 pages\", func() { It(\"should be a novel\", func() { // ä¸»é¢˜èŠ‚ç‚¹ gomega.Expect(lesMis.Category(), books.CategoryNovel) }) }) Context(\"with fewer than 300 pages\", func() { It(\"should be a short story\", func() { gomega.Expect(foxInSocks.Category(), books.CategoryShortStory) }) }) }) }) ","date":"2023-05-12","objectID":"/202305121208-ginkgo/:2:1","series":["æµ‹è¯•"],"tags":[],"title":"ginkgo ç®€å•ä½¿ç”¨","uri":"/202305121208-ginkgo/#ç»„ç»‡ç»“æ„"},{"categories":["Golang"],"content":" æ³¨æ„ç‚¹ ä¸€ä¸ªè§„èŒƒå¯ä»¥è®¾ç½®å¤šä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªä¸»é¢˜èŠ‚ç‚¹ æ¯ä¸ªè§„èŒƒä¹‹é—´åº”è¯¥æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œè¿™è¿è¡Œ Ginkgo æ‰“ä¹±é¡ºåºï¼Œå¹¶è¡Œè¿è¡Œè§„èŒƒ åœ¨å®¹å™¨èŠ‚ç‚¹ä¸­å£°æ˜ï¼Œåœ¨è®¾ç½®èŠ‚ç‚¹ä¸­åˆå§‹åŒ– æ–­è¨€åº”è¯¥åœ¨è®¾ç½®èŠ‚ç‚¹æˆ–è€…ä¸»é¢˜èŠ‚ç‚¹ä¸­ï¼Œä¸åº”è¯¥å‡ºç°åœ¨å®¹å™¨èŠ‚ç‚¹ Describe æ˜¯ Ginkgo DSL çš„ä¸€éƒ¨åˆ†ï¼Œå…·æœ‰æè¿°ã€é—­åŒ…çš„åŠŸèƒ½ï¼›ä¸€ä¸ª Describe å¯ç†è§£ä¸ºä¸€ä¸ªå®¹å™¨ BeforeEachèŠ‚ç‚¹ æ˜¯Setup èŠ‚ç‚¹èŠ‚ç‚¹ï¼Œå…¶é—­åŒ…åœ¨ It èŠ‚ç‚¹é—­åŒ…ä¹‹å‰è¿è¡Œã€‚å½“åœ¨åµŒå¥—çš„ Container èŠ‚ç‚¹ä¸­å®šä¹‰äº†å¤šä¸ª BeforeEach èŠ‚ç‚¹æ—¶ï¼Œæœ€å¤–å±‚çš„ BeforeEach èŠ‚ç‚¹é—­åŒ…é¦–å…ˆè¿è¡Œï¼ŒBeforeEach ä¼šåœ¨æ¯ä¸ª It è¿è¡Œä¹‹å‰è¿è¡Œ AfterEach ã€DeferCleanup ç”¨äºæ¸…ç†æˆ–è€…å°†ç¯å¢ƒæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ Contextæ˜¯ Describe çš„åˆ«å - å®ƒç”Ÿæˆå®Œå…¨ç›¸åŒç±»å‹çš„ Container èŠ‚ç‚¹ It æ˜¯ä¸€ä¸ªè§„èŒƒä¸»é¢˜ï¼Œæ¯ä¸ªè§„èŒƒéƒ½åªæœ‰ä¸€ä¸ªä¸»é¢˜èŠ‚ç‚¹ BeforeSuite AfterSuite ","date":"2023-05-12","objectID":"/202305121208-ginkgo/:2:2","series":["æµ‹è¯•"],"tags":[],"title":"ginkgo ç®€å•ä½¿ç”¨","uri":"/202305121208-ginkgo/#æ³¨æ„ç‚¹"},{"categories":["Golang"],"content":" ginkgo cli # åˆå§‹åŒ–å¥—ä»¶ï¼ˆsuiteï¼‰ ginkgo bootstrap # è¿è¡Œ ginkgo # æ·»åŠ è§„æ ¼ï¼ˆspecï¼‰ ginkgo generate \u003cè§„æ ¼å\u003e githubï¼š https://github.com/onsi/ginkgo githubï¼šhttps://github.com/onsi/gomega ginkgo æ–‡æ¡£ï¼šhttps://onsi.github.io/ginkgo/ ","date":"2023-05-12","objectID":"/202305121208-ginkgo/:3:0","series":["æµ‹è¯•"],"tags":[],"title":"ginkgo ç®€å•ä½¿ç”¨","uri":"/202305121208-ginkgo/#ginkgo-cli"},{"categories":["Linux"],"content":"#linux ","date":"2023-05-12","objectID":"/202305121256-linux-%E8%B5%B7-nfs-%E6%9C%8D%E5%8A%A1/:0:0","series":["Linux-box"],"tags":["linux","nfs"],"title":"linux èµ· nfs æœåŠ¡","uri":"/202305121256-linux-%E8%B5%B7-nfs-%E6%9C%8D%E5%8A%A1/#"},{"categories":["Linux"],"content":" å®‰è£…è½¯ä»¶åŒ… yum install rpcbind nfs-utils åˆ›å»ºå…±äº«ç›®å½• mkdir /home/test chmod -R 777 /home/test/ cd /home/test/ echo \"hello nfs!\" \u003e hello-nfs.txt ä¿®æ”¹æœåŠ¡ç«¯é…ç½®æ–‡ä»¶ vim /etc/exports # é…ç½®å…è®¸çš„ç½‘æ®µä»¥åŠæƒé™ /home/test 192.168.121.0/24(rw) å¼€å¯æœåŠ¡ systemctl start rpcbind systemctl start nfs-server å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡ç«¯çš„å…±äº«ä¿¡æ¯ showmount -e 10.253.8.90 åˆ›å»ºç›®å½•ï¼ŒæŒ‚è½½ mkdir /mnt/test mount 10.253.8.90:/home/test /mnt/test ","date":"2023-05-12","objectID":"/202305121256-linux-%E8%B5%B7-nfs-%E6%9C%8D%E5%8A%A1/:1:0","series":["Linux-box"],"tags":["linux","nfs"],"title":"linux èµ· nfs æœåŠ¡","uri":"/202305121256-linux-%E8%B5%B7-nfs-%E6%9C%8D%E5%8A%A1/#heading"},{"categories":["MySQL"],"content":"#mysql è¿›å…¥æ•°æ®åº“ mysql -uroot -p # login show databases; use db_name; # é€‰æ‹©æ•°æ®åº“ show tables; # æ˜¾ç¤ºè¡¨ å¢åˆ æ”¹æŸ¥ select * from table_name; # where æ¡ä»¶æŸ¥è¯¢ # = # \u003c\u003e != # \u003c \u003c= \u003e \u003e= # between a and b # is NULL is not NULL delete from outcome where id=1; update table_name set remark='motify' where id=1; insert into table_name (field1, ...) where (value1, ...); ä¿®æ”¹å¯†ç  ALTER USER 'root'@'localhost' IDENTIFIED BY '1ASDinnocent'; ","date":"2023-05-12","objectID":"/202305121233-mysql-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:0:0","series":["MySQLåˆè¯†"],"tags":[],"title":"MySQL å¸¸ç”¨å‘½ä»¤","uri":"/202305121233-mysql-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#"},{"categories":["Golang"],"content":" ä¸€ã€åŸºæœ¬äº†è§£ https://github.com/spf13/pflag ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:1:0","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#ä¸€åŸºæœ¬äº†è§£"},{"categories":["Golang"],"content":" 1.1 åŸºæœ¬æ¦‚å¿µpflag æ˜¯ Go çš„ flag åŒ…çš„æ›¿ä»£å“ï¼Œ å®ç°äº† POSIX/GNU é£æ ¼çš„ â€“flags ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:1:1","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#11-åŸºæœ¬æ¦‚å¿µ"},{"categories":["Golang"],"content":" äºŒã€å®‰è£…ã€ä½¿ç”¨","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:2:0","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#äºŒå®‰è£…ä½¿ç”¨"},{"categories":["Golang"],"content":" 2.1 å®‰è£…go.mod module Go go 1.17 require ( \"github.com/spf13/pflag\" v1.0.5 ) ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:2:1","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#21-å®‰è£…"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¼å…¥åŒ… import \"github.com/spf13/pflag\" 2.2.1 ç®€å•ä½¿ç”¨ import ( \"github.com/spf13/pflag\" \"log\" ) const DefaultIP = \"192.168.1.1\" type MyServerOption struct { LogDir string Ip string } func NewServerOption() *MyServerOption { return \u0026MyServerOption{} } func (s *MyServerOption) AddFlags(fs *pflag.FlagSet) { log.Println(fs) fs.StringVar(\u0026s.LogDir, \"log-dir\", s.LogDir, \"æœåŠ¡çš„æ—¥å¿—è·¯å¾„\") fs.StringVar(\u0026s.Ip, \"ip\", DefaultIP, \"æœåŠ¡ip\") // è¿è¡ŒäºŒè¿›åˆ¶çš„æ—¶å€™ä¸æŒ‡å®š ip å‚æ•°å°†è®¾ç½®ä¸ºè¯¥é»˜è®¤å€¼ } func main() { s := testpflag.NewServerOption() s.AddFlags(pflag.CommandLine) pflag.Parse() log.Println(s) } [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ pflag: help requested 2.2.2 æä¾›å•å­—æ¯ç®€å†™ fs.StringVarP(\u0026s.Name, \"name\", \"n\", \"default name\", \"æœåŠ¡åç§°\") ä½¿ç”¨ VarP çš„å½¢å¼ç»‘å®šå‚æ•°ä¹‹åï¼Œå¯ä»¥ä»¥ â€œâ€“nameâ€ æˆ–è€… â€œ-nâ€ æ¥æŒ‡å®š [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") pflag: help requested 2.2.3 è§„èŒƒåŒ–æ ‡å¿—çš„åç§°(ç›¸å½“äºè®¾ç½®åˆ«å)ä½¿ç”¨ FlagSet çš„æ–¹æ³• SetNormalizeFunc å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç¿»è¯‘æ ‡å¿—åï¼Œä¾‹å¦‚ä¸€ä¸ª â€œURLâ€ çš„æ ‡å¿—åå¯ä»¥è¢«ç¿»è¯‘ä¸º â€œurlâ€ è§„èŒƒåŒ–å‰ï¼š [root@master pflag]# ./pflag --url=\"hello.com\" unknown flag: --url Usage of ./pflag: --URL string åœ°å€ (default \"hhq.com\") --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") unknown flag: --url è§„èŒƒåŒ–åï¼š ./pflag --url=\"hello.com\" 2022/09/16 02:41:43 \u0026{ 192.168.1.1 default name hello.com} ä»£ç ï¼š func main() { s := testpflag.NewServerOption() fs := pflag.CommandLine s.AddFlags(fs) fs.SetNormalizeFunc(CaseInsensitiveFunc) pflag.Parse() log.Println(s) } // CaseInsensitiveFunc ä¸åŒºåˆ†æ ‡å¿—åçš„å¤§å°å†™ func CaseInsensitiveFunc(fs *pflag.FlagSet, name string) pflag.NormalizedName { return pflag.NormalizedName(strings.ToLower(name)) } 2.2.4 å¼ƒç”¨ä¸€ä¸ªæ ‡å¿— err := fs.MarkDeprecated(\"bad-flag\", \"è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag\") if err != nil { log.Println(\"å¼ƒç”¨æ ‡å¿—å¤±è´¥\") } è¯´æ˜å¼ƒç”¨ â€œâ€“bad-flagâ€ è¿™ä¸ªæ ‡å¿—ï¼Œå¦‚æœç”¨æˆ·ç»§ç»­ä½¿ç”¨è¿™ä¸ªæ ‡è¯†ï¼Œå°†ç»™å‡ºè¯´æ˜ [root@master pflag]# ./pflag --bad-flag=aa Flag --bad-flag has been deprecated, è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag 2022/09/16 02:47:10 \u0026{ 192.168.1.1 default name hhq.com aa} ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:2:2","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#22-ä½¿ç”¨"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¼å…¥åŒ… import \"github.com/spf13/pflag\" 2.2.1 ç®€å•ä½¿ç”¨ import ( \"github.com/spf13/pflag\" \"log\" ) const DefaultIP = \"192.168.1.1\" type MyServerOption struct { LogDir string Ip string } func NewServerOption() *MyServerOption { return \u0026MyServerOption{} } func (s *MyServerOption) AddFlags(fs *pflag.FlagSet) { log.Println(fs) fs.StringVar(\u0026s.LogDir, \"log-dir\", s.LogDir, \"æœåŠ¡çš„æ—¥å¿—è·¯å¾„\") fs.StringVar(\u0026s.Ip, \"ip\", DefaultIP, \"æœåŠ¡ip\") // è¿è¡ŒäºŒè¿›åˆ¶çš„æ—¶å€™ä¸æŒ‡å®š ip å‚æ•°å°†è®¾ç½®ä¸ºè¯¥é»˜è®¤å€¼ } func main() { s := testpflag.NewServerOption() s.AddFlags(pflag.CommandLine) pflag.Parse() log.Println(s) } [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ pflag: help requested 2.2.2 æä¾›å•å­—æ¯ç®€å†™ fs.StringVarP(\u0026s.Name, \"name\", \"n\", \"default name\", \"æœåŠ¡åç§°\") ä½¿ç”¨ VarP çš„å½¢å¼ç»‘å®šå‚æ•°ä¹‹åï¼Œå¯ä»¥ä»¥ â€œâ€“nameâ€ æˆ–è€… â€œ-nâ€ æ¥æŒ‡å®š [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") pflag: help requested 2.2.3 è§„èŒƒåŒ–æ ‡å¿—çš„åç§°(ç›¸å½“äºè®¾ç½®åˆ«å)ä½¿ç”¨ FlagSet çš„æ–¹æ³• SetNormalizeFunc å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç¿»è¯‘æ ‡å¿—åï¼Œä¾‹å¦‚ä¸€ä¸ª â€œURLâ€ çš„æ ‡å¿—åå¯ä»¥è¢«ç¿»è¯‘ä¸º â€œurlâ€ è§„èŒƒåŒ–å‰ï¼š [root@master pflag]# ./pflag --url=\"hello.com\" unknown flag: --url Usage of ./pflag: --URL string åœ°å€ (default \"hhq.com\") --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") unknown flag: --url è§„èŒƒåŒ–åï¼š ./pflag --url=\"hello.com\" 2022/09/16 02:41:43 \u0026{ 192.168.1.1 default name hello.com} ä»£ç ï¼š func main() { s := testpflag.NewServerOption() fs := pflag.CommandLine s.AddFlags(fs) fs.SetNormalizeFunc(CaseInsensitiveFunc) pflag.Parse() log.Println(s) } // CaseInsensitiveFunc ä¸åŒºåˆ†æ ‡å¿—åçš„å¤§å°å†™ func CaseInsensitiveFunc(fs *pflag.FlagSet, name string) pflag.NormalizedName { return pflag.NormalizedName(strings.ToLower(name)) } 2.2.4 å¼ƒç”¨ä¸€ä¸ªæ ‡å¿— err := fs.MarkDeprecated(\"bad-flag\", \"è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag\") if err != nil { log.Println(\"å¼ƒç”¨æ ‡å¿—å¤±è´¥\") } è¯´æ˜å¼ƒç”¨ â€œâ€“bad-flagâ€ è¿™ä¸ªæ ‡å¿—ï¼Œå¦‚æœç”¨æˆ·ç»§ç»­ä½¿ç”¨è¿™ä¸ªæ ‡è¯†ï¼Œå°†ç»™å‡ºè¯´æ˜ [root@master pflag]# ./pflag --bad-flag=aa Flag --bad-flag has been deprecated, è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag 2022/09/16 02:47:10 \u0026{ 192.168.1.1 default name hhq.com aa} ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:2:2","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#221-ç®€å•ä½¿ç”¨"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¼å…¥åŒ… import \"github.com/spf13/pflag\" 2.2.1 ç®€å•ä½¿ç”¨ import ( \"github.com/spf13/pflag\" \"log\" ) const DefaultIP = \"192.168.1.1\" type MyServerOption struct { LogDir string Ip string } func NewServerOption() *MyServerOption { return \u0026MyServerOption{} } func (s *MyServerOption) AddFlags(fs *pflag.FlagSet) { log.Println(fs) fs.StringVar(\u0026s.LogDir, \"log-dir\", s.LogDir, \"æœåŠ¡çš„æ—¥å¿—è·¯å¾„\") fs.StringVar(\u0026s.Ip, \"ip\", DefaultIP, \"æœåŠ¡ip\") // è¿è¡ŒäºŒè¿›åˆ¶çš„æ—¶å€™ä¸æŒ‡å®š ip å‚æ•°å°†è®¾ç½®ä¸ºè¯¥é»˜è®¤å€¼ } func main() { s := testpflag.NewServerOption() s.AddFlags(pflag.CommandLine) pflag.Parse() log.Println(s) } [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ pflag: help requested 2.2.2 æä¾›å•å­—æ¯ç®€å†™ fs.StringVarP(\u0026s.Name, \"name\", \"n\", \"default name\", \"æœåŠ¡åç§°\") ä½¿ç”¨ VarP çš„å½¢å¼ç»‘å®šå‚æ•°ä¹‹åï¼Œå¯ä»¥ä»¥ â€œâ€“nameâ€ æˆ–è€… â€œ-nâ€ æ¥æŒ‡å®š [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") pflag: help requested 2.2.3 è§„èŒƒåŒ–æ ‡å¿—çš„åç§°(ç›¸å½“äºè®¾ç½®åˆ«å)ä½¿ç”¨ FlagSet çš„æ–¹æ³• SetNormalizeFunc å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç¿»è¯‘æ ‡å¿—åï¼Œä¾‹å¦‚ä¸€ä¸ª â€œURLâ€ çš„æ ‡å¿—åå¯ä»¥è¢«ç¿»è¯‘ä¸º â€œurlâ€ è§„èŒƒåŒ–å‰ï¼š [root@master pflag]# ./pflag --url=\"hello.com\" unknown flag: --url Usage of ./pflag: --URL string åœ°å€ (default \"hhq.com\") --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") unknown flag: --url è§„èŒƒåŒ–åï¼š ./pflag --url=\"hello.com\" 2022/09/16 02:41:43 \u0026{ 192.168.1.1 default name hello.com} ä»£ç ï¼š func main() { s := testpflag.NewServerOption() fs := pflag.CommandLine s.AddFlags(fs) fs.SetNormalizeFunc(CaseInsensitiveFunc) pflag.Parse() log.Println(s) } // CaseInsensitiveFunc ä¸åŒºåˆ†æ ‡å¿—åçš„å¤§å°å†™ func CaseInsensitiveFunc(fs *pflag.FlagSet, name string) pflag.NormalizedName { return pflag.NormalizedName(strings.ToLower(name)) } 2.2.4 å¼ƒç”¨ä¸€ä¸ªæ ‡å¿— err := fs.MarkDeprecated(\"bad-flag\", \"è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag\") if err != nil { log.Println(\"å¼ƒç”¨æ ‡å¿—å¤±è´¥\") } è¯´æ˜å¼ƒç”¨ â€œâ€“bad-flagâ€ è¿™ä¸ªæ ‡å¿—ï¼Œå¦‚æœç”¨æˆ·ç»§ç»­ä½¿ç”¨è¿™ä¸ªæ ‡è¯†ï¼Œå°†ç»™å‡ºè¯´æ˜ [root@master pflag]# ./pflag --bad-flag=aa Flag --bad-flag has been deprecated, è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag 2022/09/16 02:47:10 \u0026{ 192.168.1.1 default name hhq.com aa} ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:2:2","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#222-æä¾›å•å­—æ¯ç®€å†™"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¼å…¥åŒ… import \"github.com/spf13/pflag\" 2.2.1 ç®€å•ä½¿ç”¨ import ( \"github.com/spf13/pflag\" \"log\" ) const DefaultIP = \"192.168.1.1\" type MyServerOption struct { LogDir string Ip string } func NewServerOption() *MyServerOption { return \u0026MyServerOption{} } func (s *MyServerOption) AddFlags(fs *pflag.FlagSet) { log.Println(fs) fs.StringVar(\u0026s.LogDir, \"log-dir\", s.LogDir, \"æœåŠ¡çš„æ—¥å¿—è·¯å¾„\") fs.StringVar(\u0026s.Ip, \"ip\", DefaultIP, \"æœåŠ¡ip\") // è¿è¡ŒäºŒè¿›åˆ¶çš„æ—¶å€™ä¸æŒ‡å®š ip å‚æ•°å°†è®¾ç½®ä¸ºè¯¥é»˜è®¤å€¼ } func main() { s := testpflag.NewServerOption() s.AddFlags(pflag.CommandLine) pflag.Parse() log.Println(s) } [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ pflag: help requested 2.2.2 æä¾›å•å­—æ¯ç®€å†™ fs.StringVarP(\u0026s.Name, \"name\", \"n\", \"default name\", \"æœåŠ¡åç§°\") ä½¿ç”¨ VarP çš„å½¢å¼ç»‘å®šå‚æ•°ä¹‹åï¼Œå¯ä»¥ä»¥ â€œâ€“nameâ€ æˆ–è€… â€œ-nâ€ æ¥æŒ‡å®š [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") pflag: help requested 2.2.3 è§„èŒƒåŒ–æ ‡å¿—çš„åç§°(ç›¸å½“äºè®¾ç½®åˆ«å)ä½¿ç”¨ FlagSet çš„æ–¹æ³• SetNormalizeFunc å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç¿»è¯‘æ ‡å¿—åï¼Œä¾‹å¦‚ä¸€ä¸ª â€œURLâ€ çš„æ ‡å¿—åå¯ä»¥è¢«ç¿»è¯‘ä¸º â€œurlâ€ è§„èŒƒåŒ–å‰ï¼š [root@master pflag]# ./pflag --url=\"hello.com\" unknown flag: --url Usage of ./pflag: --URL string åœ°å€ (default \"hhq.com\") --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") unknown flag: --url è§„èŒƒåŒ–åï¼š ./pflag --url=\"hello.com\" 2022/09/16 02:41:43 \u0026{ 192.168.1.1 default name hello.com} ä»£ç ï¼š func main() { s := testpflag.NewServerOption() fs := pflag.CommandLine s.AddFlags(fs) fs.SetNormalizeFunc(CaseInsensitiveFunc) pflag.Parse() log.Println(s) } // CaseInsensitiveFunc ä¸åŒºåˆ†æ ‡å¿—åçš„å¤§å°å†™ func CaseInsensitiveFunc(fs *pflag.FlagSet, name string) pflag.NormalizedName { return pflag.NormalizedName(strings.ToLower(name)) } 2.2.4 å¼ƒç”¨ä¸€ä¸ªæ ‡å¿— err := fs.MarkDeprecated(\"bad-flag\", \"è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag\") if err != nil { log.Println(\"å¼ƒç”¨æ ‡å¿—å¤±è´¥\") } è¯´æ˜å¼ƒç”¨ â€œâ€“bad-flagâ€ è¿™ä¸ªæ ‡å¿—ï¼Œå¦‚æœç”¨æˆ·ç»§ç»­ä½¿ç”¨è¿™ä¸ªæ ‡è¯†ï¼Œå°†ç»™å‡ºè¯´æ˜ [root@master pflag]# ./pflag --bad-flag=aa Flag --bad-flag has been deprecated, è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag 2022/09/16 02:47:10 \u0026{ 192.168.1.1 default name hhq.com aa} ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:2:2","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#223-è§„èŒƒåŒ–æ ‡å¿—çš„åç§°ç›¸å½“äºè®¾ç½®åˆ«å"},{"categories":["Golang"],"content":" 2.2 ä½¿ç”¨å¯¼å…¥åŒ… import \"github.com/spf13/pflag\" 2.2.1 ç®€å•ä½¿ç”¨ import ( \"github.com/spf13/pflag\" \"log\" ) const DefaultIP = \"192.168.1.1\" type MyServerOption struct { LogDir string Ip string } func NewServerOption() *MyServerOption { return \u0026MyServerOption{} } func (s *MyServerOption) AddFlags(fs *pflag.FlagSet) { log.Println(fs) fs.StringVar(\u0026s.LogDir, \"log-dir\", s.LogDir, \"æœåŠ¡çš„æ—¥å¿—è·¯å¾„\") fs.StringVar(\u0026s.Ip, \"ip\", DefaultIP, \"æœåŠ¡ip\") // è¿è¡ŒäºŒè¿›åˆ¶çš„æ—¶å€™ä¸æŒ‡å®š ip å‚æ•°å°†è®¾ç½®ä¸ºè¯¥é»˜è®¤å€¼ } func main() { s := testpflag.NewServerOption() s.AddFlags(pflag.CommandLine) pflag.Parse() log.Println(s) } [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ pflag: help requested 2.2.2 æä¾›å•å­—æ¯ç®€å†™ fs.StringVarP(\u0026s.Name, \"name\", \"n\", \"default name\", \"æœåŠ¡åç§°\") ä½¿ç”¨ VarP çš„å½¢å¼ç»‘å®šå‚æ•°ä¹‹åï¼Œå¯ä»¥ä»¥ â€œâ€“nameâ€ æˆ–è€… â€œ-nâ€ æ¥æŒ‡å®š [root@master pflag]# ./pflag --help Usage of ./pflag: --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") pflag: help requested 2.2.3 è§„èŒƒåŒ–æ ‡å¿—çš„åç§°(ç›¸å½“äºè®¾ç½®åˆ«å)ä½¿ç”¨ FlagSet çš„æ–¹æ³• SetNormalizeFunc å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç¿»è¯‘æ ‡å¿—åï¼Œä¾‹å¦‚ä¸€ä¸ª â€œURLâ€ çš„æ ‡å¿—åå¯ä»¥è¢«ç¿»è¯‘ä¸º â€œurlâ€ è§„èŒƒåŒ–å‰ï¼š [root@master pflag]# ./pflag --url=\"hello.com\" unknown flag: --url Usage of ./pflag: --URL string åœ°å€ (default \"hhq.com\") --ip string æœåŠ¡ip (default \"192.168.1.1\") --log-dir string æœåŠ¡çš„æ—¥å¿—è·¯å¾„ -n, --name string æœåŠ¡åç§° (default \"default name\") unknown flag: --url è§„èŒƒåŒ–åï¼š ./pflag --url=\"hello.com\" 2022/09/16 02:41:43 \u0026{ 192.168.1.1 default name hello.com} ä»£ç ï¼š func main() { s := testpflag.NewServerOption() fs := pflag.CommandLine s.AddFlags(fs) fs.SetNormalizeFunc(CaseInsensitiveFunc) pflag.Parse() log.Println(s) } // CaseInsensitiveFunc ä¸åŒºåˆ†æ ‡å¿—åçš„å¤§å°å†™ func CaseInsensitiveFunc(fs *pflag.FlagSet, name string) pflag.NormalizedName { return pflag.NormalizedName(strings.ToLower(name)) } 2.2.4 å¼ƒç”¨ä¸€ä¸ªæ ‡å¿— err := fs.MarkDeprecated(\"bad-flag\", \"è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag\") if err != nil { log.Println(\"å¼ƒç”¨æ ‡å¿—å¤±è´¥\") } è¯´æ˜å¼ƒç”¨ â€œâ€“bad-flagâ€ è¿™ä¸ªæ ‡å¿—ï¼Œå¦‚æœç”¨æˆ·ç»§ç»­ä½¿ç”¨è¿™ä¸ªæ ‡è¯†ï¼Œå°†ç»™å‡ºè¯´æ˜ [root@master pflag]# ./pflag --bad-flag=aa Flag --bad-flag has been deprecated, è¿™ä¸ªæ ‡å¿—å·²ç»å¼ƒç”¨,è¯·ä½¿ç”¨æ–°çš„æ ‡å¿—ï¼š--good-flag 2022/09/16 02:47:10 \u0026{ 192.168.1.1 default name hhq.com aa} ","date":"2023-05-12","objectID":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/:2:2","series":["Golang-box"],"tags":[],"title":"pflag åŒ…ç®€å•ä½¿ç”¨","uri":"/202305121215-pflag-%E5%8C%85%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/#224-å¼ƒç”¨ä¸€ä¸ªæ ‡å¿—"},{"categories":["Linux"],"content":"#linux å‚è€ƒæ–‡æ¡£ https://blog.51cto.com/u_11451275/3207840 xfs_growfs /dev/cclinux/root ","date":"2023-05-12","objectID":"/202305121258-%E6%A0%B9%E5%88%86%E5%8C%BA%E6%89%A9%E5%AE%B9/:0:0","series":["Linux-box"],"tags":["linux"],"title":"æ ¹åˆ†åŒºæ‰©å®¹","uri":"/202305121258-%E6%A0%B9%E5%88%86%E5%8C%BA%E6%89%A9%E5%AE%B9/#"},{"categories":["Golang"],"content":"#Golang Go è¯­è¨€çš„æ¥å£ç›¸å…³æ¦‚å¿µï¼Ÿ Go è¯­è¨€çš„æ¥å£é•¿ä»€ä¹ˆæ ·ï¼Ÿ Go è¯­è¨€çš„æ¥å£ç”¨æ¥åšä»€ä¹ˆï¼Ÿ ä¸å…¶ä»–è¯­è¨€çš„æ¥å£æœ‰ä»€ä¹ˆå¯¹æ¯”ï¼Ÿ ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:0:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#"},{"categories":["Golang"],"content":" ä¸€ã€Go è¯­è¨€çš„æ¥å£","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#ä¸€go-è¯­è¨€çš„æ¥å£"},{"categories":["Golang"],"content":" 1.1 ç›¸å…³æ¦‚å¿µ æ€»ç»“ï¼š æ¥å£ï¼š æ–¹æ³•å®šä¹‰çš„é›†åˆï¼Œè¯´æ˜æƒ³è¦åšçš„ä¸€ç³»åˆ—äº‹æƒ… ä¸€ä¸ªç±»å‹å¯ä»¥å®ç°å¤šä¸ªæ¥å£ Go è¯­è¨€å¹¶ä¸æ˜¯åƒ Java é‚£æ ·ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæ²¡æœ‰åƒ Java ä¸­ ç±»ã€ç»§æ‰¿ä¹‹ç±»çš„æ¦‚å¿µ å¦‚æœæŠŠæ–¹æ³•åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå®šä¹‰ä¸å®ç° å®šä¹‰ï¼šå®šä¹‰å…¶å®å°±æ˜¯åœ¨è¯´æ˜è¿™ä¸ªæ–¹æ³•æƒ³è¦åšä»€ä¹ˆ å®ç°ï¼šå®ç°å°±å…·ä½“åœ°è¯´æ˜äº†æ€ä¹ˆåš ä¸¾ä¸ªä¾‹å­ï¼š // Sum æ±‚å’Œ // æ–¹æ³•çš„ç»„æˆéƒ¨åˆ†ï¼š // 1. å®šä¹‰ // 2. é€»è¾‘ func Sum(a int, b int) int { // 1. å®šä¹‰ï¼ˆæˆ‘æƒ³è¦æ±‚å’Œï¼‰ return a + b // 2. å…·ä½“é€»è¾‘ï¼ˆæ€ä¹ˆæ±‚å’Œï¼‰ } åœ¨Go è¯­è¨€ä¸­ï¼Œæ¥å£å°±æ˜¯ä¸€ç³»åˆ—æ–¹æ³•å®šä¹‰çš„é›†åˆï¼Œç”¨æ¥è¯´æ˜å¯¹è±¡å…·å¤‡çš„è¡Œä¸ºï¼Œæ¥å£çš„æ¦‚å¿µèƒ½å¤Ÿè®© Go åšä¸€äº›é¢å‘å¯¹è±¡çš„äº‹æƒ… å› æ­¤å¦‚æœæŠŠ Go çš„æ¥å£æ˜ å°„åˆ°ç”Ÿæ´»ä¸­çš„è¯ï¼Œæ¥å£ç›¸å½“äºå°±æ˜¯åˆ’åˆ†äº†ä¸€äº›æƒ³è¦åšçš„äº‹ï¼Œè°å¦‚æœæœ‰èƒ½åŠ›èƒ½å¤Ÿå®Œæˆåˆ’åˆ†çš„è¿™äº›äº‹æƒ…ï¼Œè°å°±ç›¸å½“ä¸å®ç°äº†è¿™ä¸ªæ¥å£ Go ä¸€ä¸ªç±»å‹å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼ˆèƒ½åŠ›é«˜çš„äººèƒ½å¤Ÿå®Œæˆæ›´å¤šæƒ³è¦åšçš„äº‹æƒ…ï¼‰ ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:1","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#11-ç›¸å…³æ¦‚å¿µ"},{"categories":["Golang"],"content":" 1.2 æ¥å£çš„å†™æ³• 1.2.1 æ­£å¸¸å®ç° // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } // ... å…¶ä»–æ¥å£ ä¾‹å¦‚ï¼Œä¸€ä¸ªç¨‹åºå‘˜éœ€è¦ä¼šç¼–ç ã€å­¦ä¹ â€¦ï¼Œä¸€ä¸ªç”»å®¶éœ€è¦ä¼šè§‚å¯Ÿã€ç”»ç”»â€¦ å¦‚æœæœ‰ä¸ªäººå…·å¤‡ç¨‹åºå‘˜è·Ÿç”»å®¶çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆä»–å°±èƒ½å®ç°è¿™ä¸¤ä¸ªæ¥å£ type Honghuiqiang struct { Name string } func (h *Honghuiqiang) Coding() string { return \"i can coding...\" } func (h *Honghuiqiang) Study() string { return \"i can study...\" } func (h *Honghuiqiang) Observing() string { return \"i can observing\" } func (h *Honghuiqiang) Painting() string { return \"i can painting...\" } 1.2.2 åµŒå¥—æ¥å£ å…¶å®å°±æ˜¯æ¥å£çš„ç»„åˆ // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } type Artist interface { Programmer Painter } Artist æ¥å£å°±ç­‰åŒäºï¼š type Artist interface { Coding() string Study() string Observing() string Painting() string } 1.2.3 ç©ºæ¥å£","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:2","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#12-æ¥å£çš„å†™æ³•"},{"categories":["Golang"],"content":" 1.2 æ¥å£çš„å†™æ³• 1.2.1 æ­£å¸¸å®ç° // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } // ... å…¶ä»–æ¥å£ ä¾‹å¦‚ï¼Œä¸€ä¸ªç¨‹åºå‘˜éœ€è¦ä¼šç¼–ç ã€å­¦ä¹ â€¦ï¼Œä¸€ä¸ªç”»å®¶éœ€è¦ä¼šè§‚å¯Ÿã€ç”»ç”»â€¦ å¦‚æœæœ‰ä¸ªäººå…·å¤‡ç¨‹åºå‘˜è·Ÿç”»å®¶çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆä»–å°±èƒ½å®ç°è¿™ä¸¤ä¸ªæ¥å£ type Honghuiqiang struct { Name string } func (h *Honghuiqiang) Coding() string { return \"i can coding...\" } func (h *Honghuiqiang) Study() string { return \"i can study...\" } func (h *Honghuiqiang) Observing() string { return \"i can observing\" } func (h *Honghuiqiang) Painting() string { return \"i can painting...\" } 1.2.2 åµŒå¥—æ¥å£ å…¶å®å°±æ˜¯æ¥å£çš„ç»„åˆ // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } type Artist interface { Programmer Painter } Artist æ¥å£å°±ç­‰åŒäºï¼š type Artist interface { Coding() string Study() string Observing() string Painting() string } 1.2.3 ç©ºæ¥å£","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:2","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#121-æ­£å¸¸å®ç°"},{"categories":["Golang"],"content":" 1.2 æ¥å£çš„å†™æ³• 1.2.1 æ­£å¸¸å®ç° // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } // ... å…¶ä»–æ¥å£ ä¾‹å¦‚ï¼Œä¸€ä¸ªç¨‹åºå‘˜éœ€è¦ä¼šç¼–ç ã€å­¦ä¹ â€¦ï¼Œä¸€ä¸ªç”»å®¶éœ€è¦ä¼šè§‚å¯Ÿã€ç”»ç”»â€¦ å¦‚æœæœ‰ä¸ªäººå…·å¤‡ç¨‹åºå‘˜è·Ÿç”»å®¶çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆä»–å°±èƒ½å®ç°è¿™ä¸¤ä¸ªæ¥å£ type Honghuiqiang struct { Name string } func (h *Honghuiqiang) Coding() string { return \"i can coding...\" } func (h *Honghuiqiang) Study() string { return \"i can study...\" } func (h *Honghuiqiang) Observing() string { return \"i can observing\" } func (h *Honghuiqiang) Painting() string { return \"i can painting...\" } 1.2.2 åµŒå¥—æ¥å£ å…¶å®å°±æ˜¯æ¥å£çš„ç»„åˆ // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } type Artist interface { Programmer Painter } Artist æ¥å£å°±ç­‰åŒäºï¼š type Artist interface { Coding() string Study() string Observing() string Painting() string } 1.2.3 ç©ºæ¥å£","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:2","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#122-åµŒå¥—æ¥å£"},{"categories":["Golang"],"content":" 1.2 æ¥å£çš„å†™æ³• 1.2.1 æ­£å¸¸å®ç° // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } // ... å…¶ä»–æ¥å£ ä¾‹å¦‚ï¼Œä¸€ä¸ªç¨‹åºå‘˜éœ€è¦ä¼šç¼–ç ã€å­¦ä¹ â€¦ï¼Œä¸€ä¸ªç”»å®¶éœ€è¦ä¼šè§‚å¯Ÿã€ç”»ç”»â€¦ å¦‚æœæœ‰ä¸ªäººå…·å¤‡ç¨‹åºå‘˜è·Ÿç”»å®¶çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆä»–å°±èƒ½å®ç°è¿™ä¸¤ä¸ªæ¥å£ type Honghuiqiang struct { Name string } func (h *Honghuiqiang) Coding() string { return \"i can coding...\" } func (h *Honghuiqiang) Study() string { return \"i can study...\" } func (h *Honghuiqiang) Observing() string { return \"i can observing\" } func (h *Honghuiqiang) Painting() string { return \"i can painting...\" } 1.2.2 åµŒå¥—æ¥å£ å…¶å®å°±æ˜¯æ¥å£çš„ç»„åˆ // ç¨‹åºå‘˜æ¥å£ type Programmer interface { // ä¸€ç³»åˆ—çš„æ–¹æ³•å®šä¹‰ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æƒ³è¦åšçš„äº‹æƒ…ï¼ˆæˆ–è€…è¯´èƒ½å¤Ÿåšåˆ°çš„äº‹æƒ…ï¼‰ Coding() string Study() string //... } // ç”»å®¶æ¥å£ type Painter interface { Observing() string Painting() string //... } type Artist interface { Programmer Painter } Artist æ¥å£å°±ç­‰åŒäºï¼š type Artist interface { Coding() string Study() string Observing() string Painting() string } 1.2.3 ç©ºæ¥å£","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:2","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#123-ç©ºæ¥å£"},{"categories":["Golang"],"content":" 1.3 æ¥å£å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ 1.3.1 å¦‚ä½•åˆ©ç”¨æ¥å£ç¼–å†™æ›´å¹²å‡€ã€æ›´å…·æ‰©å±•æ€§çš„ä»£ç ï¼Ÿ 1.3.1.1 Example 1. æ’åº 1.3.2 å®ç°å¤šæ€ å¤šæ€ï¼šä¸€ä¸ªæ–¹æ³•çš„å¤šç§çŠ¶æ€ type Stringer interface { Cut(s string) string } type CuterA struct { target string } type CuterB struct { target string } func (a CuterA) Cut(s string) string { return strings.Replace(s, a.target, \"\", -1) } func (b CuterB) Cut(s string) string { return strings.Replace(s, b.target, \"\", -1) } func cut(s string, t Stringer) string { return t.Cut(s) } func P2_1() { var a Stringer = CuterA{target: \"a\"} var b Stringer = CuterB{target: \"b\"} fmt.Println(cut(\"ababab\", a)) fmt.Println(cut(\"ababab\", b)) /* ç›¸åŒçš„ cut æ–¹æ³•æ ¹æ®ç±»å‹çš„ä¸åŒä½“ç°å‡ºä¸åŒçš„è¡Œä¸º rst: bbb aaa */ } ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:3","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#13-æ¥å£å¯ä»¥ç”¨æ¥åšä»€ä¹ˆ"},{"categories":["Golang"],"content":" 1.3 æ¥å£å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ 1.3.1 å¦‚ä½•åˆ©ç”¨æ¥å£ç¼–å†™æ›´å¹²å‡€ã€æ›´å…·æ‰©å±•æ€§çš„ä»£ç ï¼Ÿ 1.3.1.1 Example 1. æ’åº 1.3.2 å®ç°å¤šæ€ å¤šæ€ï¼šä¸€ä¸ªæ–¹æ³•çš„å¤šç§çŠ¶æ€ type Stringer interface { Cut(s string) string } type CuterA struct { target string } type CuterB struct { target string } func (a CuterA) Cut(s string) string { return strings.Replace(s, a.target, \"\", -1) } func (b CuterB) Cut(s string) string { return strings.Replace(s, b.target, \"\", -1) } func cut(s string, t Stringer) string { return t.Cut(s) } func P2_1() { var a Stringer = CuterA{target: \"a\"} var b Stringer = CuterB{target: \"b\"} fmt.Println(cut(\"ababab\", a)) fmt.Println(cut(\"ababab\", b)) /* ç›¸åŒçš„ cut æ–¹æ³•æ ¹æ®ç±»å‹çš„ä¸åŒä½“ç°å‡ºä¸åŒçš„è¡Œä¸º rst: bbb aaa */ } ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:3","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#131-å¦‚ä½•åˆ©ç”¨æ¥å£ç¼–å†™æ›´å¹²å‡€æ›´å…·æ‰©å±•æ€§çš„ä»£ç "},{"categories":["Golang"],"content":" 1.3 æ¥å£å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ 1.3.1 å¦‚ä½•åˆ©ç”¨æ¥å£ç¼–å†™æ›´å¹²å‡€ã€æ›´å…·æ‰©å±•æ€§çš„ä»£ç ï¼Ÿ 1.3.1.1 Example 1. æ’åº 1.3.2 å®ç°å¤šæ€ å¤šæ€ï¼šä¸€ä¸ªæ–¹æ³•çš„å¤šç§çŠ¶æ€ type Stringer interface { Cut(s string) string } type CuterA struct { target string } type CuterB struct { target string } func (a CuterA) Cut(s string) string { return strings.Replace(s, a.target, \"\", -1) } func (b CuterB) Cut(s string) string { return strings.Replace(s, b.target, \"\", -1) } func cut(s string, t Stringer) string { return t.Cut(s) } func P2_1() { var a Stringer = CuterA{target: \"a\"} var b Stringer = CuterB{target: \"b\"} fmt.Println(cut(\"ababab\", a)) fmt.Println(cut(\"ababab\", b)) /* ç›¸åŒçš„ cut æ–¹æ³•æ ¹æ®ç±»å‹çš„ä¸åŒä½“ç°å‡ºä¸åŒçš„è¡Œä¸º rst: bbb aaa */ } ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:3","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#1311-example-1-æ’åº"},{"categories":["Golang"],"content":" 1.3 æ¥å£å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ 1.3.1 å¦‚ä½•åˆ©ç”¨æ¥å£ç¼–å†™æ›´å¹²å‡€ã€æ›´å…·æ‰©å±•æ€§çš„ä»£ç ï¼Ÿ 1.3.1.1 Example 1. æ’åº 1.3.2 å®ç°å¤šæ€ å¤šæ€ï¼šä¸€ä¸ªæ–¹æ³•çš„å¤šç§çŠ¶æ€ type Stringer interface { Cut(s string) string } type CuterA struct { target string } type CuterB struct { target string } func (a CuterA) Cut(s string) string { return strings.Replace(s, a.target, \"\", -1) } func (b CuterB) Cut(s string) string { return strings.Replace(s, b.target, \"\", -1) } func cut(s string, t Stringer) string { return t.Cut(s) } func P2_1() { var a Stringer = CuterA{target: \"a\"} var b Stringer = CuterB{target: \"b\"} fmt.Println(cut(\"ababab\", a)) fmt.Println(cut(\"ababab\", b)) /* ç›¸åŒçš„ cut æ–¹æ³•æ ¹æ®ç±»å‹çš„ä¸åŒä½“ç°å‡ºä¸åŒçš„è¡Œä¸º rst: bbb aaa */ } ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:3","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#132-å®ç°å¤šæ€"},{"categories":["Golang"],"content":" 1.4 ç±»å‹æ–­è¨€æ—¢ç„¶ä¸€ä¸ªæ¥å£å¯ä»¥è¢«å¤šä¸ªç±»å‹å®ç°ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿå¯¹äºæ¥å£å®é™…ç±»å‹çš„ä¸€ä¸ªåˆ¤æ–­ï¼Œå³ç±»å‹æ–­è¨€ æ¯”è¾ƒå¥½çš„å†™æ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š if v, ok := varT.(T); ok { // ... } ç»“æ„ï¼š ä¾‹å­ï¼š // Stringer is Interface var a Stringer = CuterA{target: \"a\"} var b Stringer = CuterB{target: \"b\"} var s = []Stringer{a, b} for i, c := range s { if v, ok := c.(CuterA); ok { fmt.Printf(\"åˆ¤æ–­æ˜¯ç±»å‹ CuterA æˆåŠŸ(ä¸‹æ ‡: %d; å€¼: %v)\", i, v) } } /* rst: åˆ¤æ–­æ˜¯ç±»å‹ CuterA æˆåŠŸ(ä¸‹æ ‡: 0; å€¼: {a}) */ ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:1:4","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#14-ç±»å‹æ–­è¨€"},{"categories":["Golang"],"content":" Q\u0026A ","date":"2023-05-12","objectID":"/202305121222-%E6%8E%A5%E5%8F%A3/:2:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["interface"],"title":"æ¥å£","uri":"/202305121222-%E6%8E%A5%E5%8F%A3/#qa"},{"categories":["Golang"],"content":"#ä»£ç ç‰‡æ®µ ","date":"2023-05-12","objectID":"/202305121204-%E6%97%B6%E9%97%B4%E8%BD%AE-%E4%BB%A3%E7%A0%81demo/:0:0","series":["Golangä»£ç ç‰‡æ®µ"],"tags":["ä»£ç ç‰‡æ®µ"],"title":"æ—¶é—´è½® ä»£ç demo","uri":"/202305121204-%E6%97%B6%E9%97%B4%E8%BD%AE-%E4%BB%A3%E7%A0%81demo/#"},{"categories":["Golang"],"content":" å‰ç½®å­¦ä¹ go å®šæ—¶å™¨ ticker çš„å­¦ä¹  func UseTicker() { ticker := time.NewTicker(1 * time.Second) done := make(chan bool) // æ— ç¼“å†²é€šé“ go func() { for { select { case \u003c-done: return case t := \u003c-ticker.C: fmt.Println(\"Tick at\", t) } } }() time.Sleep(5 * time.Second) ticker.Stop() done \u003c- true fmt.Println(\"Ticker stopped\") } ### è¿è¡Œç»“æœï¼š Tick at 2022-02-16 18:46:43.4509023 +0800 CST m=+1.007881901 Tick at 2022-02-16 18:46:44.4605044 +0800 CST m=+2.017484001 Tick at 2022-02-16 18:46:45.453441 +0800 CST m=+3.010420601 Tick at 2022-02-16 18:46:46.4586463 +0800 CST m=+4.015625901 Tick at 2022-02-16 18:46:47.4515569 +0800 CST m=+5.008536501 Ticker stopped ","date":"2023-05-12","objectID":"/202305121204-%E6%97%B6%E9%97%B4%E8%BD%AE-%E4%BB%A3%E7%A0%81demo/:1:0","series":["Golangä»£ç ç‰‡æ®µ"],"tags":["ä»£ç ç‰‡æ®µ"],"title":"æ—¶é—´è½® ä»£ç demo","uri":"/202305121204-%E6%97%B6%E9%97%B4%E8%BD%AE-%E4%BB%A3%E7%A0%81demo/#å‰ç½®å­¦ä¹ "},{"categories":["Golang"],"content":" ä»£ç  package practice import ( \"TimeWheel/pkg/models\" \"TimeWheel/pkg/utils\" \"fmt\" \"log\" \"math\" \"sync\" \"time\" ) type TimingHandler func(taskId string) error type TimingWheel struct { slot int interval time.Duration size int // å¯å­˜æ”¾ä»»åŠ¡çš„æ•°é‡ tasks []sync.Map stop chan struct{} } type TimingTask struct { round int createdAt time.Time // ä»»åŠ¡åˆ›å»ºæ—¶é—´ callback TimingHandler // ä»»åŠ¡æ‰§è¡Œæ–¹æ³• } // NewTimingWheel æ–°å»ºä¸€ä¸ªæ—¶é—´è½® // interval æ—¶é—´ç²¾åº¦ // size tasksï¼ˆmapï¼‰å®¹é‡å¤§å° // è¿”å›ä¸€ä¸ªæ–°å»ºçš„æ—¶é—´è½®ï¼Œå¹¶ä¸”å¼€å§‹ scheduler è°ƒåº¦ä»»åŠ¡ï¼Œæ¯ interval çš„æ—¶é—´é—´éš”åšä»¥ä¸‹æ“ä½œï¼š // slot+1ï¼ˆåœ¨ size å€¼å†…åšå¾ªç¯ï¼‰ // run(slot)ï¼šè·å– slot ä¸‹æ ‡çš„ä»»åŠ¡ï¼Œæ‰§è¡Œè¯¥ä»»åŠ¡ func NewTimingWheel(interval time.Duration, size int) *TimingWheel { if interval \u003c time.Second { interval = time.Second log.Println(\"æœ€ä½ç²¾åº¦ï¼š 1s\") } tw := \u0026TimingWheel{ interval: interval, size: size, tasks: make([]sync.Map, size), stop: make(chan struct{}), } go tw.scheduler() return tw } func (tw *TimingWheel) AddTask(taskId string, callback TimingHandler, delay time.Duration) { select { case \u003c-tw.stop: fmt.Println(\"TimingWheel is stopped\") return default: } if delay \u003c tw.interval { log.Println(\"æœ€å°ç²¾åº¦ï¼š1s\") if delay \u003c= 0 { if err := callback(taskId); err !=nil { log.Println(fmt.Sprintf(\"TimingWheel task [%s] run error: %+v\", taskId, err)) return } log.Println(fmt.Sprintf(\"TimingWheel task [%s] run success, delay: %d\", taskId, delay)) return } } task := \u0026TimingTask{ createdAt: time.Now(), callback: callback, } slot := tw.calcSlot(task, delay) // è®¡ç®— slot tw.tasks[slot].Store(taskId, task) // å­˜å…¥ä»»åŠ¡ } func (tw *TimingWheel) Stop() { select { case \u003c-tw.stop: log.Println(\"TimingWheel has stopped\") return default: close(tw.stop) } } // calcSlot è®¡ç®— slot --\u003e ä»»åŠ¡åœ¨ tasks ä¸­çš„ä¸‹æ ‡ï¼Œè®¾ç½® task çš„ roundï¼ˆè½®æ•°ï¼‰ func (tw *TimingWheel) calcSlot(task *TimingTask, delay time.Duration) int { interval := int(tw.interval.Seconds()) // ç§’æ•° roundTime := interval * tw.size // ç§’ * size ï¼ˆéå†ä¸€è½® tasks éœ€è¦çš„æ—¶é—´ï¼‰ delayT := int(math.Ceil(delay.Seconds())) // å¤§äºæˆ–ç­‰äº delay ç§’æ•°çš„æœ€å°æ•´æ•° // å¦‚æœå»¶æ—¶æ—¶é—´ \u003e éå†ä¸€è½® tasks çš„æ—¶é—´ // åˆ™éœ€è¦è®¾ç½®è¯¥ task çš„è½®æ•° // e.g. å»¶æ—¶æ—¶é—´ = 11ï¼Œéå†ä¸€è½®çš„æ—¶é—´ = 5 // åˆ™ è½®æ•° = 11 / 5 = 2ï¼Œdelay = 1ï¼Œslot = 1 // 1 2 3 4 0 1 2 3 4 0 1 2 3 4 // â†‘ if delayT \u003e roundTime { task.round = delayT / roundTime delayT = delayT % roundTime if delayT == 0 { task.round -- } } return (tw.slot + delayT/interval) % tw.size } func (tw *TimingWheel) scheduler() { // æ¯æŒ‡å®šé—´éš”æ‰§è¡Œçš„å®šæ—¶å™¨ ticker := time.NewTicker(tw.interval) defer ticker.Stop() for { select { case \u003c-tw.stop: log.Println(fmt.Sprintf(\"TimingWheel stopped. time: %s\", time.Now().String())) return case \u003c-ticker.C: tw.slot = (tw.slot + 1) % tw.size log.Println(fmt.Sprintf(\"go tw.run(%d)\", tw.slot)) go tw.run(tw.slot) } } } func (tw *TimingWheel) run(slot int) { taskT := tw.tasks[slot] // éå† taskT.Range(func(key, value interface{}) bool { taskId := key.(string) task := value.(*TimingTask) // è½®æ•°å€’è®¡æ—¶ if task.round \u003e 0{ task.round-- return true } go func() { if err := task.callback(taskId); err != nil { log.Println(fmt.Sprintf(\"TimingWheel task [%s] run error: %+v\", taskId, err)) return } log.Println(fmt.Sprintf(\"TimingWheel task [%s] run success\", taskId)) //return }() taskT.Delete(key) return true }) } func TestTimingWheel() { utils.InitDB() utils.InitTable() var SecondTW *TimingWheel SecondTW = NewTimingWheel(time.Second, 10) taskId := utils.GenerateId(\"task\", 10) mainTime := time.Now() fmt.Println(\"main: \", mainTime) delay := 30 SecondTW.AddTask(taskId, func(taskId string) error { //defer SecondTW.Stop() // æ‰§è¡Œä»»åŠ¡ä¹‹åï¼Œå…³é—­è¯¥æ—¶é—´è½® task := \u0026models.Task{ TaskId: taskId, MainTime: mainTime, Delay: delay, } if err := utils.DB.Model(models.Task{}).Create(task).Error; err != nil { log.Println(fmt.Sprintf(\"create task error: %+v\", err)) return err } return nil }, time.Duration(delay)*time.Second) } ","date":"2023-05-12","objectID":"/202305121204-%E6%97%B6%E9%97%B4%E8%BD%AE-%E4%BB%A3%E7%A0%81demo/:2:0","series":["Golangä»£ç ç‰‡æ®µ"],"tags":["ä»£ç ç‰‡æ®µ"],"title":"æ—¶é—´è½® ä»£ç demo","uri":"/202305121204-%E6%97%B6%E9%97%B4%E8%BD%AE-%E4%BB%A3%E7%A0%81demo/#ä»£ç "},{"categories":["Linux"],"content":"#linux ","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:0:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#"},{"categories":["Linux"],"content":" ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº ","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:1:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº"},{"categories":["Linux"],"content":" ç£ç›˜åˆ†åŒº","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:2:0","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#ç£ç›˜åˆ†åŒº"},{"categories":["Linux"],"content":" å¸¸è§çš„ç£ç›˜æ¥å£ IDEï¼ˆå‡ ä¹è§ä¸åˆ°äº†ï¼‰ SATA SCSI SAS ","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:2:1","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#å¸¸è§çš„ç£ç›˜æ¥å£"},{"categories":["Linux"],"content":" ç£ç›˜çš„ç»„æˆ ç›˜ç‰‡ï¼ˆæ•°æ®å­˜æ”¾çš„ä½ç½®ï¼‰ æ‰‡åŒºçš„ä¸¤ç§å•ä½ï¼š512Bytesã€4K Bytes æœºæ¢°æ‰‹è‡‚ ç£å¤´ ä¸»è½´é©¬è¾¾ ","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:2:2","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#ç£ç›˜çš„ç»„æˆ"},{"categories":["Linux"],"content":" ç£ç›˜åˆ†åŒºè¡¨æ ¼å¼ MBRï¼ˆMaster Boot Recordï¼‰ï¼šç¬¬ä¸€ä¸ªæ‰‡åŒºå­˜å‚¨é‡è¦ä¿¡æ¯ åˆ†åŒºçš„ä½œç”¨ï¼Ÿ ä¸¤ç§åˆ†åŒºï¼š ä¸»åˆ†åŒºï¼ˆPrimaryï¼‰ æ‰©å±•åˆ†åŒºï¼ˆExtendï¼‰ æ‰©å±•åˆ†åŒºçš„ä¸åŒå°±æ˜¯èƒ½å¤Ÿåˆ’åˆ†å¾ˆå¤šçš„é€»è¾‘åˆ†åŒº å¦‚æœæŠŠç£ç›˜åˆ†æˆå››ä¸ªåˆ†åŒºï¼Œæ–¹å¼åªæœ‰ä¸¤ç§ï¼š PPPP æˆ–è€… PPPEï¼ŒExtend åˆ†åŒºåªèƒ½æœ‰ä¸€ä¸ª ä¸ºä»€ä¹ˆ 64 Byteçš„åˆ†åŒºè¡¨åªèƒ½è®°å½•å››ç»„ä¿¡æ¯ï¼Ÿ ä¸€ä¸ªåˆ†åŒºè®°å½•éœ€è¦16Byte å®è·µ - ç»™ç£ç›˜ sdd åˆ›å»º 4 ä¸ª P åˆ†åŒº å½“æˆ‘æƒ³è¦å†å¤šåˆ›å»ºä¸€ä¸ªåˆ†åŒºçš„æ—¶å€™ï¼Œå·²ç»ä¸è¡Œäº†ï¼Œå¦‚æœæƒ³è¦åˆ›å»ºæ›´å¤šçš„åˆ†åŒºï¼Œéœ€è¦æŠŠå…¶ä¸­çš„ä¸€ä¸ª P åˆ†åŒºæ¢æˆ E åˆ†åŒº å½“æˆ‘æŠŠç¬¬å››ä¸ªåˆ†åŒºæ¢æˆ E åˆ†åŒºä¹‹åï¼Œä½¿ç”¨ lsblk çœ‹è§çš„ sdd4 ä¸ºä»€ä¹ˆæ˜¯ 1K å¤§å°å‘¢ï¼Ÿ E åˆ†åŒºåˆ›å»ºä¹‹åï¼Œä¸èƒ½ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œè¿˜éœ€è¦åˆ›å»ºé€»è¾‘åˆ†åŒº å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»æœ‰äº† Pã€E åˆ†åŒºï¼Œç°åœ¨å°è¯•å¯¹ P åˆ†åŒºè¿›è¡ŒæŒ‚è½½ï¼Œæˆ–å‡ºç°ä¸‹é¢çš„é”™è¯¯ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç°åœ¨ç£ç›˜åªåˆ›å»ºäº†åˆ†åŒºï¼Œå¹¶æ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥æ— æ³•è¿›è¡ŒæŒ‚è½½ï¼Œåœ¨ sdd1 åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå†è¿›è¡ŒæŒ‚è½½ mount /dev/sdd1 /home/honghuiqiang/sdd1/ æŸ¥çœ‹æŒ‚è½½æƒ…å†µï¼š è¯•ä¸€ä¸‹æŒ‚è½½é€»è¾‘åˆ†åŒº sdd5ï¼Œä¸ä¸Šé¢ç›¸åŒ é‚£ä¹ˆ PPPE è¿™ç§å½¢å¼çš„åˆ†åŒºï¼Œé€»è¾‘åˆ†åŒºèƒ½å¤Ÿåˆ†å¤šå°‘ä¸ªåŒºï¼Ÿ ä¸ºä»€ä¹ˆèƒ½å¤Ÿè¿™ä¹ˆå¤šçš„åŒºå‡ºæ¥ï¼Œåˆ†åŒºè®°å½•æ˜¯æ€ä¹ˆè¢«å­˜å‚¨çš„ï¼Ÿ åªæœ‰ sdd4 æ˜¯å»¶ä¼¸åˆ†åŒºï¼Œå¤§å°ä¸º 1Kï¼Œç”¨æ¥è®°å½•é€»è¾‘åˆ†åŒºçš„ä¿¡æ¯ï¼Œå»¶ä¼¸åˆ†åŒºæœ¬èº«ä¸èƒ½ç”¨æ¥åšæ ¼å¼åŒ–ï¼Œä¸€ä¸ªåˆ†åŒºè®°å½•éœ€è¦å ç”¨ 16Byteï¼Œé‚£ä¹ˆ 1K å¤§å°çš„å»¶ä¼¸åˆ†åŒºæ˜¯ä¸æ˜¯åªèƒ½å­˜ 1K/16Bype = 64 ä¸ªåˆ†åŒºè®°å½•ï¼Ÿ å®è·µ2 sdd 8:48 0 20G 0 disk â”œâ”€sdd1 8:49 0 5G 0 part â”œâ”€sdd2 8:50 0 5G 0 part â”œâ”€sdd3 8:51 0 5G 0 part â”œâ”€sdd4 8:52 0 1K 0 part â”œâ”€sdd5 8:53 0 1G 0 part â”œâ”€sdd6 8:54 0 1G 0 part â”œâ”€sdd7 8:55 0 10M 0 part â”œâ”€sdd8 8:56 0 10M 0 part â”œâ”€sdd9 8:57 0 10M 0 part â”œâ”€sdd10 8:58 0 10M 0 part â”œâ”€sdd11 8:59 0 10M 0 part â”œâ”€sdd12 8:60 0 10M 0 part â”œâ”€sdd13 8:61 0 10M 0 part â”œâ”€sdd14 8:62 0 10M 0 part â”œâ”€sdd15 8:63 0 10M 0 part â”œâ”€sdd16 259:0 0 10M 0 part â”œâ”€sdd17 259:1 0 10M 0 part â”œâ”€sdd18 259:2 0 10M 0 part â”œâ”€sdd19 259:3 0 10M 0 part â”œâ”€sdd20 259:4 0 10M 0 part â”œâ”€sdd21 259:5 0 10M 0 part â”œâ”€sdd22 259:6 0 10M 0 part â”œâ”€sdd23 259:7 0 10M 0 part â”œâ”€sdd24 259:8 0 10M 0 part â”œâ”€sdd25 259:9 0 10M 0 part â”œâ”€sdd26 259:10 0 10M 0 part â”œâ”€sdd27 259:11 0 10M 0 part â”œâ”€sdd28 259:12 0 10M 0 part â”œâ”€sdd29 259:13 0 10M 0 part â”œâ”€sdd30 259:14 0 10M 0 part â”œâ”€sdd31 259:15 0 10M 0 part â”œâ”€sdd32 259:16 0 10M 0 part â”œâ”€sdd33 259:17 0 10M 0 part â”œâ”€sdd34 259:18 0 10M 0 part â”œâ”€sdd35 259:19 0 10M 0 part â”œâ”€sdd36 259:20 0 10M 0 part â”œâ”€sdd37 259:21 0 10M 0 part â”œâ”€sdd38 259:22 0 10M 0 part â”œâ”€sdd39 259:23 0 10M 0 part â”œâ”€sdd40 259:24 0 10M 0 part â”œâ”€sdd41 259:25 0 10M 0 part â”œâ”€sdd42 259:26 0 10M 0 part â”œâ”€sdd43 259:27 0 10M 0 part â”œâ”€sdd44 259:28 0 10M 0 part â”œâ”€sdd45 259:29 0 10M 0 part â”œâ”€sdd46 259:30 0 10M 0 part â”œâ”€sdd47 259:31 0 10M 0 part â”œâ”€sdd48 259:32 0 10M 0 part â”œâ”€sdd49 259:33 0 10M 0 part â”œâ”€sdd50 259:34 0 10M 0 part â”œâ”€sdd51 259:35 0 10M 0 part â”œâ”€sdd52 259:36 0 10M 0 part â”œâ”€sdd53 259:37 0 10M 0 part â”œâ”€sdd54 259:38 0 10M 0 part â”œâ”€sdd55 259:39 0 10M 0 part â”œâ”€sdd56 259:40 0 10M 0 part â”œâ”€sdd57 259:41 0 10M 0 part â”œâ”€sdd58 259:42 0 10M 0 part â”œâ”€sdd59 259:43 0 10M 0 part â””â”€sdd60 259:44 0 10M 0 part åœ¨åˆ›å»ºäº† 60 ä¸ªåˆ†åŒºåï¼Œä¸èƒ½ç»§ç»­åˆ›å»ºäº† é‚£ä¹ˆæ˜¯è°å—åˆ°äº†é™åˆ¶å‘¢ï¼Ÿ åˆ é™¤ä¸€ä¸ª P åˆ†åŒº sdd2 ä¹‹åå°è¯•åˆ›å»ºï¼š æç¤ºæ‰€æœ‰çš„é€»è¾‘åˆ†åŒºåœ¨ä½¿ç”¨ä¸­ï¼Œåˆ›å»ºå‡ºæ¥çš„æ˜¯ä¸€ä¸ª P åˆ†åŒº åˆ é™¤ä¸€ä¸ª E åˆ†åŒº sdd59 ä¹‹åå°è¯•åˆ›å»ºåˆ†åŒºï¼š åˆ›å»ºå‡ºæ¥çš„æ˜¯é€»è¾‘åˆ†åŒº è¿™æ ·å…¶å®è¿˜æ˜¯æ²¡ææ˜ç™½æ˜¯è°æ”¶åˆ°äº†é™åˆ¶ï¼Œä½¿ç”¨ä¸€ä¸ªæ–°çš„ç›˜ï¼Œåªåˆ›å»ºæ‰©å±•åˆ†åŒº åˆ›å»ºæ‰©å±•åˆ†åŒºçš„æ—¶å€™æŒ‡å®šäº†100Mï¼Œä¸ºä»€ä¹ˆåˆ›å»ºäº†90Mçš„åˆ†åŒºåå°±ä¸èƒ½åœ¨åˆ›å»ºäº†ï¼ˆæç¤ºæ²¡æœ‰å‰©ä½™ç©ºé—´ï¼‰ æŸ¥çœ‹ä¸€ä¸‹è¿™ä¹ä¸ªé€»è¾‘åˆ†åŒºçš„è¯¦ç»†æƒ…å†µï¼š å‘ç°å…¶å®æ¯ä¸ªåˆ†åŒºçš„åœ°å€å¤´å°¾å¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œä¸­é—´å­˜åœ¨ä¸€ç‚¹ç¼éš™ï¼Œå› æ­¤æ²¡æœ‰åŠæ³•å†åˆ†å‡ºä¸€ä¸ª 10M çš„åˆ†åŒºä¹Ÿå°±å¯ä»¥è§£é‡Šäº†ï¼Œä½†æ˜¯æ–°çš„ç–‘é—®åˆæ¥äº†ï¼Œä¸ºä»€ä¹ˆä¸­é—´æœ‰å­˜åœ¨ä¸€ç‚¹ç¼éš™å‘¢ï¼Œæœ‰ç”¨æ¥å­˜å‚¨ä¸œè¥¿å—ï¼Ÿ ä»”ç»†è§‚å¯Ÿå‘ç°æ¯ä¸ªé—´éš”çš„å¤§å°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ 2049ï¼ˆ1.000488â€¦Mï¼‰ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ•°ï¼Ÿ\\ å…ˆæ¥çœ‹è¿™è¾¹çš„å•ä½æ˜¯æ€ä¹ˆç®—çš„ Blocks è¿™è¾¹çš„å•ä½åº”è¯¥æ˜¯ K è€Œ Startã€End çš„å•ä½åº”è¯¥æ˜¯ 512 byteï¼Œè®¡ç®— sde5 çš„å¤§å°åº”è¯¥æ˜¯ï¼š (24575-4096)/2/1024=9.9995117â€¦M è¿™ç§åˆ†åŒºæ–¹å¼æœ€å¤šèƒ½ç”¨åœ¨å¤šå¤§çš„ç£ç›˜ä¸Šï¼Ÿ 2T æ¯ä¸€æ¡16byteçš„åˆ†åŒºè®°å½•é‡Œï¼Œæœ‰å››ä¸ªå­—èŠ‚ç”¨æ¥è®°å½•åˆ†åŒºèµ·å§‹çš„ç›¸å¯¹æ‰‡åŒºå·ï¼Œè¿™ä¸ªä¹Ÿå°±æ˜¯ç£ç›˜å¤§å°çš„ä¸Šé™ 4byte = 4 * 8 bit= 32 bit å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•°ä¸º 2^32 = 4294967296 æ¯ä¸ªæ‰‡åŒºå¤§å°ä¸º 512 byte å› æ­¤æœ€å¤§ç£ç›˜å¤§å°ä¸º 4294967296 / 2 = 2147483648 K ","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:2:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#ç£ç›˜åˆ†åŒºè¡¨æ ¼å¼"},{"categories":["Linux"],"content":" ç£ç›˜åˆ†åŒºè¡¨æ ¼å¼ MBRï¼ˆMaster Boot Recordï¼‰ï¼šç¬¬ä¸€ä¸ªæ‰‡åŒºå­˜å‚¨é‡è¦ä¿¡æ¯ åˆ†åŒºçš„ä½œç”¨ï¼Ÿ ä¸¤ç§åˆ†åŒºï¼š ä¸»åˆ†åŒºï¼ˆPrimaryï¼‰ æ‰©å±•åˆ†åŒºï¼ˆExtendï¼‰ æ‰©å±•åˆ†åŒºçš„ä¸åŒå°±æ˜¯èƒ½å¤Ÿåˆ’åˆ†å¾ˆå¤šçš„é€»è¾‘åˆ†åŒº å¦‚æœæŠŠç£ç›˜åˆ†æˆå››ä¸ªåˆ†åŒºï¼Œæ–¹å¼åªæœ‰ä¸¤ç§ï¼š PPPP æˆ–è€… PPPEï¼ŒExtend åˆ†åŒºåªèƒ½æœ‰ä¸€ä¸ª ä¸ºä»€ä¹ˆ 64 Byteçš„åˆ†åŒºè¡¨åªèƒ½è®°å½•å››ç»„ä¿¡æ¯ï¼Ÿ ä¸€ä¸ªåˆ†åŒºè®°å½•éœ€è¦16Byte å®è·µ - ç»™ç£ç›˜ sdd åˆ›å»º 4 ä¸ª P åˆ†åŒº å½“æˆ‘æƒ³è¦å†å¤šåˆ›å»ºä¸€ä¸ªåˆ†åŒºçš„æ—¶å€™ï¼Œå·²ç»ä¸è¡Œäº†ï¼Œå¦‚æœæƒ³è¦åˆ›å»ºæ›´å¤šçš„åˆ†åŒºï¼Œéœ€è¦æŠŠå…¶ä¸­çš„ä¸€ä¸ª P åˆ†åŒºæ¢æˆ E åˆ†åŒº å½“æˆ‘æŠŠç¬¬å››ä¸ªåˆ†åŒºæ¢æˆ E åˆ†åŒºä¹‹åï¼Œä½¿ç”¨ lsblk çœ‹è§çš„ sdd4 ä¸ºä»€ä¹ˆæ˜¯ 1K å¤§å°å‘¢ï¼Ÿ E åˆ†åŒºåˆ›å»ºä¹‹åï¼Œä¸èƒ½ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œè¿˜éœ€è¦åˆ›å»ºé€»è¾‘åˆ†åŒº å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»æœ‰äº† Pã€E åˆ†åŒºï¼Œç°åœ¨å°è¯•å¯¹ P åˆ†åŒºè¿›è¡ŒæŒ‚è½½ï¼Œæˆ–å‡ºç°ä¸‹é¢çš„é”™è¯¯ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç°åœ¨ç£ç›˜åªåˆ›å»ºäº†åˆ†åŒºï¼Œå¹¶æ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥æ— æ³•è¿›è¡ŒæŒ‚è½½ï¼Œåœ¨ sdd1 åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå†è¿›è¡ŒæŒ‚è½½ mount /dev/sdd1 /home/honghuiqiang/sdd1/ æŸ¥çœ‹æŒ‚è½½æƒ…å†µï¼š è¯•ä¸€ä¸‹æŒ‚è½½é€»è¾‘åˆ†åŒº sdd5ï¼Œä¸ä¸Šé¢ç›¸åŒ é‚£ä¹ˆ PPPE è¿™ç§å½¢å¼çš„åˆ†åŒºï¼Œé€»è¾‘åˆ†åŒºèƒ½å¤Ÿåˆ†å¤šå°‘ä¸ªåŒºï¼Ÿ ä¸ºä»€ä¹ˆèƒ½å¤Ÿè¿™ä¹ˆå¤šçš„åŒºå‡ºæ¥ï¼Œåˆ†åŒºè®°å½•æ˜¯æ€ä¹ˆè¢«å­˜å‚¨çš„ï¼Ÿ åªæœ‰ sdd4 æ˜¯å»¶ä¼¸åˆ†åŒºï¼Œå¤§å°ä¸º 1Kï¼Œç”¨æ¥è®°å½•é€»è¾‘åˆ†åŒºçš„ä¿¡æ¯ï¼Œå»¶ä¼¸åˆ†åŒºæœ¬èº«ä¸èƒ½ç”¨æ¥åšæ ¼å¼åŒ–ï¼Œä¸€ä¸ªåˆ†åŒºè®°å½•éœ€è¦å ç”¨ 16Byteï¼Œé‚£ä¹ˆ 1K å¤§å°çš„å»¶ä¼¸åˆ†åŒºæ˜¯ä¸æ˜¯åªèƒ½å­˜ 1K/16Bype = 64 ä¸ªåˆ†åŒºè®°å½•ï¼Ÿ å®è·µ2 sdd 8:48 0 20G 0 disk â”œâ”€sdd1 8:49 0 5G 0 part â”œâ”€sdd2 8:50 0 5G 0 part â”œâ”€sdd3 8:51 0 5G 0 part â”œâ”€sdd4 8:52 0 1K 0 part â”œâ”€sdd5 8:53 0 1G 0 part â”œâ”€sdd6 8:54 0 1G 0 part â”œâ”€sdd7 8:55 0 10M 0 part â”œâ”€sdd8 8:56 0 10M 0 part â”œâ”€sdd9 8:57 0 10M 0 part â”œâ”€sdd10 8:58 0 10M 0 part â”œâ”€sdd11 8:59 0 10M 0 part â”œâ”€sdd12 8:60 0 10M 0 part â”œâ”€sdd13 8:61 0 10M 0 part â”œâ”€sdd14 8:62 0 10M 0 part â”œâ”€sdd15 8:63 0 10M 0 part â”œâ”€sdd16 259:0 0 10M 0 part â”œâ”€sdd17 259:1 0 10M 0 part â”œâ”€sdd18 259:2 0 10M 0 part â”œâ”€sdd19 259:3 0 10M 0 part â”œâ”€sdd20 259:4 0 10M 0 part â”œâ”€sdd21 259:5 0 10M 0 part â”œâ”€sdd22 259:6 0 10M 0 part â”œâ”€sdd23 259:7 0 10M 0 part â”œâ”€sdd24 259:8 0 10M 0 part â”œâ”€sdd25 259:9 0 10M 0 part â”œâ”€sdd26 259:10 0 10M 0 part â”œâ”€sdd27 259:11 0 10M 0 part â”œâ”€sdd28 259:12 0 10M 0 part â”œâ”€sdd29 259:13 0 10M 0 part â”œâ”€sdd30 259:14 0 10M 0 part â”œâ”€sdd31 259:15 0 10M 0 part â”œâ”€sdd32 259:16 0 10M 0 part â”œâ”€sdd33 259:17 0 10M 0 part â”œâ”€sdd34 259:18 0 10M 0 part â”œâ”€sdd35 259:19 0 10M 0 part â”œâ”€sdd36 259:20 0 10M 0 part â”œâ”€sdd37 259:21 0 10M 0 part â”œâ”€sdd38 259:22 0 10M 0 part â”œâ”€sdd39 259:23 0 10M 0 part â”œâ”€sdd40 259:24 0 10M 0 part â”œâ”€sdd41 259:25 0 10M 0 part â”œâ”€sdd42 259:26 0 10M 0 part â”œâ”€sdd43 259:27 0 10M 0 part â”œâ”€sdd44 259:28 0 10M 0 part â”œâ”€sdd45 259:29 0 10M 0 part â”œâ”€sdd46 259:30 0 10M 0 part â”œâ”€sdd47 259:31 0 10M 0 part â”œâ”€sdd48 259:32 0 10M 0 part â”œâ”€sdd49 259:33 0 10M 0 part â”œâ”€sdd50 259:34 0 10M 0 part â”œâ”€sdd51 259:35 0 10M 0 part â”œâ”€sdd52 259:36 0 10M 0 part â”œâ”€sdd53 259:37 0 10M 0 part â”œâ”€sdd54 259:38 0 10M 0 part â”œâ”€sdd55 259:39 0 10M 0 part â”œâ”€sdd56 259:40 0 10M 0 part â”œâ”€sdd57 259:41 0 10M 0 part â”œâ”€sdd58 259:42 0 10M 0 part â”œâ”€sdd59 259:43 0 10M 0 part â””â”€sdd60 259:44 0 10M 0 part åœ¨åˆ›å»ºäº† 60 ä¸ªåˆ†åŒºåï¼Œä¸èƒ½ç»§ç»­åˆ›å»ºäº† é‚£ä¹ˆæ˜¯è°å—åˆ°äº†é™åˆ¶å‘¢ï¼Ÿ åˆ é™¤ä¸€ä¸ª P åˆ†åŒº sdd2 ä¹‹åå°è¯•åˆ›å»ºï¼š æç¤ºæ‰€æœ‰çš„é€»è¾‘åˆ†åŒºåœ¨ä½¿ç”¨ä¸­ï¼Œåˆ›å»ºå‡ºæ¥çš„æ˜¯ä¸€ä¸ª P åˆ†åŒº åˆ é™¤ä¸€ä¸ª E åˆ†åŒº sdd59 ä¹‹åå°è¯•åˆ›å»ºåˆ†åŒºï¼š åˆ›å»ºå‡ºæ¥çš„æ˜¯é€»è¾‘åˆ†åŒº è¿™æ ·å…¶å®è¿˜æ˜¯æ²¡ææ˜ç™½æ˜¯è°æ”¶åˆ°äº†é™åˆ¶ï¼Œä½¿ç”¨ä¸€ä¸ªæ–°çš„ç›˜ï¼Œåªåˆ›å»ºæ‰©å±•åˆ†åŒº åˆ›å»ºæ‰©å±•åˆ†åŒºçš„æ—¶å€™æŒ‡å®šäº†100Mï¼Œä¸ºä»€ä¹ˆåˆ›å»ºäº†90Mçš„åˆ†åŒºåå°±ä¸èƒ½åœ¨åˆ›å»ºäº†ï¼ˆæç¤ºæ²¡æœ‰å‰©ä½™ç©ºé—´ï¼‰ æŸ¥çœ‹ä¸€ä¸‹è¿™ä¹ä¸ªé€»è¾‘åˆ†åŒºçš„è¯¦ç»†æƒ…å†µï¼š å‘ç°å…¶å®æ¯ä¸ªåˆ†åŒºçš„åœ°å€å¤´å°¾å¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œä¸­é—´å­˜åœ¨ä¸€ç‚¹ç¼éš™ï¼Œå› æ­¤æ²¡æœ‰åŠæ³•å†åˆ†å‡ºä¸€ä¸ª 10M çš„åˆ†åŒºä¹Ÿå°±å¯ä»¥è§£é‡Šäº†ï¼Œä½†æ˜¯æ–°çš„ç–‘é—®åˆæ¥äº†ï¼Œä¸ºä»€ä¹ˆä¸­é—´æœ‰å­˜åœ¨ä¸€ç‚¹ç¼éš™å‘¢ï¼Œæœ‰ç”¨æ¥å­˜å‚¨ä¸œè¥¿å—ï¼Ÿ ä»”ç»†è§‚å¯Ÿå‘ç°æ¯ä¸ªé—´éš”çš„å¤§å°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ 2049ï¼ˆ1.000488â€¦Mï¼‰ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ•°ï¼Ÿ\\ å…ˆæ¥çœ‹è¿™è¾¹çš„å•ä½æ˜¯æ€ä¹ˆç®—çš„ Blocks è¿™è¾¹çš„å•ä½åº”è¯¥æ˜¯ K è€Œ Startã€End çš„å•ä½åº”è¯¥æ˜¯ 512 byteï¼Œè®¡ç®— sde5 çš„å¤§å°åº”è¯¥æ˜¯ï¼š (24575-4096)/2/1024=9.9995117â€¦M è¿™ç§åˆ†åŒºæ–¹å¼æœ€å¤šèƒ½ç”¨åœ¨å¤šå¤§çš„ç£ç›˜ä¸Šï¼Ÿ 2T æ¯ä¸€æ¡16byteçš„åˆ†åŒºè®°å½•é‡Œï¼Œæœ‰å››ä¸ªå­—èŠ‚ç”¨æ¥è®°å½•åˆ†åŒºèµ·å§‹çš„ç›¸å¯¹æ‰‡åŒºå·ï¼Œè¿™ä¸ªä¹Ÿå°±æ˜¯ç£ç›˜å¤§å°çš„ä¸Šé™ 4byte = 4 * 8 bit= 32 bit å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•°ä¸º 2^32 = 4294967296 æ¯ä¸ªæ‰‡åŒºå¤§å°ä¸º 512 byte å› æ­¤æœ€å¤§ç£ç›˜å¤§å°ä¸º 4294967296 / 2 = 2147483648 K ","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:2:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#å®è·µ---ç»™ç£ç›˜-sdd-åˆ›å»º-4-ä¸ª-p-åˆ†åŒº"},{"categories":["Linux"],"content":" ç£ç›˜åˆ†åŒºè¡¨æ ¼å¼ MBRï¼ˆMaster Boot Recordï¼‰ï¼šç¬¬ä¸€ä¸ªæ‰‡åŒºå­˜å‚¨é‡è¦ä¿¡æ¯ åˆ†åŒºçš„ä½œç”¨ï¼Ÿ ä¸¤ç§åˆ†åŒºï¼š ä¸»åˆ†åŒºï¼ˆPrimaryï¼‰ æ‰©å±•åˆ†åŒºï¼ˆExtendï¼‰ æ‰©å±•åˆ†åŒºçš„ä¸åŒå°±æ˜¯èƒ½å¤Ÿåˆ’åˆ†å¾ˆå¤šçš„é€»è¾‘åˆ†åŒº å¦‚æœæŠŠç£ç›˜åˆ†æˆå››ä¸ªåˆ†åŒºï¼Œæ–¹å¼åªæœ‰ä¸¤ç§ï¼š PPPP æˆ–è€… PPPEï¼ŒExtend åˆ†åŒºåªèƒ½æœ‰ä¸€ä¸ª ä¸ºä»€ä¹ˆ 64 Byteçš„åˆ†åŒºè¡¨åªèƒ½è®°å½•å››ç»„ä¿¡æ¯ï¼Ÿ ä¸€ä¸ªåˆ†åŒºè®°å½•éœ€è¦16Byte å®è·µ - ç»™ç£ç›˜ sdd åˆ›å»º 4 ä¸ª P åˆ†åŒº å½“æˆ‘æƒ³è¦å†å¤šåˆ›å»ºä¸€ä¸ªåˆ†åŒºçš„æ—¶å€™ï¼Œå·²ç»ä¸è¡Œäº†ï¼Œå¦‚æœæƒ³è¦åˆ›å»ºæ›´å¤šçš„åˆ†åŒºï¼Œéœ€è¦æŠŠå…¶ä¸­çš„ä¸€ä¸ª P åˆ†åŒºæ¢æˆ E åˆ†åŒº å½“æˆ‘æŠŠç¬¬å››ä¸ªåˆ†åŒºæ¢æˆ E åˆ†åŒºä¹‹åï¼Œä½¿ç”¨ lsblk çœ‹è§çš„ sdd4 ä¸ºä»€ä¹ˆæ˜¯ 1K å¤§å°å‘¢ï¼Ÿ E åˆ†åŒºåˆ›å»ºä¹‹åï¼Œä¸èƒ½ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œè¿˜éœ€è¦åˆ›å»ºé€»è¾‘åˆ†åŒº å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»æœ‰äº† Pã€E åˆ†åŒºï¼Œç°åœ¨å°è¯•å¯¹ P åˆ†åŒºè¿›è¡ŒæŒ‚è½½ï¼Œæˆ–å‡ºç°ä¸‹é¢çš„é”™è¯¯ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç°åœ¨ç£ç›˜åªåˆ›å»ºäº†åˆ†åŒºï¼Œå¹¶æ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥æ— æ³•è¿›è¡ŒæŒ‚è½½ï¼Œåœ¨ sdd1 åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå†è¿›è¡ŒæŒ‚è½½ mount /dev/sdd1 /home/honghuiqiang/sdd1/ æŸ¥çœ‹æŒ‚è½½æƒ…å†µï¼š è¯•ä¸€ä¸‹æŒ‚è½½é€»è¾‘åˆ†åŒº sdd5ï¼Œä¸ä¸Šé¢ç›¸åŒ é‚£ä¹ˆ PPPE è¿™ç§å½¢å¼çš„åˆ†åŒºï¼Œé€»è¾‘åˆ†åŒºèƒ½å¤Ÿåˆ†å¤šå°‘ä¸ªåŒºï¼Ÿ ä¸ºä»€ä¹ˆèƒ½å¤Ÿè¿™ä¹ˆå¤šçš„åŒºå‡ºæ¥ï¼Œåˆ†åŒºè®°å½•æ˜¯æ€ä¹ˆè¢«å­˜å‚¨çš„ï¼Ÿ åªæœ‰ sdd4 æ˜¯å»¶ä¼¸åˆ†åŒºï¼Œå¤§å°ä¸º 1Kï¼Œç”¨æ¥è®°å½•é€»è¾‘åˆ†åŒºçš„ä¿¡æ¯ï¼Œå»¶ä¼¸åˆ†åŒºæœ¬èº«ä¸èƒ½ç”¨æ¥åšæ ¼å¼åŒ–ï¼Œä¸€ä¸ªåˆ†åŒºè®°å½•éœ€è¦å ç”¨ 16Byteï¼Œé‚£ä¹ˆ 1K å¤§å°çš„å»¶ä¼¸åˆ†åŒºæ˜¯ä¸æ˜¯åªèƒ½å­˜ 1K/16Bype = 64 ä¸ªåˆ†åŒºè®°å½•ï¼Ÿ å®è·µ2 sdd 8:48 0 20G 0 disk â”œâ”€sdd1 8:49 0 5G 0 part â”œâ”€sdd2 8:50 0 5G 0 part â”œâ”€sdd3 8:51 0 5G 0 part â”œâ”€sdd4 8:52 0 1K 0 part â”œâ”€sdd5 8:53 0 1G 0 part â”œâ”€sdd6 8:54 0 1G 0 part â”œâ”€sdd7 8:55 0 10M 0 part â”œâ”€sdd8 8:56 0 10M 0 part â”œâ”€sdd9 8:57 0 10M 0 part â”œâ”€sdd10 8:58 0 10M 0 part â”œâ”€sdd11 8:59 0 10M 0 part â”œâ”€sdd12 8:60 0 10M 0 part â”œâ”€sdd13 8:61 0 10M 0 part â”œâ”€sdd14 8:62 0 10M 0 part â”œâ”€sdd15 8:63 0 10M 0 part â”œâ”€sdd16 259:0 0 10M 0 part â”œâ”€sdd17 259:1 0 10M 0 part â”œâ”€sdd18 259:2 0 10M 0 part â”œâ”€sdd19 259:3 0 10M 0 part â”œâ”€sdd20 259:4 0 10M 0 part â”œâ”€sdd21 259:5 0 10M 0 part â”œâ”€sdd22 259:6 0 10M 0 part â”œâ”€sdd23 259:7 0 10M 0 part â”œâ”€sdd24 259:8 0 10M 0 part â”œâ”€sdd25 259:9 0 10M 0 part â”œâ”€sdd26 259:10 0 10M 0 part â”œâ”€sdd27 259:11 0 10M 0 part â”œâ”€sdd28 259:12 0 10M 0 part â”œâ”€sdd29 259:13 0 10M 0 part â”œâ”€sdd30 259:14 0 10M 0 part â”œâ”€sdd31 259:15 0 10M 0 part â”œâ”€sdd32 259:16 0 10M 0 part â”œâ”€sdd33 259:17 0 10M 0 part â”œâ”€sdd34 259:18 0 10M 0 part â”œâ”€sdd35 259:19 0 10M 0 part â”œâ”€sdd36 259:20 0 10M 0 part â”œâ”€sdd37 259:21 0 10M 0 part â”œâ”€sdd38 259:22 0 10M 0 part â”œâ”€sdd39 259:23 0 10M 0 part â”œâ”€sdd40 259:24 0 10M 0 part â”œâ”€sdd41 259:25 0 10M 0 part â”œâ”€sdd42 259:26 0 10M 0 part â”œâ”€sdd43 259:27 0 10M 0 part â”œâ”€sdd44 259:28 0 10M 0 part â”œâ”€sdd45 259:29 0 10M 0 part â”œâ”€sdd46 259:30 0 10M 0 part â”œâ”€sdd47 259:31 0 10M 0 part â”œâ”€sdd48 259:32 0 10M 0 part â”œâ”€sdd49 259:33 0 10M 0 part â”œâ”€sdd50 259:34 0 10M 0 part â”œâ”€sdd51 259:35 0 10M 0 part â”œâ”€sdd52 259:36 0 10M 0 part â”œâ”€sdd53 259:37 0 10M 0 part â”œâ”€sdd54 259:38 0 10M 0 part â”œâ”€sdd55 259:39 0 10M 0 part â”œâ”€sdd56 259:40 0 10M 0 part â”œâ”€sdd57 259:41 0 10M 0 part â”œâ”€sdd58 259:42 0 10M 0 part â”œâ”€sdd59 259:43 0 10M 0 part â””â”€sdd60 259:44 0 10M 0 part åœ¨åˆ›å»ºäº† 60 ä¸ªåˆ†åŒºåï¼Œä¸èƒ½ç»§ç»­åˆ›å»ºäº† é‚£ä¹ˆæ˜¯è°å—åˆ°äº†é™åˆ¶å‘¢ï¼Ÿ åˆ é™¤ä¸€ä¸ª P åˆ†åŒº sdd2 ä¹‹åå°è¯•åˆ›å»ºï¼š æç¤ºæ‰€æœ‰çš„é€»è¾‘åˆ†åŒºåœ¨ä½¿ç”¨ä¸­ï¼Œåˆ›å»ºå‡ºæ¥çš„æ˜¯ä¸€ä¸ª P åˆ†åŒº åˆ é™¤ä¸€ä¸ª E åˆ†åŒº sdd59 ä¹‹åå°è¯•åˆ›å»ºåˆ†åŒºï¼š åˆ›å»ºå‡ºæ¥çš„æ˜¯é€»è¾‘åˆ†åŒº è¿™æ ·å…¶å®è¿˜æ˜¯æ²¡ææ˜ç™½æ˜¯è°æ”¶åˆ°äº†é™åˆ¶ï¼Œä½¿ç”¨ä¸€ä¸ªæ–°çš„ç›˜ï¼Œåªåˆ›å»ºæ‰©å±•åˆ†åŒº åˆ›å»ºæ‰©å±•åˆ†åŒºçš„æ—¶å€™æŒ‡å®šäº†100Mï¼Œä¸ºä»€ä¹ˆåˆ›å»ºäº†90Mçš„åˆ†åŒºåå°±ä¸èƒ½åœ¨åˆ›å»ºäº†ï¼ˆæç¤ºæ²¡æœ‰å‰©ä½™ç©ºé—´ï¼‰ æŸ¥çœ‹ä¸€ä¸‹è¿™ä¹ä¸ªé€»è¾‘åˆ†åŒºçš„è¯¦ç»†æƒ…å†µï¼š å‘ç°å…¶å®æ¯ä¸ªåˆ†åŒºçš„åœ°å€å¤´å°¾å¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œä¸­é—´å­˜åœ¨ä¸€ç‚¹ç¼éš™ï¼Œå› æ­¤æ²¡æœ‰åŠæ³•å†åˆ†å‡ºä¸€ä¸ª 10M çš„åˆ†åŒºä¹Ÿå°±å¯ä»¥è§£é‡Šäº†ï¼Œä½†æ˜¯æ–°çš„ç–‘é—®åˆæ¥äº†ï¼Œä¸ºä»€ä¹ˆä¸­é—´æœ‰å­˜åœ¨ä¸€ç‚¹ç¼éš™å‘¢ï¼Œæœ‰ç”¨æ¥å­˜å‚¨ä¸œè¥¿å—ï¼Ÿ ä»”ç»†è§‚å¯Ÿå‘ç°æ¯ä¸ªé—´éš”çš„å¤§å°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ 2049ï¼ˆ1.000488â€¦Mï¼‰ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ•°ï¼Ÿ\\ å…ˆæ¥çœ‹è¿™è¾¹çš„å•ä½æ˜¯æ€ä¹ˆç®—çš„ Blocks è¿™è¾¹çš„å•ä½åº”è¯¥æ˜¯ K è€Œ Startã€End çš„å•ä½åº”è¯¥æ˜¯ 512 byteï¼Œè®¡ç®— sde5 çš„å¤§å°åº”è¯¥æ˜¯ï¼š (24575-4096)/2/1024=9.9995117â€¦M è¿™ç§åˆ†åŒºæ–¹å¼æœ€å¤šèƒ½ç”¨åœ¨å¤šå¤§çš„ç£ç›˜ä¸Šï¼Ÿ 2T æ¯ä¸€æ¡16byteçš„åˆ†åŒºè®°å½•é‡Œï¼Œæœ‰å››ä¸ªå­—èŠ‚ç”¨æ¥è®°å½•åˆ†åŒºèµ·å§‹çš„ç›¸å¯¹æ‰‡åŒºå·ï¼Œè¿™ä¸ªä¹Ÿå°±æ˜¯ç£ç›˜å¤§å°çš„ä¸Šé™ 4byte = 4 * 8 bit= 32 bit å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•°ä¸º 2^32 = 4294967296 æ¯ä¸ªæ‰‡åŒºå¤§å°ä¸º 512 byte å› æ­¤æœ€å¤§ç£ç›˜å¤§å°ä¸º 4294967296 / 2 = 2147483648 K ","date":"2023-05-12","objectID":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/:2:3","series":["Linuxå‘½ä»¤ä½¿ç”¨"],"tags":["linux"],"title":"ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº","uri":"/202305121240-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/#å®è·µ2"},{"categories":["Golang"],"content":"#Golang ","date":"2023-05-12","objectID":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/:0:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"string åº•å±‚å­˜å‚¨","uri":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/#"},{"categories":["Golang"],"content":" åº•å±‚å­˜å‚¨ç»“æ„ type stringStruct struct { str unsafe.Pointer len int } type Pointer *ArbitraryType type ArbitraryType int str : æŒ‡å‘å®é™…å­—ç¬¦ä¸²çš„å†…å­˜åœ°å€ len : å­—èŠ‚æ•°ï¼ˆâ‰  å­—ç¬¦æ•°ï¼‰ ","date":"2023-05-12","objectID":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/:1:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"string åº•å±‚å­˜å‚¨","uri":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/#åº•å±‚å­˜å‚¨ç»“æ„"},{"categories":["Golang"],"content":" Q\u0026A å˜é‡ a ä¸ b åœ¨èµ‹å€¼çš„æ—¶å€™ç»™åˆ°äº†ç›¸åŒçš„å­—ç¬¦ä¸²å€¼ï¼Œåº•å±‚ä¼šæŒ‡å‘åŒä¸€å—åœ°å€å—ï¼ˆhelloçš„å­—ç¬¦ä¸²åœ¨åº•å±‚æ˜¯å¦åªåˆ†é…ä¸€æ¬¡ï¼Ÿï¼‰ç­”æ¡ˆæ˜¯ï¼šæ˜¯ã€‚ func main() { a := \"hello\" b := \"hello\" c := b e := \"world\" fmt.Println(\u0026a) fmt.Println(\u0026b) fmt.Println(\u0026c) fmt.Println(\u0026e) fmt.Println(a==b) fmt.Println(b==c) fmt.Println(\"done\") } ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ ä¹‹åå¦‚æœè·Ÿå¦ä¸€ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¦ æŸ¥çœ‹ä¸¤ä¸ªä¸åŒçš„pointeræŒ‡å‘çš„å†…å®¹ï¼Œéƒ½æ˜¯â€helloâ€ï¼Œä½†æ˜¯æ˜¯ä¸¤å—ä¸åŒçš„å­˜å‚¨ç©ºé—´ è¿™è¯´æ˜äº†å­—ç¬¦ä¸²è¿æ¥çš„ + æ“ä½œæ˜¯ä½æ•ˆçš„ï¼Œä¼šä¸€ç›´äº§ç”Ÿä¸´æ—¶çš„å­—ç¬¦ä¸² ","date":"2023-05-12","objectID":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/:2:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"string åº•å±‚å­˜å‚¨","uri":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/#qa"},{"categories":["Golang"],"content":" Q\u0026A å˜é‡ a ä¸ b åœ¨èµ‹å€¼çš„æ—¶å€™ç»™åˆ°äº†ç›¸åŒçš„å­—ç¬¦ä¸²å€¼ï¼Œåº•å±‚ä¼šæŒ‡å‘åŒä¸€å—åœ°å€å—ï¼ˆhelloçš„å­—ç¬¦ä¸²åœ¨åº•å±‚æ˜¯å¦åªåˆ†é…ä¸€æ¬¡ï¼Ÿï¼‰ç­”æ¡ˆæ˜¯ï¼šæ˜¯ã€‚ func main() { a := \"hello\" b := \"hello\" c := b e := \"world\" fmt.Println(\u0026a) fmt.Println(\u0026b) fmt.Println(\u0026c) fmt.Println(\u0026e) fmt.Println(a==b) fmt.Println(b==c) fmt.Println(\"done\") } ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ ä¹‹åå¦‚æœè·Ÿå¦ä¸€ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¦ æŸ¥çœ‹ä¸¤ä¸ªä¸åŒçš„pointeræŒ‡å‘çš„å†…å®¹ï¼Œéƒ½æ˜¯â€helloâ€ï¼Œä½†æ˜¯æ˜¯ä¸¤å—ä¸åŒçš„å­˜å‚¨ç©ºé—´ è¿™è¯´æ˜äº†å­—ç¬¦ä¸²è¿æ¥çš„ + æ“ä½œæ˜¯ä½æ•ˆçš„ï¼Œä¼šä¸€ç›´äº§ç”Ÿä¸´æ—¶çš„å­—ç¬¦ä¸² ","date":"2023-05-12","objectID":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/:2:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"string åº•å±‚å­˜å‚¨","uri":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/#å˜é‡-a-ä¸-b-åœ¨èµ‹å€¼çš„æ—¶å€™ç»™åˆ°äº†ç›¸åŒçš„å­—ç¬¦ä¸²å€¼åº•å±‚ä¼šæŒ‡å‘åŒä¸€å—åœ°å€å—helloçš„å­—ç¬¦ä¸²åœ¨åº•å±‚æ˜¯å¦åªåˆ†é…ä¸€æ¬¡"},{"categories":["Golang"],"content":" Q\u0026A å˜é‡ a ä¸ b åœ¨èµ‹å€¼çš„æ—¶å€™ç»™åˆ°äº†ç›¸åŒçš„å­—ç¬¦ä¸²å€¼ï¼Œåº•å±‚ä¼šæŒ‡å‘åŒä¸€å—åœ°å€å—ï¼ˆhelloçš„å­—ç¬¦ä¸²åœ¨åº•å±‚æ˜¯å¦åªåˆ†é…ä¸€æ¬¡ï¼Ÿï¼‰ç­”æ¡ˆæ˜¯ï¼šæ˜¯ã€‚ func main() { a := \"hello\" b := \"hello\" c := b e := \"world\" fmt.Println(\u0026a) fmt.Println(\u0026b) fmt.Println(\u0026c) fmt.Println(\u0026e) fmt.Println(a==b) fmt.Println(b==c) fmt.Println(\"done\") } ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ ä¹‹åå¦‚æœè·Ÿå¦ä¸€ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¦ æŸ¥çœ‹ä¸¤ä¸ªä¸åŒçš„pointeræŒ‡å‘çš„å†…å®¹ï¼Œéƒ½æ˜¯â€helloâ€ï¼Œä½†æ˜¯æ˜¯ä¸¤å—ä¸åŒçš„å­˜å‚¨ç©ºé—´ è¿™è¯´æ˜äº†å­—ç¬¦ä¸²è¿æ¥çš„ + æ“ä½œæ˜¯ä½æ•ˆçš„ï¼Œä¼šä¸€ç›´äº§ç”Ÿä¸´æ—¶çš„å­—ç¬¦ä¸² ","date":"2023-05-12","objectID":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/:2:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"string åº•å±‚å­˜å‚¨","uri":"/202305121145-string-%E5%BA%95%E5%B1%82%E5%AD%98%E5%82%A8/#ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ ä¹‹åå¦‚æœè·Ÿå¦ä¸€ä¸ªå­—ç¬¦ä¸²ç›¸åŒæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°å€"},{"categories":["Golang"],"content":"#Golang â€œinterfaceæ˜¯Goè¯­è¨€ä¸­çœŸæ­£çš„â€œé­”æ³•â€ï¼Œæ˜¯Goè¯­è¨€çš„ä¸€ä¸ªåˆ›æ–°è®¾è®¡ï¼Œå®ƒåªæ˜¯æ–¹æ³•é›†åˆï¼Œä¸”ä¸å®ç°è€…ä¹‹é—´çš„å…³ç³»æ˜¯éšå¼çš„ï¼Œå®ƒè®©ç¨‹åºå„ä¸ªéƒ¨åˆ†ä¹‹é—´çš„è€¦åˆé™è‡³æœ€ä½ï¼ŒåŒæ—¶æ˜¯è¿æ¥ç¨‹åºå„ä¸ªéƒ¨åˆ†çš„â€œçº½å¸¦â€ã€‚éšå¼çš„interfaceå®ç°ä¼šä¸ç»æ„é—´æ»¡è¶³ä¾èµ–æŠ½è±¡ã€é‡Œæ°æ›¿æ¢ã€æ¥å£éš”ç¦»ç­‰è®¾è®¡åŸåˆ™ï¼Œè¿™åœ¨å…¶ä»–è¯­è¨€ä¸­æ˜¯éœ€è¦å¾ˆåˆ»æ„çš„è®¾è®¡è°‹åˆ’æ‰èƒ½å®ç°çš„ï¼Œä½†åœ¨Go interfaceçœ‹æ¥ï¼Œä¸€åˆ‡å´æ˜¯è‡ªç„¶è€Œç„¶çš„ã€‚â€ â€œä¿æŒå˜é‡å£°æ˜ä¸ä½¿ç”¨ä¹‹é—´çš„è·ç¦»è¶Šè¿‘è¶Šå¥½ï¼Œæˆ–è€…åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å˜é‡ä¹‹å‰å£°æ˜è¯¥å˜é‡ã€‚â€ â€œä¹‹æ‰€ä»¥è¿™ä¹ˆåšï¼Œå¯èƒ½è€ƒè™‘åˆ°çš„ä¸€ç‚¹æ˜¯åœ¨è¿™ä¸ªæºæ–‡ä»¶ä¸­ï¼Œä»…Cookieæ–¹æ³•ç”¨åˆ°äº†å˜é‡ErrNoCookieã€‚å¦‚æœä¸€ä¸ªåŒ…çº§å˜é‡åœ¨åŒ…å†…éƒ¨è¢«å¤šå¤„ä½¿ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡è¿˜æ˜¯æ”¾åœ¨æºæ–‡ä»¶å¤´éƒ¨å£°æ˜æ¯”è¾ƒé€‚åˆã€‚â€ â€œæ— ç±»å‹å¸¸é‡æ˜¯Goè¯­è¨€åœ¨è¯­æ³•è®¾è®¡æ–¹é¢çš„ä¸€ä¸ªâ€œå¾®åˆ›æ–°â€ï¼Œä¹Ÿæ˜¯â€œè¿½æ±‚ç®€å•â€è®¾è®¡å“²å­¦çš„åˆä¸€ä½“ç°ï¼Œå®ƒå¯ä»¥è®©ä½ çš„Goä»£ç æ›´åŠ ç®€æ´â€ â€œGoæ˜¯å¯¹ç±»å‹å®‰å…¨è¦æ±‚ååˆ†ä¸¥æ ¼çš„ç¼–ç¨‹è¯­è¨€ã€‚Goè¦æ±‚ï¼Œä¸¤ä¸ªç±»å‹å³ä¾¿æ‹¥æœ‰ç›¸åŒçš„åº•å±‚ç±»å‹ï¼ˆunderlying typeï¼‰ï¼Œä¹Ÿä»ç„¶æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œä¸å¯ä»¥è¢«ç›¸äº’æ¯”è¾ƒæˆ–æ··åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­è¿›è¡Œè¿ç®—â€ type myInt int func TestA() { var a int = 1 var b myInt = 2 fmt.Println(a+b) // Invalid operation: a+b (mismatched types int and myInt) } ä¸ºä»€ä¹ˆä¸¤è€…å‘½åå…·æœ‰ç›¸åŒçš„åº•å±‚ç±»å‹ï¼Œä½†æ˜¯ä¸è®©è¿™ä¹ˆæ“ä½œå‘¢ï¼ŸåŸå› æ˜¯ï¼šã€éšå¼è½¬æ¢çš„æ“ä½œæ‰€å¸¦æ¥çš„ä¾¿åˆ©æ€§ã€‘ \u003c ã€å¸¦æ¥çš„è¯¸å¤šé—®é¢˜ã€‘ Goè¯­è¨€å¯¹äºæ­¤è€ƒè™‘ä¸ä»…é€‚ç”¨äºå˜é‡ï¼ŒåŒæ ·é€‚ç”¨äºæœ‰ç±»å‹å¸¸é‡ï¼š type myInt int func TestB() { const a myInt = 1 var b int = 2 fmt.Println(a+b) // Invalid operation: a+b (mismatched types myInt and int) } é‚£ä¹ˆæ—¢ç„¶ Go å‡ºäºå®‰å…¨è€ƒè™‘ä¸è®©è¿›è¡Œéšå¼è½¬æ¢ï¼Œé‚£ä¹ˆå¦‚æœè¦è®©ä¸Šé¢çš„é€»è¾‘å¾—ä»¥æ‰§è¡Œï¼Œå°±å¿…é¡»è¿›è¡Œæ˜¾ç¤ºç±»å‹è½¬æ¢ï¼Œé‚£ä¹ˆå¸¦æ¥çš„æ–°çš„é—®é¢˜å°±æ˜¯ä»£ç å˜å¾—å¤æ‚ã€‚ä¸ºäº†ç¨å¾®å‡è½»ä»£ç å¤æ‚åº¦ï¼Œæ— ç±»å‹å¸¸é‡çš„ä½œç”¨ä¾¿æ˜¾ç°å‡ºæ¥äº†ï¼š const ( A = 1 PI = 3.14 ) func TestC() { var a int = A // è€Œæ— éœ€ä½¿ç”¨ var a int = int(A) è¿™æ ·çš„ç±»å‹è½¬æ¢ var pi32 float32 = PI var pi64 float64 = PI fmt.Println(a, pi32, pi64) } æ‰€ä»¥æ— ç±»å‹å¸¸é‡ç”¨èµ·æ¥å°±åƒåœ¨ä½¿ç”¨å­—é¢å€¼ä¸€æ · é€šå¸¸ä½¿ç”¨å¸¸é‡è¯­æ³•å®šä¹‰æšä¸¾å¸¸é‡ å¸¸é‡å®šä¹‰çš„åä¸¤è¡Œæ²¡æœ‰æ˜¾å¼ç»™äºˆåˆå§‹èµ‹å€¼ï¼ŒGoç¼–è¯‘å™¨å°†ä¸ºå…¶éšå¼ä½¿ç”¨ç¬¬ä¸€è¡Œçš„è¡¨è¾¾å¼ iotaæ˜¯Goè¯­è¨€çš„ä¸€ä¸ªé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯constå£°æ˜å—ï¼ˆåŒ…æ‹¬å•è¡Œå£°æ˜ï¼‰ä¸­æ¯ä¸ªå¸¸é‡æ‰€å¤„ä½ç½®åœ¨å—ä¸­çš„åç§»å€¼ï¼ˆä»é›¶å¼€å§‹ï¼‰ const ( a = 1 \u003c\u003c iota // 1 \u003c\u003c 0 = 1 b // 1 \u003c\u003c 1 = 2 c // 1 \u003c\u003c 2 = 4 d = iota // 3 e // 4 f = iota * iota // 5 * 5 = 25 g, h = iota, iota + 1 // 6, 7 i, j // 7, 8 ) const ( aa = iota // 0 bb // 1 _ // 2 cc // 3 ) åœ¨ä¸€äº›æšä¸¾å¸¸é‡åç§°ä¸å…¶åˆå§‹å€¼æœ‰å¼ºçƒˆå¯¹åº”å…³ç³»çš„æ—¶å€™ï¼Œæšä¸¾å¸¸é‡ä¼šç›´æ¥ä½¿ç”¨æ˜¾å¼æ•°å€¼ä½œä¸ºå¸¸é‡çš„åˆå§‹å€¼ Goçš„é›¶å€¼åˆå§‹æ˜¯é€’å½’çš„ï¼Œå³æ•°ç»„ã€ç»“æ„ä½“ç­‰ç±»å‹çš„é›¶å€¼åˆå§‹åŒ–å°±æ˜¯å¯¹å…¶ç»„æˆå…ƒç´ é€ä¸€è¿›è¡Œé›¶å€¼åˆå§‹åŒ– æŒ‰ä¼ ç»Ÿçš„æ€ç»´ï¼Œå¯¹äºå€¼ä¸ºnilçš„å˜é‡ï¼Œæˆ‘ä»¬è¦å…ˆä¸ºå…¶èµ‹ä¸Šåˆç†çš„å€¼åæ‰èƒ½ä½¿ç”¨ã€‚ä½†ç”±äºGoä¸­çš„åˆ‡ç‰‡ç±»å‹å…·å¤‡é›¶å€¼å¯ç”¨çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¹å…¶è¿›è¡Œappendæ“ä½œï¼Œè€Œä¸ä¼šå‡ºç°å¼•ç”¨nilçš„é”™è¯¯ ä¸è¿‡Goå¹¶éæ‰€æœ‰ç±»å‹éƒ½æ˜¯é›¶å€¼å¯ç”¨çš„ï¼Œå¹¶ä¸”é›¶å€¼å¯ç”¨ä¹Ÿæœ‰ä¸€å®šçš„é™åˆ¶ï¼Œæ¯”å¦‚ï¼šåœ¨appendåœºæ™¯ä¸‹ï¼Œé›¶å€¼å¯ç”¨çš„åˆ‡ç‰‡ç±»å‹ä¸èƒ½é€šè¿‡ä¸‹æ ‡å½¢å¼æ“ä½œæ•°æ® åœ¨Cè¯­è¨€ä¸­ï¼Œæ•°ç»„å˜é‡å¯è§†ä¸ºæŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚è€Œåœ¨Goè¯­è¨€ä¸­ä¼ é€’æ•°ç»„æ˜¯çº¯ç²¹çš„å€¼æ‹·è´ï¼Œå¯¹äºå…ƒç´ ç±»å‹é•¿åº¦è¾ƒå¤§æˆ–å…ƒç´ ä¸ªæ•°è¾ƒå¤šçš„æ•°ç»„ï¼Œå¦‚æœç›´æ¥ä»¥æ•°ç»„ç±»å‹å‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ä¼šæœ‰ä¸å°çš„æ€§èƒ½æŸè€— åˆ‡ç‰‡æ˜¯æ•°ç»„çš„â€œæè¿°ç¬¦â€ åˆ‡ç‰‡åœ¨Goè¿è¡Œæ—¶ï¼ˆruntimeï¼‰å±‚é¢çš„å†…éƒ¨è¡¨ç¤ºï¼š package runtime type slice struct { array unsafe.Pointer len int cap int } å½“åˆ‡ç‰‡ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå®é™…ä¼ é€’çš„æ˜¯åˆ‡ç‰‡çš„å†…éƒ¨è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„runtime.sliceç»“æ„ä½“å®ä¾‹ï¼Œå› æ­¤æ— è®ºåˆ‡ç‰‡æè¿°çš„åº•å±‚æ•°ç»„æœ‰å¤šå¤§ï¼Œåˆ‡ç‰‡ä½œä¸ºå‚æ•°ä¼ é€’å¸¦æ¥çš„æ€§èƒ½æŸè€—éƒ½æ˜¯å¾ˆå°ä¸”æ’å®šçš„ è¿™æ ·çš„appendæ“ä½œæœ‰æ—¶ä¼šç»™Gopherå¸¦æ¥ä¸€äº›å›°æƒ‘ï¼Œæ¯”å¦‚é€šè¿‡è¯­æ³•u[low:high]å½¢å¼è¿›è¡Œæ•°ç»„åˆ‡ç‰‡åŒ–è€Œåˆ›å»ºçš„åˆ‡ç‰‡ï¼Œä¸€æ—¦åˆ‡ç‰‡capè§¦ç¢°åˆ°æ•°ç»„çš„ä¸Šç•Œï¼Œå†å¯¹åˆ‡ç‰‡è¿›è¡Œappendæ“ä½œï¼Œåˆ‡ç‰‡å°±ä¼šå’ŒåŸæ•°ç»„è§£é™¤ç»‘å®š é‚£ä¹ˆå¦‚ä½•å‡å°‘æˆ–é¿å…ä¸ºè¿‡å¤šå†…å­˜åˆ†é…å’Œå¤åˆ¶ä»˜å‡ºçš„ä»£ä»·å‘¢ï¼Ÿä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•æ˜¯æ ¹æ®åˆ‡ç‰‡çš„ä½¿ç”¨åœºæ™¯å¯¹åˆ‡ç‰‡çš„å®¹é‡è§„æ¨¡è¿›è¡Œé¢„ä¼°ï¼Œå¹¶åœ¨åˆ›å»ºæ–°åˆ‡ç‰‡æ—¶å°†é¢„ä¼°å‡ºçš„åˆ‡ç‰‡å®¹é‡æ•°æ®ä»¥capå‚æ•°çš„å½¢å¼ä¼ é€’ç»™å†…ç½®å‡½æ•°make å¦‚æœå¯ä»¥é¢„ä¼°å‡ºåˆ‡ç‰‡åº•å±‚æ•°ç»„éœ€è¦æ‰¿è½½çš„å…ƒç´ æ•°é‡ï¼Œå¼ºçƒˆå»ºè®®åœ¨åˆ›å»ºåˆ‡ç‰‡æ—¶å¸¦ä¸Šcapå‚æ•°ã€‚ mapå¯¹valueçš„ç±»å‹æ²¡æœ‰é™åˆ¶ï¼Œä½†æ˜¯å¯¹keyçš„ç±»å‹æœ‰ä¸¥æ ¼è¦æ±‚ï¼škeyçš„ç±»å‹åº”è¯¥ä¸¥æ ¼å®šä¹‰äº†ä½œä¸ºâ€œ == â€å’Œâ€œ!=â€ä¸¤ä¸ªæ“ä½œç¬¦çš„æ“ä½œæ•°æ—¶çš„è¡Œä¸ºï¼Œå› æ­¤å‡½æ•°ã€mapã€åˆ‡ç‰‡ä¸èƒ½ä½œä¸ºmapçš„keyç±»å‹ æ€»æ˜¯ä½¿ç”¨â€œcomma okâ€æƒ¯ç”¨æ³•è¯»å–mapä¸­çš„å€¼ æˆ‘ä»¬çœ‹åˆ°å¯¹åŒä¸€mapåšå¤šæ¬¡éå†ï¼Œéå†çš„å…ƒç´ æ¬¡åºå¹¶ä¸ç›¸åŒã€‚è¿™æ˜¯å› ä¸ºGoè¿è¡Œæ—¶åœ¨åˆå§‹åŒ–mapè¿­ä»£å™¨æ—¶å¯¹èµ·å§‹ä½ç½®åšäº†éšæœºå¤„ç†ã€‚å› æ­¤åƒä¸‡ä¸è¦ä¾èµ–éå†mapæ‰€å¾—åˆ°çš„å…ƒç´ æ¬¡åº å’Œåˆ‡ç‰‡çš„è¿è¡Œæ—¶è¡¨ç¤ºç›¸æ¯”ï¼Œmapåœ¨è¿è¡Œæ—¶çš„è¡¨ç¤ºæ˜¾ç„¶è¦å¤æ‚å¾—å¤šã€‚ å¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘ä»¬æœ€å¥½å¯¹mapä½¿ç”¨è§„æ¨¡åšå‡ºç²—ç•¥çš„ä¼°ç®—ï¼Œå¹¶ä½¿ç”¨capå‚æ•°å¯¹mapå®ä¾‹è¿›è¡Œåˆå§‹åŒ– å¯¹stringè¿›è¡Œåˆ‡ç‰‡åŒ–åï¼ŒGoç¼–è¯‘å™¨ä¼šä¸ºåˆ‡ç‰‡å˜é‡é‡æ–°åˆ†é…åº•å±‚å­˜å‚¨è€Œä¸æ˜¯å…±ç”¨stringçš„åº•å±‚å­˜å‚¨ï¼Œå› æ­¤å¯¹åˆ‡ç‰‡çš„ä¿®æ”¹å¹¶æœªå¯¹åŸstringçš„æ•°æ®äº§ç”Ÿä»»ä½•å½±å“ ç”±äºGo stringæ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸ç›¸åŒï¼Œé‚£ä¹ˆæ— é¡»æ¯”è¾ƒå…·ä½“å­—ç¬¦ä¸²æ•°æ®å³å¯æ–­å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸åŒçš„ã€‚å¦‚æœé•¿åº¦ç›¸åŒï¼Œåˆ™è¦è¿›ä¸€æ­¥åˆ¤æ–­æ•°æ®æŒ‡é’ˆæ˜¯å¦æŒ‡å‘åŒä¸€å—åº•å±‚å­˜å‚¨æ•°æ®ã€‚å¦‚æœç›¸åŒï¼Œåˆ™ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ç­‰ä»·çš„ï¼›å¦‚æœä¸åŒï¼Œåˆ™è¿˜éœ€è¿›ä¸€æ­¥æ¯”å¯¹å®é™…çš„æ•°æ®å†…å®¹ Goè¯­è¨€ç›´æ¥æä¾›äº†é€šè¿‡åå¼•å·æ„é€ â€œæ‰€è§å³æ‰€å¾—â€çš„å¤šè¡Œå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š æ ¹æ®stringåœ¨è¿è¡Œæ—¶çš„è¡¨ç¤ºå¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“è®ºï¼šç›´æ¥å°†stringç±»å‹é€šè¿‡å‡½æ•°/æ–¹æ³•å‚æ•°ä¼ å…¥ä¹Ÿä¸ä¼šæœ‰å¤ªå¤šçš„æŸè€—ï¼Œå› ä¸ºä¼ å…¥çš„ä»…ä»…æ˜¯ä¸€ä¸ªâ€œæè¿°ç¬¦â€ï¼ˆä¸€ä¸ªæŒ‡å‘åº•å±‚åªè¯»å­—èŠ‚æ•°ç»„çš„æŒ‡é’ˆå’Œé•¿åº¦ï¼‰ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å­—ç¬¦ä¸²æ•°æ® ä»åŸºå‡†æµ‹è¯•çš„è¾“å‡ºç»“æœçš„ç¬¬ä¸‰åˆ—ï¼Œå³æ¯æ“ä½œè€—æ—¶çš„æ•°å€¼æ¥çœ‹ï¼šåšäº†é¢„åˆå§‹åŒ–çš„strings.Builderè¿æ¥æ„å»ºå­—ç¬¦ä¸²æ•ˆç‡æœ€é«˜ï¼›å¸¦æœ‰é¢„åˆå§‹åŒ–çš„bytes.Bufferå’Œstrings.Joinè¿™ä¸¤ç§æ–¹æ³•æ•ˆç‡ååˆ†æ¥è¿‘ï¼Œåˆ†åˆ—äºŒä¸‰ä½ï¼›æœªåšé¢„åˆå§‹åŒ–çš„strings.Builderã€bytes.Bufferå’Œæ“ä½œç¬¦è¿æ¥åœ¨ç¬¬ä¸‰æ¡£æ¬¡ï¼›fmt.Sprintfæ€§èƒ½æœ€å·®ï¼Œæ’åœ¨æœ«å°¾ Goç¼–è¯‘é€Ÿåº¦å¿«çš„åŸå› å…·ä½“ä½“ç°åœ¨ä»¥ä¸‹ä¸‰æ–¹é¢ã€‚ Goè¦æ±‚æ¯ä¸ªæºæ–‡ä»¶åœ¨å¼€å¤´å¤„æ˜¾å¼åœ°åˆ—å‡ºæ‰€æœ‰ä¾èµ–çš„åŒ…å¯¼å…¥ï¼Œè¿™æ ·Goç¼–è¯‘å™¨ä¸å¿…è¯»å–å’Œå¤„ç†æ•´ä¸ªæ–‡ä»¶å°±å¯ä»¥ç¡®å®šå…¶ä¾èµ–çš„åŒ…åˆ—è¡¨ã€‚ Goè¦æ±‚åŒ…ä¹‹é—´ä¸èƒ½å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œè¿™æ ·ä¸€ä¸ªåŒ…çš„ä¾èµ–å…³ç³»ä¾¿å½¢æˆäº†ä¸€å¼ æœ‰å‘æ— ç¯å›¾ã€‚ç”±äºæ— ç¯ï¼ŒåŒ…å¯ä»¥è¢«å•ç‹¬ç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥å¹¶è¡Œç¼–è¯‘ã€‚ å·²ç¼–è¯‘çš„GoåŒ…å¯¹åº”çš„ç›®æ ‡æ–‡ä»¶ï¼ˆfile_name.oæˆ–package_name.aï¼‰ä¸­ä¸ä»…è®°å½•äº†è¯¥åŒ…æœ¬èº«çš„å¯¼å‡ºç¬¦å·ä¿¡æ¯ï¼Œè¿˜è®°å½•äº†å…¶æ‰€ä¾èµ–åŒ…çš„å¯¼å‡ºç¬¦å·ä¿¡æ¯ã€‚è¿™æ ·ï¼ŒGoç¼–è¯‘å™¨åœ¨ç¼–è¯‘æŸåŒ…Pæ—¶ï¼Œé’ˆå¯¹Pä¾èµ–çš„æ¯ä¸ªåŒ…å¯¼å…¥ï¼ˆæ¯”å¦‚å¯¼å…¥åŒ…Qï¼‰ï¼Œåªéœ€è¯»å–ä¸€ä¸ªç›®æ ‡æ–‡ä»¶å³å¯ï¼ˆæ¯”å¦‚ï¼šQåŒ…ç¼–è¯‘æˆçš„ç›®æ ‡æ–‡ä»¶ä¸­å·²ç»åŒ…å«QåŒ…çš„ä¾èµ–åŒ…çš„å¯¼å‡ºä¿¡æ¯ï¼‰ï¼Œè€Œæ— é¡»å†è¯»å–å…¶ä»–æ–‡ä»¶ä¸­çš„ä¿¡æ¯ ä»£ç å—æ˜¯ä»£ç æ‰§è¡Œæµæµè½¬çš„åŸºæœ¬å•å…ƒï¼Œä»£ç æ‰§è¡Œæµæ€»æ˜¯ä»ä¸€ä¸ªä»£ç å—è·³åˆ°å¦ä¸€ä¸ªä»£ç å— ifæ¡ä»¶æ§åˆ¶è¯­å¥çš„ä»£ç å— è¿™é‡Œï¼Œä¼ªä»£ç æ®µ1çš„ifæ§åˆ¶è¯­å¥çš„ä½¿ç”¨æ–¹æ³•ç¬¦åˆGoè¯­è¨€æƒ¯ç”¨çš„â€œå¿«ä¹è·¯å¾„â€åŸåˆ™ã€‚æ‰€è°“â€œå¿«ä¹è·¯å¾„â€å³æˆåŠŸé€»è¾‘çš„ä»£ç æ‰§è¡Œè·¯å¾„ï¼Œè¿™ä¸ªåŸåˆ™è¦æ±‚ï¼šå½“å‡ºç°é”™è¯¯æ—¶ï¼Œå¿«é€Ÿè¿”å›ï¼›æˆåŠŸé€»è¾‘ä¸è¦åµŒå…¥if-elseè¯­å¥ä¸­ï¼›â€œå¿«ä¹è·¯å¾„â€çš„æ‰§è¡Œé€»è¾‘åœ¨ä»£ç å¸ƒå±€ä¸Šå§‹ç»ˆé å·¦ï¼Œè¿™æ ·è¯»è€…å¯ä»¥ä¸€çœ¼çœ‹åˆ°è¯¥å‡½æ•°çš„æ­£å¸¸é€»è¾‘æµç¨‹ï¼›â€œå¿«ä¹è·¯å¾„â€çš„è¿”å›å€¼ä¸€èˆ¬åœ¨å‡½æ•°æœ€åä¸€è¡Œï¼Œå°±åƒä¸Šé¢ä¼ªä»£ç æ®µ1ä¸­çš„é‚£æ ·ã€‚å¦‚æœä½ çš„å‡½æ•°å®ç°ä»£ç ä¸ç¬¦åˆâ€œå¿«ä¹è·¯å¾„â€åŸåˆ™ï¼Œå¯ä»¥æŒ‰ä¸‹é¢çš„æ­¥éª¤è¿›è¡Œé‡æ„ï¼šå°è¯•å°†â€œæ­£å¸¸é€»è¾‘â€æå–å‡ºæ¥ï¼Œæ”¾åˆ°â€œå¿«ä¹è·¯å¾„â€ä¸­ï¼›å¦‚æœæ— æ³•åšåˆ°ä¸Šä¸€ç‚¹ï¼Œå¾ˆå¯èƒ½æ˜¯å‡½æ•°å†…çš„é€»è¾‘è¿‡äºå¤æ‚ï¼Œå¯ä»¥å°†æ·±åº¦ç¼©è¿›åˆ°if-elseè¯­å¥ä¸­çš„ä»£ç æå‡ºåˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå†å¯¹åŸå‡½æ•°å®æ–½â€œå¿«ä¹è·¯å¾„â€åŸåˆ™çš„é‡æ„ã€‚ goroutineä¸­è¾“å‡ºçš„iã€vå€¼éƒ½æ˜¯for rangeå¾ªç¯ç»“æŸåçš„iã€væœ€ç»ˆå€¼ï¼Œè€Œä¸æ˜¯å„ä¸ªgoroutineå¯åŠ¨æ—¶çš„iã€vå€¼ã€‚è¿™æ˜¯å› ä¸ºgoroutineæ‰§è¡Œçš„é—­åŒ…å‡½æ•°å¼•ç”¨äº†å®ƒçš„å¤–å±‚åŒ…è£¹å‡½æ•°ä¸­çš„å˜é‡iã€vï¼Œè¿™æ ·å˜é‡iã€våœ¨ä¸»goroutineå’Œæ–°å¯åŠ¨çš„goroutineä¹‹é—´å®ç°äº†å…±äº«ã€‚è€Œiã€vå€¼åœ¨æ•´ä¸ªå¾ªç¯è¿‡ç¨‹ä¸­æ˜¯é‡ç”¨çš„ï¼Œä»…æœ‰ä¸€ä»½ã€‚åœ¨for rangeå¾ªç¯ç»“æŸåï¼Œi = 4ï¼Œv = 5ï¼Œå› æ­¤å„ä¸ªgoroutineåœ¨ç­‰å¾…3ç§’åè¿›è¡Œè¾“å‡ºçš„æ—¶å€™ï¼Œè¾“å‡ºçš„æ˜¯iã€vçš„æœ€ç»ˆå€¼ æ³¨æ„å‚ä¸è¿­ä»£çš„æ˜¯rangeè¡¨è¾¾å¼çš„å‰¯æœ¬ å¤§å¤šæ•°åº”ç”¨","date":"2023-05-12","objectID":"/202305120824-%E8%AF%BBgo%E8%AF%AD%E8%A8%80%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF%E4%BB%8E%E6%96%B0%E6%89%8B%E5%88%B0%E9%AB%98%E6%89%8B%E7%9A%84%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A71%E7%95%99%E4%B8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/:0:0","series":["è¯»ä¹¦è®°å½•"],"tags":[],"title":"è¯»ã€ŠGoè¯­è¨€ç²¾è¿›ä¹‹è·¯ï¼šä»æ–°æ‰‹åˆ°é«˜æ‰‹çš„ç¼–ç¨‹æ€æƒ³ã€æ–¹æ³•å’ŒæŠ€å·§1ã€‹ç•™ä¸‹çš„ä¸€äº›è®°å½•","uri":"/202305120824-%E8%AF%BBgo%E8%AF%AD%E8%A8%80%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF%E4%BB%8E%E6%96%B0%E6%89%8B%E5%88%B0%E9%AB%98%E6%89%8B%E7%9A%84%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A71%E7%95%99%E4%B8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/#"},{"categories":["Tools-Method"],"content":"#ä¸ªäººè®°å½• ","date":"2023-05-12","objectID":"/202305120809-%E5%AD%A6%E4%B9%A0%E7%AB%99%E7%82%B9%E6%94%B6%E9%9B%86/:0:0","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"å­¦ä¹ ç«™ç‚¹æ”¶é›†","uri":"/202305120809-%E5%AD%A6%E4%B9%A0%E7%AB%99%E7%82%B9%E6%94%B6%E9%9B%86/#"},{"categories":["Tools-Method"],"content":" golang https://pandaychen.github.io/ https://github.com/golang/go/wiki https://draveness.me/ https://golang.design/under-the-hood ","date":"2023-05-12","objectID":"/202305120809-%E5%AD%A6%E4%B9%A0%E7%AB%99%E7%82%B9%E6%94%B6%E9%9B%86/:1:0","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"å­¦ä¹ ç«™ç‚¹æ”¶é›†","uri":"/202305120809-%E5%AD%A6%E4%B9%A0%E7%AB%99%E7%82%B9%E6%94%B6%E9%9B%86/#golang"},{"categories":["Tools-Method"],"content":" book ã€Šæ“ä½œç³»ç»Ÿå¯¼è®ºã€‹ https://github.com/Vonng/ddia ","date":"2023-05-12","objectID":"/202305120809-%E5%AD%A6%E4%B9%A0%E7%AB%99%E7%82%B9%E6%94%B6%E9%9B%86/:2:0","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"å­¦ä¹ ç«™ç‚¹æ”¶é›†","uri":"/202305120809-%E5%AD%A6%E4%B9%A0%E7%AB%99%E7%82%B9%E6%94%B6%E9%9B%86/#book"},{"categories":["Golang"],"content":"#å¹¶è¡Œ ","date":"2023-05-12","objectID":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/:0:0","series":["Golangæ€§èƒ½ä¼˜åŒ–"],"tags":[],"title":"GOMAXPROCS è®¾ç½®å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ CPU æ•°é‡","uri":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/#"},{"categories":["Golang"],"content":" ç®€å•æµ‹è¯• func HighUseCPU(n int) float64 { numCPU := runtime.NumCPU() if n \u003c= 1 { numCPU = 1 } else if n \u003c numCPU { numCPU = n } else { // pass } //log.Printf(\"set the number of cpu that can run simultaneously: %d\", numCPU) // è®¾ç½®å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ CPU çš„æ•°é‡ï¼Œæé«˜å¹¶å‘çš„æ•ˆç‡ runtime.GOMAXPROCS(numCPU) // å¹¶å‘æµ‹è¯• startTime := time.Now() var wg sync.WaitGroup for i := 0; i \u003c 16; i++ { wg.Add(1) go func(i int) { defer wg.Done() process() }(i) } wg.Wait() timeSpend := time.Since(startTime).Seconds() //log.Printf(\"time: %f\\n\", timeSpend) return timeSpend } func process() { cnt := 0 for i := 0; i \u003c 1000000; i++ { cnt++ } } åˆ†åˆ«è¿›è¡Œ1ã€4ã€8 æ ¸çš„æµ‹è¯•ï¼ˆåœ¨8æ ¸ç¯å¢ƒä¸Šæµ‹è¯•ï¼‰ï¼š func TestHighUseCPU(t *testing.T) { var avgOneCpu float64 = 0 for i := 0; i \u003c 100; i++ { avgOneCpu += HighUseCPU(1) } var avgFourCpu float64 = 0 for i := 0; i \u003c 100; i++ { avgFourCpu += HighUseCPU(4) } var avgEightCpu float64 = 0 for i := 0; i \u003c 100; i++ { avgEightCpu += HighUseCPU(8) } log.Printf(\"\\naverage time(1cpu): %f\\naverage time(4cpu): %f\\naverage time(8cpu):%f\\n\", avgOneCpu/100, avgFourCpu/100, avgEightCpu/100) } æµ‹è¯•ç»“æœï¼š average time(1cpu): 0.006329 average time(4cpu): 0.001883 average time(8cpu): 0.001284 å¯ä»¥çœ‹åˆ°è®¾ç½®è®¾ç½®çš„æ•°å€¼è¶Šæ¥è¿‘ç¯å¢ƒçš„ cpu æ ¸æ•°ï¼Œå¹¶å‘çš„æ•ˆç‡è¶Šé«˜ï¼Œå½“ç„¶ä¸æ˜¯å›ºå®šçš„ï¼Œç»§ç»­å¢åŠ è¿™ä¸ªæ•°é‡å¯èƒ½ä¼šå¸¦æ¥æ›´å¥½çš„æ€§èƒ½ï¼Œä¹Ÿå¯èƒ½æ›´åï¼Œå¯ä»¥æ ¹æ®å®é™…åœºæ™¯è¿›è¡Œå‹æµ‹ ","date":"2023-05-12","objectID":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/:1:0","series":["Golangæ€§èƒ½ä¼˜åŒ–"],"tags":[],"title":"GOMAXPROCS è®¾ç½®å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ CPU æ•°é‡","uri":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/#ç®€å•æµ‹è¯•"},{"categories":["Golang"],"content":" æºç  // GOMAXPROCS sets the maximum number of CPUs that can be executing// simultaneously and returns the previous setting. It defaults to // the value of runtime.NumCPU. If n \u003c 1, it does not change the current setting. // This call will go away when the scheduler improves. func GOMAXPROCS(n int) int { if GOARCH == \"wasm\" \u0026\u0026 n \u003e 1 { n = 1 // WebAssembly has no threads yet, so only one CPU is possible. } lock(\u0026sched.lock) ret := int(gomaxprocs) unlock(\u0026sched.lock) if n \u003c= 0 || n == ret { return ret } stopTheWorldGC(\"GOMAXPROCS\") // newprocs will be processed by startTheWorld newprocs = int32(n) startTheWorldGC() return ret } è¯¥å‡½æ•°ä¸»è¦ç”¨æ¥æ§åˆ¶å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ cpu æ•°é‡ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿ cpu æ•°é‡ï¼ˆåœ¨ webassembly ä¸­æ˜¯æ²¡æœ‰çº¿ç¨‹çš„ï¼Œè®¾ç½®ä¸º1ï¼‰ todo ","date":"2023-05-12","objectID":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/:2:0","series":["Golangæ€§èƒ½ä¼˜åŒ–"],"tags":[],"title":"GOMAXPROCS è®¾ç½®å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ CPU æ•°é‡","uri":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/#æºç "},{"categories":["Golang"],"content":" è¶Šå¤§è¶Šå¥½ï¼Ÿè¯¥æ–¹æ³•ä¸»è¦ç”¨æ¥ä¼˜åŒ–ç¨‹åºçš„æ€§èƒ½ï¼Œæ§åˆ¶ golang ç¨‹åºæ‰§è¡Œçš„å¹¶å‘ç¨‹åº¦ï¼Œä½†æ˜¯è¿™ä¸ªå€¼å¹¶ ä¸æ˜¯è¶Šå¤§è¶Šå¥½ çš„ï¼Œä¸¾ä¸ªå¦‚ä¸‹çš„ä¾‹å­ï¼š æ‰§è¡Œ 1 + 1 çš„ä»»åŠ¡ 4 ä¸ª cpu è®¾ç½® GOMAXPROCS çš„å€¼ä¸º 1000 æ¯ä¸ª cpu åˆ†åˆ° 250 ä¸ªä»»åŠ¡ï¼Œä¸ºäº†èƒ½å¤ŸåŒæ—¶è¿è¡Œè¿™ 250 ä¸ªä»»åŠ¡ï¼Œcpu çš„æ—¶é—´å¯èƒ½ä¼šå¤§é‡æµªè´¹åœ¨ ä¸Šä¸‹æ–‡åˆ‡æ¢ çš„ä»»åŠ¡ä¸Šï¼Œè€Œä¸æ˜¯å®é™…çš„è®¡ç®—ä»»åŠ¡ åŒæ—¶æ¯ä¸ªçº¿ç¨‹éƒ½éœ€è¦æœ‰è‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œè¿‡å¤šçš„çº¿ç¨‹ä¹Ÿä¼š ç»™å†…å­˜å¸¦æ¥å‹åŠ› å®é™…æµ‹è¯•ï¼š ç¯å¢ƒï¼šå…·æœ‰ 4 ä¸ª cpu çš„ centos ç»™æ–¹æ³•å¤šä¼ å…¥ä¸€ä¸ªå˜é‡ï¼Œæ§åˆ¶ç¨‹åºåˆ›å»ºçš„åç¨‹æ•°é‡ func HighUseCPU(n int, par int) float64 { numCPU := runtime.NumCPU() if n \u003c= 1 { numCPU = 1 } else { numCPU = n } log.Printf(\"set the number of cpu that can run simultaneously: %d\", numCPU) // è®¾ç½®å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ CPU çš„æ•°é‡ï¼Œæé«˜å¹¶å‘çš„æ•ˆç‡ runtime.GOMAXPROCS(numCPU) // å¹¶å‘æµ‹è¯• startTime := time.Now() var wg sync.WaitGroup for i := 0; i \u003c par; i++ { wg.Add(1) go func(i int) { defer wg.Done() process() }(i) } wg.Wait() timeSpend := time.Since(startTime).Seconds() return timeSpend } func process() { cnt := 0 for i := 0; i \u003c 100000000; i++ { cnt++ } } å…ˆçœ‹ä¸€ä¸‹å½“åç¨‹æ•°é‡å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼ŒèŠ±è´¹æ—¶é—´æƒ…å†µæ˜¯æ€ä¹ˆæ ·çš„ åç¨‹æ•°é‡ï¼š4 average time(1cpu): 0.251251 average time(4cpu): 0.095817 average time(8cpu):0.090954 åç¨‹æ•°é‡ï¼š8 average time(1cpu): 0.490758 average time(4cpu): 0.189642 average time(8cpu):0.173086 ä»ä¸Šé¢åç¨‹æ•°é‡å˜åŒ–å¯¼è‡´çš„ç»“æœæ¥çœ‹ï¼Œéšç€åç¨‹æ•°é‡çš„ä¸æ–­ä¸Šå‡ï¼Œcpu æ•°é‡è®¾ç½®è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œæ—¶é—´ä¸Šå‡æ˜æ˜¾ï¼Œå¯ä»¥çœ‹å‡ºæ¥ä¸ºäº†å¤„ç†å¤§é‡å¹¶å‘ï¼Œcpu æŠŠæ—¶é—´æµªè´¹åœ¨äº†ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ—¶é—´ä¸Šï¼Œå½“æˆ‘æŠŠåç¨‹æ•°é‡è®¾ç½®æˆ 16 çš„æ—¶å€™ï¼Œæ—¶é—´å·²ç»å¾ˆæ…¢äº† ","date":"2023-05-12","objectID":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/:3:0","series":["Golangæ€§èƒ½ä¼˜åŒ–"],"tags":[],"title":"GOMAXPROCS è®¾ç½®å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ CPU æ•°é‡","uri":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/#è¶Šå¤§è¶Šå¥½"},{"categories":["Golang"],"content":" Q\u0026A æˆ‘ä»¬å·²ç»çŸ¥é“ GOMAXPROCS è®¾ç½®çš„å€¼å¹¶éè¶Šå¤§è¶Šå¥½ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µå¯èƒ½ä¼šå¯¼è‡´è¿™ä¸ªå€¼æ¯”æˆ‘ä»¬é¢„æœŸçš„è¦å¤§ï¼Ÿ åœ¨ å®¹å™¨ åœºæ™¯ä¸‹å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œå¦‚æœå®¹å™¨ä¸­çš„ç¨‹åºè·å–åˆ°äº†å®¿ä¸»æœºçš„ cpu æ•°é‡ï¼Œæ¯”å¦‚å®¿ä¸»æœºæœ‰å‡ åæ ¸ï¼Œè€Œå®¹å™¨å¯èƒ½åªæœ‰ä¸¤æ ¸æˆ–è€…æ›´å°‘ ","date":"2023-05-12","objectID":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/:4:0","series":["Golangæ€§èƒ½ä¼˜åŒ–"],"tags":[],"title":"GOMAXPROCS è®¾ç½®å¯ä»¥åŒæ—¶æ‰§è¡Œçš„æœ€å¤§ CPU æ•°é‡","uri":"/202305120552-gomaxprocs-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7-cpu-%E6%95%B0%E9%87%8F/#qa"},{"categories":["Tools-Method"],"content":"#ä¸ªäººè®°å½• åšå®¢ä½¿ç”¨ Doit ä¸»é¢˜ï¼Œå¯¹ä¸¤ä¸ªåŠŸèƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒ ","date":"2023-05-12","objectID":"/202305120524-hugo-%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%BD%91%E7%AB%99%E5%88%86%E6%9E%90%E7%9A%84%E5%8A%9F%E8%83%BD/:0:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"Hugo åšå®¢ç«™ç‚¹æ·»åŠ è¯„è®ºã€ç½‘ç«™åˆ†æçš„åŠŸèƒ½","uri":"/202305120524-hugo-%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%BD%91%E7%AB%99%E5%88%86%E6%9E%90%E7%9A%84%E5%8A%9F%E8%83%BD/#"},{"categories":["Tools-Method"],"content":" è¯„è®ºåŠŸèƒ½Doit æ”¯æŒå¤šç§ç¤¾äº¤å’Œè¯„è®ºç³»ç»Ÿï¼Œè¿™è¾¹é€‰ç”¨ giscus æ–°å»ºä¸€ä¸ªhugo-giscus-common-system ä»“åº“ï¼Œåˆ° settings / general è®¾ç½®ä¸­å¼€å¯ discussions è®¾ç½®ï¼š ä½¿ç”¨ giscus.app ç”Ÿæˆç›¸å…³é…ç½® å®‰è£… giscus app å¡«å…¥ä»“åº“ é€‰æ‹©åˆ†ç±» å¡«å…¥ hugo çš„ config.toml é…ç½®æ–‡ä»¶ ä¸Šé¢çš„æ­¥éª¤éƒ½å®Œæˆä¹‹åï¼Œåœ¨ä¸‹é¢çš„ å¯ç”¨ giscus ä¸€æ ä¸­ä¼šæœ‰ç›¸åº”çš„é…ç½®ï¼š å¯¹åº”é…ç½® config.toml ","date":"2023-05-12","objectID":"/202305120524-hugo-%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%BD%91%E7%AB%99%E5%88%86%E6%9E%90%E7%9A%84%E5%8A%9F%E8%83%BD/:1:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"Hugo åšå®¢ç«™ç‚¹æ·»åŠ è¯„è®ºã€ç½‘ç«™åˆ†æçš„åŠŸèƒ½","uri":"/202305120524-hugo-%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%BD%91%E7%AB%99%E5%88%86%E6%9E%90%E7%9A%84%E5%8A%9F%E8%83%BD/#è¯„è®ºåŠŸèƒ½"},{"categories":["Tools-Method"],"content":" ç½‘ç«™åˆ†æç›´æ¥å‚è€ƒ https://hugodoit.pages.dev/zh-cn/about/#back-to-top è·å¾—idçš„æµç¨‹å¾ˆç®€å•ï¼š google baidu ç„¶ååœ¨ config.toml ä¸­å¼€å¯åˆ†æåŠŸèƒ½ï¼Œå¹¶é…ç½® id å³å¯ æŸ¥çœ‹åˆ†ææ•°æ®ï¼š https://analytics.google.com/analytics/web https://tongji.baidu.com/ ","date":"2023-05-12","objectID":"/202305120524-hugo-%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%BD%91%E7%AB%99%E5%88%86%E6%9E%90%E7%9A%84%E5%8A%9F%E8%83%BD/:2:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"Hugo åšå®¢ç«™ç‚¹æ·»åŠ è¯„è®ºã€ç½‘ç«™åˆ†æçš„åŠŸèƒ½","uri":"/202305120524-hugo-%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%BD%91%E7%AB%99%E5%88%86%E6%9E%90%E7%9A%84%E5%8A%9F%E8%83%BD/#ç½‘ç«™åˆ†æ"},{"categories":["Tools-Method"],"content":"#ä¸ªäººè®°å½• ","date":"2023-05-12","objectID":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/:0:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"å¦‚ä½•è®© Google æœç´¢åˆ°æˆ‘ä»¬çš„åšå®¢","uri":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/#"},{"categories":["Tools-Method"],"content":" ä¸ºä»€ä¹ˆæœç´¢ä¸åˆ°æˆ‘çš„åšå®¢çªç„¶æƒ³åœ¨ Google æœç´¢ä¸€ä¸‹è‡ªå·±çš„åšå®¢ï¼Œä½†æ˜¯æˆ‘å‘ç°å•¥å­ä¹Ÿæœç´¢ä¸åˆ° ï¼ˆæ—¢ç„¶å·²ç»æŠŠå†™ä½œçš„å†…å®¹ä»æœ¬åœ°è¿ç§»åˆ°äº†åšå®¢ï¼Œä¹Ÿæ˜¯å› ä¸ºæœ‰ä»¥ä¸‹çš„åŸå› ï¼š è‡ªå·±çš„å†™ä½œå·¥å…·æ—¶å¸¸å˜è¿ï¼Œå¯èƒ½æœ‰ä»¥ä¸‹éº»çƒ¦ï¼š éœ€è¦è¿ç§»æ–‡æ¡£ï¼Œä¸€äº›é“¾æ¥æ–¹å¼å¯èƒ½å‘ç”Ÿæ”¹å˜ æœ‰æ—¶å€™å†™çš„æ–‡æ¡£è¢«é—æ¼ã€ä¸¢å¤± å¦‚æœæ¯å†™ä¸€ç¯‡æ–‡ç« å°±å‘å¸ƒåˆ°è‡ªå·±çš„åšå®¢ï¼Œå°±ç®—ä¹‹åå†™ä½œå·¥å…·å‘ç”Ÿæ”¹å˜ï¼Œä¹Ÿå¯ä»¥ä¸è¿›è¡Œæ–‡æ¡£è¿ç§»çš„æ“ä½œ all in oneï¼ŒæŠŠæ‰€æœ‰çš„å†…å®¹æ”¾åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œä¹Ÿæ–¹ä¾¿æŸ¥çœ‹ è·Ÿå¹¿å¤§çš„ç½‘å‹äº¤æµï¼Œæœ‰æ—¶å€™è‡ªå·±çš„ä¸€äº›æƒ³æ³•ã€å­¦ä¹ å†…å®¹å¯èƒ½æ˜¯æœ‰å·®é”™ã€æˆ–è€…èƒ½å¤Ÿä¼˜åŒ–çš„ï¼Œå¦‚æœèƒ½å¤Ÿå¾—åˆ°å„è·¯é«˜äººçš„æŒ‡ç‚¹ï¼Œé‚£å¿…å®šæ˜¯ç›¸å½“ nice çš„ï¼Œå…¶æ¬¡ï¼Œå¦‚æœè‡ªå·±çš„æ€»ç»“ã€æ–¹æ³•å¯¹åˆ«äººæœ‰äº›è®¸å¸®åŠ©ï¼Œåˆ†äº«å‡ºå»ä¹Ÿæ˜¯ä¸€ç§æ”¶è· åŸå› ï¼š Google åªèƒ½æœç´¢åˆ°å·²ç»æ”¶å½•çš„ç«™ç‚¹ï¼Œæˆ‘çš„åšå®¢æ²¡æœ‰çŸ¥ååº¦ï¼ŒGoogle ä¹Ÿä¸ä¼šè‡ªåŠ¨æ”¶å½• è§£å†³ï¼š è¿™ç§æƒ…å†µä¸‹å¯ä»¥è‡ªå·±ä¸»åŠ¨è¯·æ±‚è®© Google æ”¶å½•æˆ‘ä»¬çš„åšå®¢ ","date":"2023-05-12","objectID":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/:1:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"å¦‚ä½•è®© Google æœç´¢åˆ°æˆ‘ä»¬çš„åšå®¢","uri":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/#ä¸ºä»€ä¹ˆæœç´¢ä¸åˆ°æˆ‘çš„åšå®¢"},{"categories":["Tools-Method"],"content":" å¦‚ä½•è¿›è¡Œæ“ä½œ æŸ¥çœ‹æˆ‘ä»¬çš„ç«™ç‚¹æ˜¯å¦è¢«æ”¶å½• åœ¨è°·æ­Œæœç´¢æ è¾“å…¥ï¼š site:https://honghuiqiang.com å¾ˆæ˜æ˜¾æ˜¯æ²¡æœ‰è¢«æ”¶å½•çš„ æäº¤æœç´¢èµ„æº åœ¨ google search console æ·»åŠ èµ„æºï¼Œé€‰ç”¨ ç½‘å€å‰ç¼€ ç±»å‹ ä¸‹è½½ä¸Šé¢çš„ html æ–‡ä»¶ï¼Œæ›´æ–°åˆ°ç«™ç‚¹æ ¹ç›®å½• å¾€ 904566722.github.io æ¨é€è¯¥ä¿®æ”¹ï¼š ç­‰å¾… gh pages éƒ¨ç½²å®Œæˆï¼š éªŒè¯å°±å®Œæˆäº†ï¼š ç”Ÿæˆç«™ç‚¹åœ°å›¾ï¼ˆhugo å·²è‡ªåŠ¨ç”Ÿæˆï¼Œå¿½ç•¥è¯¥æ­¥éª¤ï¼‰ è¿›å…¥ XML-Sitemaps.com ï¼Œè¾“å…¥åšå®¢çš„åœ°å€ï¼Œç‚¹å‡» start ï¼Œç­‰å¾…è¿›ç¨‹ç»“æŸ ç‚¹å‡» view sitemap details ä¸‹è½½ sitemap file åŒæ ·ä¸Šä¼ åˆ°ç«™ç‚¹æ ¹ç›®å½• è¿™ä¸ª sitemap.xml æ–‡ä»¶ä¿å­˜çš„å…¶å®å°±æ˜¯åšå®¢çš„åšæ–‡ã€ç›®å½•çš„è·¯å¾„ï¼š åˆ° Google Search Console æäº¤ç«™ç‚¹åœ°å›¾ æ‰‹åŠ¨è¯·æ±‚ç¼–å…¥ç´¢å¼• å¯ä»¥æµ‹è¯•å…¶ä¸­ä¸€ç¯‡åšæ–‡ è¿™ä¸ªå°±æ˜¯æ‰‹åŠ¨è¯·æ±‚ç¼–å…¥ç´¢å¼•çš„æ­¥éª¤ ä»¥ä¸Šçš„æ­¥éª¤å®Œå…¨å‚ç…§æ–‡æ¡£ï¼šhttps://zoharandroid.github.io/2019-08-03-%E8%AE%A9%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/ å†™çš„å¾ˆç®€æ´æ¸…æ¥š ","date":"2023-05-12","objectID":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/:2:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"å¦‚ä½•è®© Google æœç´¢åˆ°æˆ‘ä»¬çš„åšå®¢","uri":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/#å¦‚ä½•è¿›è¡Œæ“ä½œ"},{"categories":["Tools-Method"],"content":" é€šè¿‡ github action è‡ªåŠ¨å‘å¸ƒçš„ hugo ç±»å‹åšå®¢éœ€è¦åšä»€ä¹ˆæ”¹åŠ¨å…³äº hugo å¯ä»¥çœå»ä¸Šé¢çš„å…³äº sitemap çš„æ“ä½œ åªéœ€è¦åœ¨ xxx.github.io ä»“åº“æ ¹è·¯å¾„æ·»åŠ  google search verification çš„é‚£ä¸ª html æ–‡ä»¶ å¯ä»¥æœ‰å¤šç§æ–¹å¼å®ç°è¿™ä¸ªæ•ˆæœï¼Œå¯ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥å‚è€ƒä»¥ä¸‹æ–¹å¼ï¼š åœ¨æºä»“åº“ï¼ˆä¿å­˜åšå®¢mdæ–‡ä»¶çš„ä»“åº“ï¼Œä¹Ÿæ˜¯æ‰§è¡Œ gh action çš„ä»“åº“ï¼‰æ·»åŠ ä¸€ä¸ª extend æ–‡ä»¶å¤¹ï¼ŒæŠŠå¯¹åº”çš„ xxx.htmlï¼ˆä¸Šé¢çš„è®¤è¯æ–‡ä»¶ï¼‰ æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ ä¿®æ”¹ gh action çš„ yaml é…ç½®è„šæœ¬ åœ¨ä½¿ç”¨ hugo å‘½ä»¤ç”Ÿæˆ public ç›®å½•ä¹‹åï¼ŒæŠŠ extend ç›®å½•ä¸‹çš„å†…å®¹æ‹·è´åˆ° public ç›®å½• name: deploy on: push: workflow_dispatch: schedule: # Runs everyday at 8:00 AM - cron: '0 0 * * *' jobs: build: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 with: submodules: true fetch-depth: 0 - name: Set up Python uses: actions/setup-python@v2 with: python-version: 3.8 - name: Commit and push if changed run: |- git diff git config --global user.email \"action@github.com\" git config --global user.name \"GitHub Action\" git add -A git commit -m \"ci: update about page (automatically)\" || exit 0 git push - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: 0.105.0 extended: true - name: Build Web run: hugo --gc --minify #run: hugo - name: CP Extend Files run: cp ./extend/* ./public - name: Create CNAME run: echo \"honghuiqiang.com\" \u003e public/CNAME - name: Run Pagefind run: npm_config_yes=true npx pagefind --source \"public\" - name: Deploy Web uses: peaceiris/actions-gh-pages@v3 with: PERSONAL_TOKEN: ${{ secrets.PERSONAL_TOKEN }} EXTERNAL_REPOSITORY: 904566722/904566722.github.io PUBLISH_BRANCH: hugo PUBLISH_DIR: ./public commit_message: ${{ github.event.head_commit.message }} è‡³æ­¤å°±å®Œæˆäº†æ‰€æœ‰æ“ä½œ https://zoharandroid.github.io/2019-08-03-%E8%AE%A9%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/ ","date":"2023-05-12","objectID":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/:3:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"å¦‚ä½•è®© Google æœç´¢åˆ°æˆ‘ä»¬çš„åšå®¢","uri":"/202305120409-%E5%A6%82%E4%BD%95%E8%AE%A9-google-%E6%90%9C%E7%B4%A2%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E5%8D%9A%E5%AE%A2/#é€šè¿‡-github-action-è‡ªåŠ¨å‘å¸ƒçš„-hugo-ç±»å‹åšå®¢éœ€è¦åšä»€ä¹ˆæ”¹åŠ¨"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è§„åˆ’åŒº åŠ ä¸ªè¯„è®ºç³»ç»Ÿå·®ä¸å¤šäº†ï¼Œåšå®¢å°±å·®ä¸å¤šè¿™æ ·å¥½äº† æ•´ç†ä¸€ä¸‹æˆ‘çš„ç”µè„‘å·¥ä½œåŒº workspaceï¼Œä¹Ÿå°±æ˜¯å­¦ä¹ ã€å·¥ä½œæ—¶å€™çš„ç•Œé¢å¸ƒå±€ï¼Œè¿˜æ˜¯åˆ’åˆ†ä¸€ä¸‹å¤§è‡´çš„åŒºåŸŸï¼Œå…»æˆä¹ æƒ¯ï¼Œæ•´æ´ä¸€ç‚¹ æ•´ç†ä¹‹å‰å†™åœ¨æœ¬åœ°çš„æ–‡æ¡£ æŠŠæ–‡æ¡£è¿ç§»åˆ°åšå®¢çš„è¿‡ç¨‹ä¸­é¡ºä¾¿å›é¡¾ä¸€ä¸‹ç¬”è®°çš„å†…å®¹ï¼Œä¸è¦å•çº¯å¤åˆ¶ç²˜è´´ å¦‚æœè¿˜æœ‰æ—¶é—´ï¼Œåšä¸€ä¸‹å…¶ä»–ç›¸å…³çŸ¥è¯†å­¦ä¹ ï¼ˆåº”è¯¥æ˜¯æ²¡æœ‰æ—¶é—´ï¼‰ ganttï¼š gantt dateFormat HH:mm axisFormat %H:%M tickInterval 1h title ä»Šå¤©å¤§æ¦‚è¦åš section åšå®¢ a1.æ·»åŠ è¯„è®ºç³»ç»Ÿ:done, 03:00, 30m a2.æ•´ç†æˆ‘çš„workspace: 1h a3.googleç½‘ç«™æ”¶å½•:done, 1h section è¿ç§»æ–‡æ¡£ b1.golangçš„æ–‡æ¡£:done, 1h b2.mysqlæ–‡æ¡£:done, 20m b3.linuxæ–‡æ¡£:done, 1h b4.ä¹‹å‰æ”¾åœ¨æ”¶é›†ç®±çš„æ–‡æ¡£:done, 5m b5.é¡¹ç›®ç®¡ç†æ–‡æ¡£:done, 40m b6.dockeræ–‡æ¡£:done, 30m b7.kubernetesæ–‡æ¡£:done, 1h b7.openshiftæ–‡æ¡£: 1h b8.å·¥ä½œæ€§è´¨çš„æ–‡æ¡£: 4h section ä¹ æƒ¯ ç®—æ³•æ¯æ—¥ä¸€é¢˜:done, 1h æ³¨æ„ä»¥ä¸Šã€Šå·¥ä½œæ€§è´¨çš„æ–‡æ¡£ã€‹ï¼šå› ä¸ºä¹‹å‰å†™åœ¨æœ¬åœ°ï¼Œæ‰€ä»¥ä¸€äº›å…¬å¸éšç§æ€§è´¨çš„å†…å®¹éƒ½å¸è½½é‡Œé¢ï¼Œæ”¾åˆ°åšå®¢åªéœ€è¦æå–å…¶ä¸­çŸ¥è¯†æ€§çš„å†…å®¹ï¼ ","date":"2023-05-12","objectID":"/2023-05-12/:1:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-12 æ—¥è®°å½•","uri":"/2023-05-12/#è§„åˆ’åŒº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-ä¹ æƒ¯è®°å½•(v2.0)æ‰“å¡çŠ¶æ€ï¼š âœ… | âŒ æ”¹æˆä½¿ç”¨ todo åˆ—è¡¨çš„å½¢å¼æ¥è¡¨ç°ï¼Œæ¯ä¸ªæœˆçš„æ‰“å¡æƒ…å†µåœ¨æœˆåº¦æ€»ç»“é‡Œé¢ä½“ç° ç®—æ³•æ¯æ—¥ä¸€é¢˜ 202305121759 t128 æœ€é•¿è¿ç»­åºåˆ— ","date":"2023-05-12","objectID":"/2023-05-12/:2:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-12 æ—¥è®°å½•","uri":"/2023-05-12/#è®°å½•åŒº-ä¹ æƒ¯è®°å½•"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-äº‹\u0026ç‰©è®° é‡è¦äº‹è®° æ—  æ–°äº‹ç‰© å‘ç°ä¸¤æœ¬æ–°çš„ä¹¦ï¼šæ“ä½œç³»ç»Ÿå¯¼è®ºã€DDIA ä¸€ä¸ªé«˜è´¨é‡çš„åšå®¢ï¼šhttps://draveness.me/ ","date":"2023-05-12","objectID":"/2023-05-12/:3:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-12 æ—¥è®°å½•","uri":"/2023-05-12/#è®°å½•åŒº-äº‹ç‰©è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-éšæ‰‹è®°ğŸ§ğŸµï¼ˆæŒ‘é¦–æ­Œï¼Ÿlocal:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ remote:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ï¼‰ ä»Šå¤©æŠŠè§„åˆ’è¦è¿ç§»çš„æ–‡æ¡£å¤§éƒ¨åˆ†è¿ç§»äº†ï¼Œä¹Ÿåšäº†ä¸€äº›æ‰©å±•å­¦ä¹ ï¼Œå‘ç°äº†ä¸€äº›ä¸é”™çš„åšå®¢ã€ä¹¦ç±ã€‚ ","date":"2023-05-12","objectID":"/2023-05-12/:4:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-12 æ—¥è®°å½•","uri":"/2023-05-12/#è®°å½•åŒº-éšæ‰‹è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ€»ç»“å¿ƒæƒ…æ‰“åˆ†ï¼š ğŸ˜† å¾ˆå¿«ä¹ ğŸ™‚ ä¸€èˆ¬å¿«ä¹ ğŸ˜¶ æ— æ˜æ˜¾æƒ…ç»ªæ³¢åŠ¨ ğŸ§æœ‰ç–‘é—® ğŸ˜µâ€ğŸ’« å¾ˆæ··ä¹± ğŸ˜®â€ğŸ’¨å¹æ°” ğŸ˜¡ ç”Ÿæ°” è¾“å‡ºå†…å®¹ï¼š æ— ï¼ˆæ–‡æ¡£è¿ç§»ï¼‰ 202305121500 å…³äº goroutine å†…å­˜æ³„æ¼çš„ä¸€äº›æ€è€ƒ 202305121926 è¯» DDIA ç•™ä¸‹çš„ä¸€äº›è®°å½• ","date":"2023-05-12","objectID":"/2023-05-12/:5:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-12 æ—¥è®°å½•","uri":"/2023-05-12/#è®°å½•åŒº-æ€»ç»“"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ˜å¤©å®Œæˆå‰©ä¸‹çš„æ–‡æ¡£è¿ç§» ","date":"2023-05-12","objectID":"/2023-05-12/:6:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-12 æ—¥è®°å½•","uri":"/2023-05-12/#è®°å½•åŒº-æ˜å¤©"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#leetcode 1016. å­ä¸²èƒ½è¡¨ç¤ºä» 1 åˆ° N æ•°å­—çš„äºŒè¿›åˆ¶ä¸² // // æ€è·¯1. éå† nï¼Œæ¯ä¸ªå­—ç¬¦ä¸²éƒ½åˆ¤æ–­æ˜¯å¦æ˜¯ s çš„å­ä¸²ï¼Œ å¦‚æœä½¿ç”¨ kmp ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ s çš„é•¿åº¦ m // o(n * m) * æ•°å­—è½¬äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æ—¶é—´ // n's max = 1000000000 n * æ¯ä¸ªæ•°å­—è½¬äºŒè¿›åˆ¶çš„æ—¶é—´åº”è¯¥å¾ˆé•¿ï¼Œå†åŠ ä¸ŠåŒ¹é…çš„æ—¶é—´å¯èƒ½ä¼šè¶…æ—¶ // å‡è®¾ n // 15:1111 å¦‚æœæ˜¯å­ä¸²ï¼Œé‚£ä¹ˆ 111ã€11ã€1 éƒ½æ˜¯å­ä¸² 15 7 3 1 // 14:1110 å¦‚æœæ˜¯å­ä¸²ï¼Œé‚£ä¹ˆ 110ã€10ã€0 éƒ½æ˜¯å­ä¸² // 13:1101 å¦‚æœæ˜¯å­ä¸²ï¼Œé‚£ä¹ˆ 101ã€1 éƒ½æ˜¯å­ä¸² // 12:1100 .. // 11:1011 // 10:1010 // 9:1001 // ... // 1:0001 // // æ€è·¯2. é€šè¿‡ä¸Šé¢çš„åˆ†æå¯ä»¥æ‰¾åˆ°ä¸€ç§ä¼˜åŒ– // ä»æœ€å¤§çš„æ•°å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœè¿™ä¸ªæ•°ç¬¦åˆï¼Œé‚£ä¹ˆæŒç»­å³ç§»(/2)ï¼Œæ”¾å…¥ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ mapï¼Œ // éå†çš„æ—¶å€™å¦‚æœè¿™ä¸ªæ•°å·²ç»è¢«æ”¾å…¥ mapï¼Œå°±è·³è¿‡ func queryString(s string, n int) bool { set := map[int]bool{} for num := n; num \u003e= 1; num-- { if _, ok := set[num]; ok { continue } binaryStr := strconv.FormatInt(int64(num), 2) if kmp(s, binaryStr) { tmpNum := num for tmpNum \u003e 0 { set[tmpNum] = true tmpNum /= 2 } } else { return false } } return len(set) == n } func kmp(s, pat string) bool { n, m := len(s), len(pat) i, j := 0, 0 next := getNext(pat) for i \u003c n \u0026\u0026 j \u003c m { for j \u003e 0 \u0026\u0026 pat[j] != s[i] {j = next[j-1]} if pat[j] == s[i] { j++ } i++ } return j == m } func getNext(pat string) []int { i, j, n := 1, 0, len(pat) next := make([]int, n) next[0] = 0 for i \u003c n { for j \u003e 0 \u0026\u0026 pat[j] != pat[i] {j = next[j-1]} if pat[i] == pat[j] { j++ } next[i] = j i++ } return next } ","date":"2023-05-11","objectID":"/202305111537-t1016-%E5%AD%90%E4%B8%B2%E8%83%BD%E8%A1%A8%E7%A4%BA%E4%BB%8E-1-%E5%88%B0-n-%E6%95%B0%E5%AD%97%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%B2/:0:0","series":["leetcode"],"tags":[],"title":"t1016 å­ä¸²èƒ½è¡¨ç¤ºä» 1 åˆ° N æ•°å­—çš„äºŒè¿›åˆ¶ä¸²","uri":"/202305111537-t1016-%E5%AD%90%E4%B8%B2%E8%83%BD%E8%A1%A8%E7%A4%BA%E4%BB%8E-1-%E5%88%B0-n-%E6%95%B0%E5%AD%97%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%B2/#"},{"categories":["Tools-Method"],"content":"#ä¸ªäººè®°å½• windows ç¯å¢ƒ ","date":"2023-05-11","objectID":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/:0:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ Hugo + GitHub Pages æ­å»ºåšå®¢è®°å½•","uri":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/#"},{"categories":["Tools-Method"],"content":" Hugo å®‰è£…ä¾èµ–/ç‰ˆæœ¬ï¼š Go 1.20.4ï¼ˆä¸åŒçš„ hugo ä¾èµ–çš„ go ç‰ˆæœ¬å¯èƒ½ä¸åŒï¼Œæ³¨æ„åˆ†è¾¨ï¼‰ Hugo v0.91.2-1798BD3F+extended Git å¯ä»¥ç›´æ¥åœ¨ Hugo å·²å‘å¸ƒçš„ç‰ˆæœ¬ ä¸­ç›´æ¥ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶æ¥è¿è¡Œ å¯ä»¥åœ¨ç¯å¢ƒå˜é‡ä¸­æ·»åŠ ä¸€ä¸ªä¸“é—¨æ”¾è‡ªå·±äºŒè¿›åˆ¶æ–‡ä»¶çš„ç›®å½•ï¼š å°†ä¸Šé¢ä¸‹è½½çš„ hugo äºŒè¿›åˆ¶æ–‡ä»¶æ”¾åˆ°ä¸Šé¢å®šä¹‰çš„ç›®å½•ä¸‹ï¼Œå°±èƒ½å¤Ÿç›´æ¥è¿è¡Œè¿™ä¸ªå‘½ä»¤äº† ","date":"2023-05-11","objectID":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/:1:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ Hugo + GitHub Pages æ­å»ºåšå®¢è®°å½•","uri":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/#hugo-å®‰è£…"},{"categories":["Tools-Method"],"content":" ç”Ÿæˆé¡¹ç›®å…·ä½“å¯ä»¥å‚è€ƒæ–‡æ¡£ï¼šhttps://gohugo.io/getting-started/quick-start/ hugo new site demo1 # ç”Ÿæˆé¡¹ç›®ç»“æ„ cd demo1 git init # å°†é¡¹ç›®åˆå§‹åŒ–æˆ git é¡¹ç›® # å…‹éš†ä¸€ä¸ªä¸»é¢˜ git submodule add git@github.com:theNewDynamic/gohugo-theme-ananke.git themes/ananke echo \"theme = 'ananke'\" \u003e\u003e config.toml # æŠŠä¸»é¢˜é€‰æ‹©å†™å…¥é…ç½®æ–‡ä»¶ï¼Œé€‰æ‹©ä¸Šé¢å…‹éš†çš„ä¸»é¢˜ hugo new posts/test_post.md # å†™ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£ hugo server --buildDrafts # æœ¬åœ°è¿è¡Œ è¿è¡Œä¹‹åæœ¬åœ°è®¿é—® localhost:1313ï¼š é¡¹ç›®ç»“æ„ï¼š $ tree -d -L 2 . |-- archetypes |-- content | `-- posts |-- data |-- gohugo-theme-ananke | |-- archetypes | |-- assets | |-- exampleSite | |-- i18n | |-- images | |-- layouts | |-- resources | `-- static |-- layouts |-- public |-- resources | `-- _gen |-- static `-- themes `-- ananke ","date":"2023-05-11","objectID":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/:2:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ Hugo + GitHub Pages æ­å»ºåšå®¢è®°å½•","uri":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/#ç”Ÿæˆé¡¹ç›®"},{"categories":["Tools-Method"],"content":" é€‰æ‹©ä¸»é¢˜ æŒ‘é€‰å–œæ¬¢çš„ä¸»é¢˜ä»“åº“ï¼Œå…‹éš†åˆ° themes ç›®å½•ä¸‹ https://themes.gohugo.io/ ç¼–è¾‘ config.toml é…ç½®æ–‡ä»¶ ... theme = 'ä¸»é¢˜' æˆ–è€…æ¯”è¾ƒæˆç†Ÿçš„ä¸»é¢˜ä¸€èˆ¬éƒ½ä¼šæœ‰è‡ªå·±çš„å®Œå–„çš„é…ç½®æ–‡æ¡£ï¼Œç›´æ¥å‚ç…§å³å¯ï¼Œæœ¬åšå®¢ä½¿ç”¨ Doit ä¸»é¢˜ ","date":"2023-05-11","objectID":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/:3:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ Hugo + GitHub Pages æ­å»ºåšå®¢è®°å½•","uri":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/#é€‰æ‹©ä¸»é¢˜"},{"categories":["Tools-Method"],"content":" ä½¿ç”¨ GitHub Pages éƒ¨ç½²ç«™ç‚¹ä½¿ç”¨ hugo å‘½ä»¤åœ¨è‡ªå·±çš„åšå®¢æ ¹ç›®å½•ç”Ÿæˆåšå®¢ç«™ç‚¹æ–‡ä»¶å¤¹ public hugo cd public æ–°å»ºä¸€ä¸ª username.github.io çš„ä»“åº“ï¼Œæ¯”å¦‚æˆ‘çš„ä»“åº“åä¸º 904566722.github.io ï¼Œç„¶åå°†ä¸Šé¢ç”Ÿæˆçš„ public æ–‡ä»¶å¤¹çš„å†…å®¹æ¨é€åˆ°è¯¥ä»“åº“ ç„¶åå°±å¯ä»¥ä½¿ç”¨ username.github.io æ¥è®¿é—®è¯¥ç½‘ç«™äº† ","date":"2023-05-11","objectID":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/:4:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ Hugo + GitHub Pages æ­å»ºåšå®¢è®°å½•","uri":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/#ä½¿ç”¨-github-pages-éƒ¨ç½²ç«™ç‚¹"},{"categories":["Tools-Method"],"content":" æ³¨å†ŒåŸŸåä¸ºäº†èƒ½å¤Ÿä½¿ç”¨è‡ªå·±çš„åŸŸåæ¥è®¿é—®åšå®¢ï¼Œå¯ä»¥æ³¨å†Œä¸€ä¸ªåŸŸåï¼Œæˆ‘è¿™è¾¹ä½¿ç”¨è…¾è®¯äº‘çš„åŸŸåï¼Œè´­ä¹°å®Œæˆåé…ç½®è§£æï¼š ä¸‹ä¸€æ­¥æ˜¯åœ¨ username.github.io ä¸­é…ç½®è‡ªå·±çš„åŸŸåï¼š é…ç½®å®Œæˆåå°±å¯ä»¥ä½¿ç”¨è‡ªå·±çš„åŸŸåæ¥è®¿é—®ç½‘ç«™å•¦ ","date":"2023-05-11","objectID":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/:5:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ Hugo + GitHub Pages æ­å»ºåšå®¢è®°å½•","uri":"/202305111342-%E4%BD%BF%E7%94%A8-hugo--github-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/#æ³¨å†ŒåŸŸå"},{"categories":["Tools-Method"],"content":"#ä¸ªäººè®°å½• ","date":"2023-05-11","objectID":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/:0:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ GitHub Action æ¥å®Œæˆåšå®¢è‡ªåŠ¨æ›´æ–°","uri":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/#"},{"categories":["Tools-Method"],"content":" æ‰‹åŠ¨å‘å¸ƒæµç¨‹ä»¥ç¼–å†™ä¸€ç¯‡æ–‡æ¡£ä¸ºä¾‹ï¼š ä½¿ç”¨ obsidian ç¼–å†™æ–‡æ¡£ æ‰§è¡Œå‘½ä»¤è¡Œæœ¬åœ°ç”Ÿæˆ hugo é¡µé¢ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æŠ¥é”™ã€æ–‡æ¡£ç¼–æ’ä¹‹ç±»çš„é—®é¢˜ hugo server -e production --disableFastRender å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œéœ€è¦æŠŠç›¸åº”å†…å®¹æ¨é€åˆ°ä¸¤ä¸ªä»“åº“ï¼šä¿å­˜mdæ–‡æ¡£çš„ä»“åº“Aï¼ˆæœ¬ä»“åº“ï¼‰ã€ä¿å­˜hugoç”Ÿæˆçš„é™æ€é¡µé¢çš„ä»“åº“B å¯ä»¥å…ˆæ¨é€åˆ°ä»“åº“Aï¼Œä¿å­˜æ–‡ç«  ç„¶åæ‰§è¡Œ hugo ç”Ÿæˆé™æ€ç½‘é¡µï¼Œåˆ‡åˆ° public ç›®å½•ï¼Œæ¨é€å†…å®¹åˆ°ä»“åº“B git add . git commit -m \"m/w. desc\" git push hugo cd public git add . git commit -m \"m/w. desc\" git push ","date":"2023-05-11","objectID":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/:1:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ GitHub Action æ¥å®Œæˆåšå®¢è‡ªåŠ¨æ›´æ–°","uri":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/#æ‰‹åŠ¨å‘å¸ƒæµç¨‹"},{"categories":["Tools-Method"],"content":" è‡ªåŠ¨å‘å¸ƒçš„è¿‡ç¨‹éœ€è¦ä½¿ç”¨åˆ° GitHub Action ä¸€æ®µæè¿°ï¼š ä½¿ç”¨ GitHub Actions ç›´æ¥åœ¨æ‚¨çš„å­˜å‚¨åº“ä¸­è‡ªåŠ¨åŒ–ã€è‡ªå®šä¹‰å’Œæ‰§è¡Œæ‚¨çš„è½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹ã€‚æ‚¨å¯ä»¥å‘ç°ã€åˆ›å»ºå’Œå…±äº«æ“ä½œä»¥æ‰§è¡Œæ‚¨å–œæ¬¢çš„ä»»ä½•å·¥ä½œï¼ŒåŒ…æ‹¬ CI/CDï¼Œå¹¶åœ¨å®Œå…¨è‡ªå®šä¹‰çš„å·¥ä½œæµä¸­ç»„åˆæ“ä½œ é‚£ä¹ˆå°±å¯ä»¥ç”¨æ¥çœå»æ‰‹åŠ¨åˆ° public ç›®å½• commitã€push çš„æ“ä½œï¼Œå®ç°åšå®¢çš„è‡ªåŠ¨å‘å¸ƒã€‚ è®¾å®šä¸¤ä¸ªäº‹ä»¶å°±å·®ä¸å¤šäº†ï¼š å½“ä»“åº“ A æœ‰ä»£ç æ›´æ–°ï¼ˆpushï¼‰ï¼Œæ‰§è¡Œè„šæœ¬ å®šæ—¶æ‰§è¡Œè„šæœ¬ æ”¯æŒæ‰‹åŠ¨æ‰§è¡Œ flowchart TD %% é‡è¦æ€§çš„åˆ†ç±» classDef important stroke:red, stroke-width:2px classDef pass stroke:grey, stroke-dasharray: 5,5 %% æµç¨‹çš„åˆ†ç±» classDef success stroke:green %% è§£é‡Š classDef stick fill:yellow, stroke:yellow classDef stickImp fill:pink, stroke:pink %% ----ä¸»è¦æµç¨‹ begin ---- act1(æ‰‹åŠ¨æ¨é€ä»£ç )--\u003erepoA[æºä»“åº“] repoA--\u003e|è§¦å‘GitHub Action|ga[æ‰§è¡Œæºä»“åº“ä¸­ç¼–å†™å¥½çš„\u003cbr\u003e.github/workflow/xxx.yaml è„šæœ¬] subgraph sub1[\"GitHub Action æ‰§è¡Œæœºè‡ªåŠ¨å®Œæˆçš„æ“ä½œ\"] ga--\u003eautoAct1[æ‹‰å–æºä»“åº“åˆ°æœ¬åœ°] autoAct1--\u003eautoAct2[æ‰§è¡Œ hugo ç”Ÿæˆ public ç›®å½•] autoAct2--\u003eautoAct3[æ‹‰å– xxx.github.io ä»“åº“\u003cbr\u003eå¹¶æ‰§è¡Œ git rm -r --ignore-unmatch * åˆ é™¤æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•\u003cbr\u003eåˆ é™¤å®Œæˆä¹‹åæŠŠç”Ÿæˆçš„ public ç›®å½•æ”¾åˆ° xxx.github.io] autoAct3--\u003eauto4[commit å¹¶ä¸” push åˆ° xxx.github.io ä»“åº“] end auto4--\u003epage[GitHub Pages ç”Ÿæˆç«™ç‚¹] %% ---- ä¸»è¦æµç¨‹ end ---- %% æ³¨æ„ä¸€ä¸ªé—®é¢˜ note1[\"è¿™é‡Œçš„æ“ä½œä¼šæŠŠ xxx.github.io ä»“åº“çš„åŸŸåé…ç½®æ¸…ç©º(å¦‚æœæœ‰é…ç½®çš„è¯)\"] note1-.-autoAct3 subgraph sub2 fix1[ç”Ÿæˆä¸€ä¸ª CNAME æ–‡ä»¶åˆ° public]--\u003ea[æŠŠ public æ‹·è´åˆ° xxx.github.io] end note1-.-\u003e|å¦‚ä½•è§£å†³|sub2 sub2-.-auto4 class note1 stickImp flowchart TD %% é‡è¦æ€§çš„åˆ†ç±» classDef important stroke:red, stroke-width:2px classDef pass stroke:grey, stroke-dasharray: 5,5 %% æµç¨‹çš„åˆ†ç±» classDef success stroke:green %% è§£é‡Š classDef stick fill:yellow, stroke:yellow classDef stickImp fill:pink, stroke:pink %% ----ä¸»è¦æµç¨‹ begin ---- act1(æ‰‹åŠ¨æ¨é€ä»£ç )--\u003erepoA[æºä»“åº“] repoA--\u003e|è§¦å‘GitHub Action|ga[æ‰§è¡Œæºä»“åº“ä¸­ç¼–å†™å¥½çš„ .github/workflow/xxx.yaml è„šæœ¬] subgraph sub1[\"GitHub Action æ‰§è¡Œæœºè‡ªåŠ¨å®Œæˆçš„æ“ä½œ\"] ga--\u003eautoAct1[æ‹‰å–æºä»“åº“åˆ°æœ¬åœ°] autoAct1--\u003eautoAct2[æ‰§è¡Œ hugo ç”Ÿæˆ public ç›®å½•] autoAct2--\u003eautoAct3[æ‹‰å– xxx.github.io ä»“åº“ å¹¶æ‰§è¡Œ git rm -r --ignore-unmatch * åˆ é™¤æ‰€æœ‰æ–‡ä»¶å’Œç›®å½• åˆ é™¤å®Œæˆä¹‹åæŠŠç”Ÿæˆçš„ public ç›®å½•æ”¾åˆ° xxx.github.io] autoAct3--\u003eauto4[commit å¹¶ä¸” push åˆ° xxx.github.io ä»“åº“] end auto4--\u003epage[GitHub Pages ç”Ÿæˆç«™ç‚¹] %% ---- ä¸»è¦æµç¨‹ end ---- %% æ³¨æ„ä¸€ä¸ªé—®é¢˜ note1[\"è¿™é‡Œçš„æ“ä½œä¼šæŠŠ xxx.github.io ä»“åº“çš„åŸŸåé…ç½®æ¸…ç©º(å¦‚æœæœ‰é…ç½®çš„è¯)\"] note1-.-autoAct3 subgraph sub2 fix1[ç”Ÿæˆä¸€ä¸ª CNAME æ–‡ä»¶åˆ° public]--\u003ea[æŠŠ public æ‹·è´åˆ° xxx.github.io] end note1-.-\u003e|å¦‚ä½•è§£å†³|sub2 sub2-.-auto4 class note1 stickImp ","date":"2023-05-11","objectID":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/:2:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ GitHub Action æ¥å®Œæˆåšå®¢è‡ªåŠ¨æ›´æ–°","uri":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/#è‡ªåŠ¨å‘å¸ƒçš„è¿‡ç¨‹"},{"categories":["Tools-Method"],"content":" å…·ä½“æ“ä½œ person token åœ¨ GitHub ä¸ªäººè®¾ç½®é‡Œé¢ settings/developer settings åˆ›å»ºä¸€ä¸ª tokenï¼Œè¿™ä¸ª token éœ€è¦å‹¾é€‰ä¸¤ä¸ªæƒé™ï¼šrepo å’Œ workflow ç„¶ååˆ°æºä»“åº“ settings / Secrets and variables ä¸­æ·»åŠ ä¸€ä¸ª repository variable å˜é‡ ç„¶ååœ¨æºä»“åº“éœ€è¦æ·»åŠ ä¸€ä¸ª yaml è„šæœ¬ ç›®å½•ï¼š.github/workflows/update-blog.yaml ï¼Œè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š name: deploy on: # è¡¨ç¤ºä»¥ä¸‹æƒ…å†µå‘ç”Ÿæ—¶è§¦å‘ push: workflow_dispatch: schedule: # Runs everyday at 8:00 AM - cron: '0 0 * * *' jobs: build: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 with: submodules: true fetch-depth: 0 - name: Set up Python uses: actions/setup-python@v2 with: python-version: 3.8 - name: Commit and push if changed run: |- git diff git config --global user.email \"action@github.com\" git config --global user.name \"GitHub Action\" git add -A git commit -m \"ci: update about page (automatically)\" || exit 0 git push - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: 0.105.0 extended: true - name: Build Web #run: hugo --gc --minify run: hugo - name: Create CNAME run: echo \"honghuiqiang.com\" \u003e public/CNAME - name: Run Pagefind run: npm_config_yes=true npx pagefind --source \"public\" - name: Deploy Web uses: peaceiris/actions-gh-pages@v3 with: PERSONAL_TOKEN: ${{ secrets.PERSONAL_TOKEN }} # ä¸Šä¸€æ­¥ä¸­ä»“åº“å˜é‡çš„ key EXTERNAL_REPOSITORY: 904566722/904566722.github.io PUBLISH_BRANCH: hugo PUBLISH_DIR: ./public commit_message: ${{ github.event.head_commit.message }} å…¶ä¸­ Create CNAME åŠ¨ä½œæ˜¯ä¸ºäº†è§£å†³å¦‚ä¸‹é—®é¢˜ï¼š ä½¿ç”¨ GitHub Action è‡ªåŠ¨å‘å¸ƒåšå®¢ä¹‹ååŸŸåæ— æ³•è®¿é—®åˆ°é¡µé¢çš„é—®é¢˜ é—®é¢˜ç°è±¡ï¼š ä½¿ç”¨åŸŸå honghuiqiang.com æ— æ³•è®¿é—®åˆ°é¡µé¢ï¼ˆ404ï¼‰ é—®é¢˜äº§ç”Ÿçš„åŸå› ï¼š åœ¨ 904566722.github.io ä»“åº“ä¸­ï¼ŒåŸŸåçš„é…ç½®æ˜¯ä½œä¸ºä»“åº“ä¸­çš„ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨çš„ï¼ŒGitHub Action æ“ä½œä¸­ï¼ŒæŠŠè¯¥ä»“åº“æ‹‰å–ä¸‹æ¥ä¹‹åä¼šæ¸…ç©ºç›®å½•ï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šè¢«æ¸…é™¤æ‰ï¼Œå› æ­¤éœ€è¦å¤šè¿è¡Œä¸€æ¡å‘½ä»¤æ¥å†æ¬¡ç”ŸæˆåŸŸåé…ç½® - name: Create CNAME run: echo \"honghuiqiang.com\" \u003e public/CNAME è‡³æ­¤é…ç½®å°±å…¨éƒ¨å®Œæˆäº†ï¼ æ¥å®é™…çœ‹ä¸€ä¸‹ä¸€ä¸ª push ä¹‹å github åšçš„åŠ¨ä½œï¼š åœ¨ Action é€‰é¡¹å¡å¯ä»¥çœ‹åˆ°æµç¨‹è¢«è§¦å‘ï¼š è¿›å»èƒ½å¤Ÿçœ‹åˆ°æ‰§è¡Œæœºå®Œæˆçš„å‘½ä»¤ï¼Œå…·ä½“åšäº†å“ªäº›æ“ä½œ åˆ°æ­¤ä¸€ä¸ª Action å°±å®Œæˆäº†ï¼Œå¯ä»¥åˆ° xx.github.io çœ‹åˆ°æœ‰ä¸€ä¸ªç›¸åŒ commit msg çš„æäº¤ åˆ°æ­¤å°±å®Œæˆäº†åšå®¢çš„è‡ªåŠ¨æ›´æ–°æµç¨‹ ","date":"2023-05-11","objectID":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/:3:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"ä½¿ç”¨ GitHub Action æ¥å®Œæˆåšå®¢è‡ªåŠ¨æ›´æ–°","uri":"/202305110815-%E4%BD%BF%E7%94%A8-github-action-%E6%9D%A5%E5%AE%8C%E6%88%90%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/#å…·ä½“æ“ä½œ"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è§„åˆ’åŒº gantt dateFormat HH:mm axisFormat %H:%M tickInterval 1h title ä»Šå¤©å¤§æ¦‚è¦åš section åšå®¢ç›¸å…³å†…å®¹ 1.æ¢³ç†è§„åˆ’ä¸€å¤©çš„æ–¹æ³•ã€å®Œæˆæ—¥è®°æ¨¡æ¿çš„åˆ›å»º:done,riji,06:00, 2h 2.å®Œæˆåšå®¢çš„è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ:done,fabu, after riji, 1h 3.æ€»ç»“æ–‡æ¡£ã€Šä½¿ç”¨huog+github pagesæ­å»ºåšå®¢æµç¨‹ã€‹:done,after fabu, 90m 4.golang: 1h section ä¹ æƒ¯ ç®—æ³•æ¯æ—¥ä¸€é¢˜:done, 1h ganttï¼ˆæœ€åè¦ä¸ä¸Šé¢çš„ä»£ç åŒæ­¥ï¼‰ï¼š gantt dateFormat HH:mm axisFormat %H:%M tickInterval 1h title ä»Šå¤©å¤§æ¦‚è¦åš section åšå®¢ç›¸å…³å†…å®¹ 1.æ¢³ç†è§„åˆ’ä¸€å¤©çš„æ–¹æ³•ã€å®Œæˆæ—¥è®°æ¨¡æ¿çš„åˆ›å»º:done,riji,06:00, 2h 2.å®Œæˆåšå®¢çš„è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ:done,fabu, after riji, 1h 3.æ€»ç»“æ–‡æ¡£ã€Šä½¿ç”¨huog+github pagesæ­å»ºåšå®¢æµç¨‹ã€‹:done,after fabu, 90m 4.golang: 1h section ä¹ æƒ¯ ç®—æ³•æ¯æ—¥ä¸€é¢˜:done, 1h ","date":"2023-05-11","objectID":"/2023-05-11/:1:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-11 æ—¥è®°å½•","uri":"/2023-05-11/#è§„åˆ’åŒº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-ä¹ æƒ¯è®°å½•æ‰“å¡çŠ¶æ€ï¼š âœ… | âŒ ä¹ æƒ¯æ‰“å¡è¡¨ æ—¥æœŸ ç®—æ³• é˜…è¯» 1 âœ… 2 âœ… 3 âœ… 4 âœ… 5 âœ… 6 âœ… 7 8 âœ… 9 10 11 âœ… 12 âœ… 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 ","date":"2023-05-11","objectID":"/2023-05-11/:2:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-11 æ—¥è®°å½•","uri":"/2023-05-11/#è®°å½•åŒº-ä¹ æƒ¯è®°å½•"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-äº‹\u0026ç‰©è®° é‡è¦äº‹è®° æ—  æ–°äº‹ç‰© GitHub Actionï¼Œ ç±»ä¼¼äºä¹‹å‰å·¥ä½œä¸Šçš„ cdp çš„ä¸œè¥¿ ","date":"2023-05-11","objectID":"/2023-05-11/:3:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-11 æ—¥è®°å½•","uri":"/2023-05-11/#è®°å½•åŒº-äº‹ç‰©è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-éšæ‰‹è®°ğŸ§ğŸµï¼ˆæŒ‘é¦–æ­Œï¼Ÿlocal:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ remote:202305101553 åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ï¼‰ ä¸ç®¡ä»€ä¹ˆæ—¶é—´ç‚¹éƒ½é€‚åˆå¬è¿™æ­Œ Lessang yydsï¼š â€ æˆ‘çš„äººç”Ÿä¸ºä»€ä¹ˆè¿™æ ·ï¼Œè¿™äº›éƒ½æ˜¯å€Ÿå£ ä¸è¦è½»æ˜“æ”¾å¼ƒäººç”Ÿè¿™åœºæ¸¸æˆ åœ¨è¿™ä¸–ä¸Šé•¿çœ ä¹‹æ—¶æ¯«æ— ç•™æ‹ æœ€åï¼Œè®©å¹¸ç¦çš„å¤§é—¨èƒ½å¤Ÿå¼€å¯ æ‰¾å¯»å¹¸ç¦é£äº†ä¸€ä¼š è®©æ‰€æœ‰èé¡éƒ½èƒ½é‡æ‹¾ç¬‘å®¹ â€œ æ˜¨å¤©è¦å®Œæˆçš„å·¥ä½œå¤§ä½“å®Œæˆäº†ï¼ŒæœŸé—´æœ‰ç¢°åˆ°äº†ä¸€ç‚¹é—®é¢˜ï¼Œå…³äº git lfs ä»¥åŠ gh pages åŸŸåé…ç½®çš„é—®é¢˜ï¼Œä¸è¿‡ä¹Ÿéƒ½é¡ºåˆ©è§£å†³æ‰äº†ï¼Œæœ¬æ¥æŠŠ Golang å­¦ä¹ æ”¾åœ¨æ™šä¸Šï¼Œä¸è¿‡å¤ªå›°äº†å¾ˆæ—©å°±ç¡äº†ï¼Œæå¾—ç°åœ¨å°±é†’äº†ï¼ˆafter day 02:03ï¼‰â€¦ä¸è¿‡ä¹Ÿç¡ä¸ç€äº†ï¼Œèµ·æ¥å†™ä¸€ä¸‹æ˜¨å¤©æ²¡å†™å®Œçš„è®°å½•åŒºï¼ˆè‚šå­å¥½é¥¿â€¦ğŸ˜µâ€ğŸ’«ï¼‰ ","date":"2023-05-11","objectID":"/2023-05-11/:4:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-11 æ—¥è®°å½•","uri":"/2023-05-11/#è®°å½•åŒº-éšæ‰‹è®°"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ€»ç»“å¿ƒæƒ…æ‰“åˆ†ï¼š ğŸ˜† å¾ˆå¿«ä¹ ğŸ™‚ ä¸€èˆ¬å¿«ä¹ ğŸ˜¶ æ— æ˜æ˜¾æƒ…ç»ªæ³¢åŠ¨ ğŸ§æœ‰ç–‘é—® ğŸ˜µâ€ğŸ’« å¾ˆæ··ä¹± ğŸ˜®â€ğŸ’¨å¹æ°” ğŸ˜¡ ç”Ÿæ°” è¾“å‡ºå†…å®¹ï¼š æ—¥è®¡åˆ’ localï¼š202305110405 æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½• åšå®¢è‡ªåŠ¨å‘å¸ƒ localï¼š202305110815 ä½¿ç”¨ GitHub Action æ¥å®Œæˆåšå®¢è‡ªåŠ¨æ›´æ–° remoteï¼š202305110815 ä½¿ç”¨ GitHub Action æ¥å®Œæˆåšå®¢è‡ªåŠ¨æ›´æ–° æ€»ç»“äº†ä¸€ä¸‹åšå®¢æ­å»ºçš„è¿‡ç¨‹ localï¼š202305111342 ä½¿ç”¨ Hugo + GitHub Pages æ­å»ºåšå®¢è®°å½• ç®—æ³•æ¯æ—¥ä¸€é¢˜ localï¼š202305111537 t1016 å­ä¸²èƒ½è¡¨ç¤ºä» 1 åˆ° N æ•°å­—çš„äºŒè¿›åˆ¶ä¸² ","date":"2023-05-11","objectID":"/2023-05-11/:5:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-11 æ—¥è®°å½•","uri":"/2023-05-11/#è®°å½•åŒº-æ€»ç»“"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è®°å½•åŒº-æ˜å¤© æ˜å¤©åŠ ä¸ªè¯„è®ºç³»ç»Ÿå·®ä¸å¤šäº†ï¼Œåšå®¢å°±å·®ä¸å¤šè¿™æ ·å¥½äº† æ•´ç†ä¸€ä¸‹æˆ‘çš„ç”µè„‘å·¥ä½œåŒº workspaceï¼Œä¹Ÿå°±æ˜¯å­¦ä¹ ã€å·¥ä½œæ—¶å€™çš„ç•Œé¢å¸ƒå±€ï¼Œè¿˜æ˜¯åˆ’åˆ†ä¸€ä¸‹å¤§è‡´çš„åŒºåŸŸï¼Œå…»æˆä¹ æƒ¯ï¼Œæ•´æ´ä¸€ç‚¹ æ•´ç†ä¹‹å‰å†™åœ¨æœ¬åœ°çš„æ–‡æ¡£ æŠŠæ–‡æ¡£è¿ç§»åˆ°åšå®¢çš„è¿‡ç¨‹ä¸­é¡ºä¾¿å›é¡¾ä¸€ä¸‹ç¬”è®°çš„å†…å®¹ï¼Œä¸è¦å•çº¯å¤åˆ¶ç²˜è´´ å¦‚æœè¿˜æœ‰æ—¶é—´ï¼Œåšä¸€ä¸‹å…¶ä»–ç›¸å…³çŸ¥è¯†å­¦ä¹ ï¼ˆåº”è¯¥æ˜¯æ²¡æœ‰æ—¶é—´ï¼‰ ","date":"2023-05-11","objectID":"/2023-05-11/:6:0","series":["æ—¥è§„åˆ’-è®°å½•"],"tags":[],"title":"2023-05-11 æ—¥è®°å½•","uri":"/2023-05-11/#è®°å½•åŒº-æ˜å¤©"},{"categories":["Tools-Method"],"content":"ä¸€å¤©çš„è§„åˆ’ç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥è§„åˆ’ä¸è®°å½•ï¼Ÿ","date":"2023-05-11","objectID":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½•","uri":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/"},{"categories":["Tools-Method"],"content":"#è§„åˆ’ ä¹‹å‰å¯èƒ½å¤§å¤šä½¿ç”¨windowsä¸Šä¾¿ç­¾çš„æ–¹å¼ï¼Œéšæ‰‹è®°å½•ï¼Œå¤§æ¦‚å†™ä¸€ä¸‹å†…å®¹ã€‚ è¿™ç¯‡æ–‡ç« çš„ç›®çš„æ˜¯æƒ³å†æ˜ç¡®ä¸€ä¸‹è§„åˆ’ä¸€å¤©çš„æµç¨‹ï¼ŒåŒæ—¶å¸Œæœ›èƒ½å¤ŸæŠŠè¿™äº›å†…å®¹ä¹ŸåŒæ­¥åˆ°åšå®¢ ä¸çŸ¥é“è¿™æ ·æ›´ä¸ºå¤æ‚çš„æ–¹å¼ä¼šä¸ä¼šæµªè´¹æ—¶é—´ï¼Œå…ˆè¯•éªŒä¸€ä¸‹å†è¯´ï¼Œå§‹ï¼š2023-05-11 è¿™ç¯‡æ–‡ç« åº”è¯¥æ˜¯éœ€è¦æ ¹æ®æ¯ä¸€å¤©è§„åˆ’æ–¹å¼çš„æ”¹å˜æ¥ä¸æ–­è¿­ä»£ã€è§„èŒƒçš„ ","date":"2023-05-11","objectID":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/:0:0","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½•","uri":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/#"},{"categories":["Tools-Method"],"content":" è®°äº›ä»€ä¹ˆä¸œè¥¿å¥½ âœåŸºäºè‡ªå·±çš„ä¹ æƒ¯ï¼Œå¯¹äºä¸€å¤©çš„è§„åˆ’ï¼Œä¸å–œæ¬¢å®šçš„å¤ªè¯¦ç»†ï¼Œæ²¡æœ‰å¯ä¼¸ç¼©çš„ç©ºé—´ä¸å¥½ï¼Œå…ˆç¡®å®šä¸€äº›è§„åˆ™ï¼š å¯¹äºä¸€å¤©è¦åšä»€ä¹ˆï¼Œå°±å†™ä¸€äº›å¤§æ¦‚æ€§çš„ä¸œè¥¿ï¼Œç„¶ååœ¨ä¸€å¤©çš„å·¥ä½œã€å­¦ä¹ è¿‡ç¨‹ä¸­åŸºäºè¿™äº›å†…å®¹ï¼Œæœ‰æ‰©å±•ã€æœ‰ä¼¸ç¼© è¿™äº›å†…å®¹æ˜¯å¦è¦è§„å®šæ—¶é—´ï¼Ÿ ä¸å†™å¼€å§‹æ—¶é—´ï¼Œå°±å†™æŒç»­æ—¶é—´ï¼ˆè¿™é¡¹ä»»åŠ¡å¤§æ¦‚éœ€è¦å¤šé•¿æ—¶é—´å®Œæˆï¼‰ æœ‰äº†ä¸€äº›åŸºæœ¬çš„è§„åˆ™ï¼Œæ¥ç¡®å®šä¸€ä¸‹ï¼šä¸€ç¯‡æ—¥è§„åˆ’çš„æ–‡ç« ä¸­éœ€è¦åŒ…å«ä»€ä¹ˆï¼Ÿå¤§ä½“åˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸï¼š è§„åˆ’åŒºï¼šå½“å¤©å¼€å§‹çš„æ—¶å€™ | å‰ä¸€å¤© åšå¥½å¤§è‡´è§„åˆ’ï¼ŒæŠŠä¸Šé¢è®²åˆ°çš„å¤§æ¦‚æ€§çš„ä¸œè¥¿å†™ä¸€äº›ï¼Œè§„èŒƒä»Šå¤©çš„å†…å®¹ è®°å½•åŒºï¼šå½“å¤©äº‹æƒ…ç»“æŸçš„æ—¶å€™åšè®°å½• ","date":"2023-05-11","objectID":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/:1:0","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½•","uri":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/#è®°äº›ä»€ä¹ˆä¸œè¥¿å¥½-"},{"categories":["Tools-Method"],"content":" è§„åˆ’åŒºå¯ä»¥å°è¯•ä½¿ç”¨ gantt å›¾æ¥è®°å½•ä¸€ä¸‹ï¼ˆå…ˆè¯•ç”¨ä¸€ä¸‹ï¼Œä¸æ–¹ä¾¿çš„è¯åé¢ä½¿ç”¨è„‘å›¾ æˆ–è€… ä¸ç”¨å›¾ç”»çš„å½¢å¼æ¥è®°å½•ä¹Ÿè¡Œï¼‰ï¼Œæœ€è¿‘å­¦ä¹ äº† mermaidï¼ˆlocal 202305100916 mermaid è¯­æ³•-ç”˜ç‰¹å›¾ remote 202305100916 mermaid è¯­æ³•-ç”˜ç‰¹å›¾ï¼‰ï¼Œåˆšå¥½ç”¨æ¥ç»ƒç»ƒæ‰‹ ","date":"2023-05-11","objectID":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/:1:1","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½•","uri":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/#è§„åˆ’åŒº"},{"categories":["Tools-Method"],"content":" è®°å½•åŒº ä¹ æƒ¯è®°å½•ï¼šæ¯å¤©éƒ½è¦å»åšçš„äº‹æƒ…ï¼Œå¯ä»¥ç”¨æ¥åšæ—§ä¹ æƒ¯çš„æ‰“å¡ï¼Œä¹Ÿå¯ä»¥æ¥è®°å½•æ–°ä¹ æƒ¯çš„å…»æˆ æœ‰æ²¡æœ‰ä»€ä¹ˆæœˆåº¦è¡¨ä¹‹ç±»çš„å·¥å…·ï¼Ÿ äº‹\u0026ç‰©è®°ï¼š é‡è¦äº‹ä»¶ï¼šå½“å¤©å‘ç”Ÿçš„é‡è¦çš„äº‹æƒ…ï¼Œå¯èƒ½æ¥è‡ªæ–°é—»ã€ä¸€å¤©çš„å·¥ä½œã€ç”Ÿæ´»ä¸Š æ–°äº‹ç‰© éšæ‰‹è®°ï¼šæ‚è®°ä¸€æ ·ï¼Œå¯ä»¥æ˜¯å¤©é©¬è¡Œç©ºçš„æƒ³æ³•ï¼Œåƒå†™ä¸ªäººæ—¥è®°ä¸€æ ·ï¼Œæƒ³æ€ä¹ˆè®°æ€ä¹ˆè®°ï¼Œä¸æŸç¼šè‡ªå·±çš„ä¸€ä¸ªæ¿å—ï¼ŒğŸ†’ï¼ æ€»ç»“ æƒ…ç»ª æ˜å¤©ï¼Ÿï¼šå¤§æ¦‚æƒ³ä¸€ä¸‹æ˜å¤©è¦åšä»€ä¹ˆ ","date":"2023-05-11","objectID":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/:1:2","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½•","uri":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/#è®°å½•åŒº"},{"categories":["Tools-Method"],"content":" æé«˜æ•ˆç‡ä¸ºäº†æé«˜åšè§„åˆ’ã€è®°å½•çš„æ•ˆç‡ï¼Œä¸Šé¢è®²åˆ°çš„è¿™äº›ä¸œè¥¿åº”è¯¥æ˜¯è¦èƒ½ä½œä¸ºä¸€ä¸ª æ¨¡æ¿ å­˜åœ¨çš„ï¼Œobsidian åˆšå¥½æ˜¯èƒ½å¤Ÿå®Œæˆè¿™é¡¹å·¥ä½œçš„ã€‚ ç¡®å®šæ—¥è®°å­˜æ”¾çš„ä½ç½®ï¼šcontent/posts/diary åˆ›å»ºæ¨¡æ¿ æ—¥è®°æ–‡ä»¶ç›¸å…³è®¾ç½® ","date":"2023-05-11","objectID":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/:2:0","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½•","uri":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/#æé«˜æ•ˆç‡"},{"categories":["Tools-Method"],"content":" æµç¨‹ flowchart LR %% é‡è¦æ€§çš„åˆ†ç±» classDef important stroke:red, stroke-width:2px classDef pass stroke:grey, stroke-dasharray: 5,5 %% æµç¨‹çš„åˆ†ç±» classDef success stroke:green step1[æ–°å»ºä¸€ç¯‡ç¬”è®°]--\u003estep2[åœ¨è§„åˆ’åŒºåšè§„åˆ’] step2--\u003eday[ä¸€å¤©æµé€...äº‹æƒ…éƒ½å®Œæˆä¹‹å] day--\u003estep3[å®Œæˆè®°å½•åŒºçš„å†…å®¹] class step2,step3 important class day pass ç‚¹å‡»å·¦ä¾§çš„ æ‰“å¼€/åˆ›å»ºä»Šå¤©çš„æ—¥è®° æŒ‰é’®ï¼Œæ ¹æ®æ¨¡æ¿ç”Ÿæˆå¯¹åº”çš„æ—¥è®°æ–‡ä»¶ ","date":"2023-05-11","objectID":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/:3:0","series":["Tools-Method-box"],"tags":["ä¸ªäººè®°å½•"],"title":"æ€ä¹ˆæ¥è§„åˆ’ä¸€å¤©ã€åšæ—¥è®°å½•","uri":"/202305110405-%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%84%E5%88%92%E4%B8%80%E5%A4%A9%E5%81%9A%E6%97%A5%E8%AE%B0%E5%BD%95/#æµç¨‹"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":"#åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:0:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Lessang å¯»æ‰¾å¹¸ç¦ music url=\"/music/finding_happiness/finding-happiness.mp3\" name=\"í–‰ë³µì„ ì°¾ì•„ì„œ (å¯»æ‰¾å¹¸ç¦)\" artist=\"Leessang (ë¦¬ìŒ)/èµµè´¤é›… (ì¡°í˜„ì•„)\" cover=\"/music/finding_happiness/lessang.png\" å›æƒ³ music url=\"/music/lessang/recall.m4a\" name=\"íšŒìƒ (Feat. ë°±ì§€ì˜) (å›æƒ³)\" artist=\"Leessang (ë¦¬ìŒ)/ç™½æ™ºè‹± (ë°±ì§€ì˜)\" cover=\"/music/lessang/recall.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:1:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#lessang"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" IU jam jam (live) music url=\"/music/iu/jamjam(live).m4a\" name=\"ì¼ì¼(JAM JAM) (Live)\" artist=\"IU (ì•„ì´ìœ )\" cover=\"/music/iu/jamjamlive.jpg\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:2:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#iu"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" aurora queendom music url=\"/music/aurora/queendom.m4a\" name=\"Queendom\" artist=\"AURORA\" cover=\"/music/aurora/queendom.jpg\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:3:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#aurora"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" æˆ‘çš„å¤§å” ë¬´ì§€ê°œëŠ” ìˆë‹¤ (æœ‰å½©è™¹) (Band Ver.) music url=\"/music/myuncle/æœ‰å½©è™¹.mp3\" name=\"ë¬´ì§€ê°œëŠ” ìˆë‹¤ (æœ‰å½©è™¹) (Band Ver.)\" artist=\"ë¹ˆì„¼íŠ¸ ë¸”ë£¨ (Vincent Blue)\" cover=\"/music/myuncle/æˆ‘çš„å¤§å”.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:4:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#æˆ‘çš„å¤§å”"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" ä¹è¿çœŸäºº music url=\"/music/ä¹è¿çœŸäºº/åŒ—é£.mp3\" name=\"åŒ—é£\" artist=\"ä¹è¿çœŸäºº\" cover=\"/music/ä¹è¿çœŸäºº/jiulianzhenren.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:5:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#ä¹è¿çœŸäºº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" amazarashi ç„¡é¡Œ(Unplugged) music url=\"/music/amazarashi/ç„¡é¡Œ(Unplugged).mp3\" name=\"ç„¡é¡Œ(Unplugged)\" artist=\"amazarashi\" cover=\"/music/amazarashi/wuti.png\" åƒ•ãŒæ­»ã®ã†ã¨æ€ã£ãŸã®ã¯(æ›¾ç»æˆ‘ä¹Ÿæƒ³è¿‡ä¸€äº†ç™¾äº†) music url=\"/music/amazarashi/åƒ•ãŒæ­»ã®ã†ã¨æ€ã£ãŸã®ã¯(æ›¾ç»æˆ‘ä¹Ÿæƒ³è¿‡ä¸€äº†ç™¾äº†).mp3\" name=\"åƒ•ãŒæ­»ã®ã†ã¨æ€ã£ãŸã®ã¯(æ›¾ç»æˆ‘ä¹Ÿæƒ³è¿‡ä¸€äº†ç™¾äº†)\" artist=\"amazarashi\" cover=\"/music/amazarashi/xuwubing.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:6:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#amazarashi"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" B çƒ­æ²³2018ç›¸ä¿¡æœªæ¥ä¸æ’ç”µç‰ˆ music url=\"/music/B/çƒ­æ²³2018ç›¸ä¿¡æœªæ¥ä¸æ’ç”µç‰ˆ.mp3\" name=\"çƒ­æ²³2018ç›¸ä¿¡æœªæ¥ä¸æ’ç”µç‰ˆ\" artist=\"B\" cover=\"/music/B/wuti.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:7:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#b"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" club 8 Love in December music url=\"/music/club8/LoveinDecember.mp3\" name=\"Love in December\" artist=\"club 8\" cover=\"/music/club8/LoveinDecember.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:8:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#club-8"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Epik High TROT music url=\"/music/epik-high/trot.mp3\" name=\"trot\" artist=\"B\" cover=\"/music/epik-high/trot.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:9:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#epik-high"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Gary ê³ ì¥ë‚œ ì„ í’ê¸° (æ•…éšœçš„ç”µé£æ‰‡) music url=\"/music/gary/æ•…éšœçš„ç”µé£æ‰‡.mp3\" name=\"æ•…éšœçš„ç”µé£æ‰‡\" artist=\"MCæ¢¦ (MCëª½)/Gary (ê°œë¦¬)/å­ç³ (íš¨ë¦°)\" cover=\"/music/gary/æ•…éšœçš„ç”µé£æ‰‡.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:10:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#gary"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" è¯·å›ç­”1988 ê±±ì •ë§ì•„ìš” ê·¸ëŒ€ (ä½ ä¸è¦æ‹…å¿ƒ) music url=\"/music/è¯·å›ç­”1988/ä½ ä¸è¦æ‹…å¿ƒ.mp3\" name=\"ê±±ì •ë§ì•„ìš” ê·¸ëŒ€ (ä½ ä¸è¦æ‹…å¿ƒ)\" artist=\"SoulJa/é’å±±é»›ç› (é’å±±ãƒ†ãƒ«ãƒ)\" cover=\"/music/è¯·å›ç­”1988/ä½ ä¸è¦æ‹…å¿ƒ.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:11:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#è¯·å›ç­”1988"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" äº”æ¡äºº çŸ³ç‰Œæ¡¥ music url=\"/music/äº”æ¡äºº/çŸ³ç‰Œæ¡¥.mp3\" name=\"çŸ³ç‰Œæ¡¥\" artist=\"äº”æ¡äºº\" cover=\"/music/äº”æ¡äºº/çŸ³ç‰Œæ¡¥.png\" ä¹Ÿå·²æ™š music url=\"/music/äº”æ¡äºº/å¤œå·²æ™š.mp3\" name=\"å¤œå·²æ™š\" artist=\"äº”æ¡äºº\" cover=\"/music/äº”æ¡äºº/å¤œå·²æ™š.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:12:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#äº”æ¡äºº"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" å¾ä½³è¹ è€³è¾¹é£ music url=\"/music/å¾ä½³è¹/è€³è¾¹é£.mp3\" name=\"è€³è¾¹é£\" artist=\"å¾ä½³è¹\" cover=\"/music/å¾ä½³è¹/è€³è¾¹é£.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:13:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#å¾ä½³è¹"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" jay-z Empire State of Mind music url=\"/music/jay-z/EmpireStateOfMind.mp3\" name=\"Empire State of Mind\" artist=\"Jay-Z/Alicia Keys\" cover=\"/music/jay-z/EmpireStateOfMind.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:14:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#jay-z"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Rachel Platten Fight Song music url=\"/music/RachelPlatten/FightSong.mp3\" name=\"Fight Song\" artist=\"Rachel Platten\" cover=\"/music/RachelPlatten/FightSong.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:15:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#rachel-platten"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Sophie Zelmani going home music url=\"/music/SophieZelmani/going-home.mp3\" name=\"going home\" artist=\"Sophie Zelmani\" cover=\"/music/SophieZelmani/SophieZelmani.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:16:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#sophie-zelmani"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Tom Rosenthal Go Solo music url=\"/music/TomRosenthal/GoSolo.mp3\" name=\"Go Solo\" artist=\"Tom Rosenthal\" cover=\"/music/TomRosenthal/GoSolo.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:17:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#tom-rosenthal"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" pure Life Story music url=\"/music/pure/LifeStory.mp3\" name=\"Life Story\" artist=\"Ã“lafur Arnalds/Nils Frahm\" cover=\"/music/pure/LifeStory.png\" Passionflower music url=\"/music/pure/Passionflower.mp3\" name=\"Passionflower\" artist=\"Jon Gomm\" cover=\"/music/pure/Passionflower.png\" ","date":"2023-05-10","objectID":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/:18:0","series":["éŸ³ä¹"],"tags":[],"title":"åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹","uri":"/202305101553-%E5%8D%9A%E5%AE%A2%E9%9F%B3%E4%B9%90%E5%B5%8C%E5%85%A5%E6%A0%B7%E4%BE%8B/#pure"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":"#æ¸¸ç©æ˜ åƒ ","date":"2023-05-10","objectID":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/:0:0","series":["å½±åƒè®°å½•"],"tags":["æ¸¸ç©æ˜ åƒ"],"title":"22å¹´çš„å›½åº†å¹¿å·æ¸¸ç©æ˜ åƒ","uri":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/#"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Day1. é™ˆå®¶ç¥ å ‚ã€æ²™é¢ã€å‰çƒ§â€¦ ","date":"2023-05-10","objectID":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/:1:0","series":["å½±åƒè®°å½•"],"tags":["æ¸¸ç©æ˜ åƒ"],"title":"22å¹´çš„å›½åº†å¹¿å·æ¸¸ç©æ˜ åƒ","uri":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/#day1-é™ˆå®¶ç¥ å ‚æ²™é¢å‰çƒ§"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Day2. è‚ ç²‰ã€é•¿éš† çœŸçš„å¸… ","date":"2023-05-10","objectID":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/:2:0","series":["å½±åƒè®°å½•"],"tags":["æ¸¸ç©æ˜ åƒ"],"title":"22å¹´çš„å›½åº†å¹¿å·æ¸¸ç©æ˜ åƒ","uri":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/#day2-è‚ ç²‰é•¿éš†"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Day3. åŒ—å›­é…’å®¶ã€å—è¶Šç‹åšç‰©é™¢ã€ä¸­å±±çºªå¿µå ‚ã€å¤ªå¤ä»“ç å¤´ã€å¤œæ¸¸ç æ±Ÿ ","date":"2023-05-10","objectID":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/:3:0","series":["å½±åƒè®°å½•"],"tags":["æ¸¸ç©æ˜ åƒ"],"title":"22å¹´çš„å›½åº†å¹¿å·æ¸¸ç©æ˜ åƒ","uri":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/#day3-åŒ—å›­é…’å®¶å—è¶Šç‹åšç‰©é™¢ä¸­å±±çºªå¿µå ‚å¤ªå¤ä»“ç å¤´å¤œæ¸¸ç æ±Ÿ"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Day4. åŠ¨ç‰©å›­ ","date":"2023-05-10","objectID":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/:4:0","series":["å½±åƒè®°å½•"],"tags":["æ¸¸ç©æ˜ åƒ"],"title":"22å¹´çš„å›½åº†å¹¿å·æ¸¸ç©æ˜ åƒ","uri":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/#day4-åŠ¨ç‰©å›­"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" Day5. æ¤ç‰©å›­ã€å¹¿ä¸œåšç‰©é¦†ã€çŸ³ç‰Œæ¡¥ ","date":"2023-05-10","objectID":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/:5:0","series":["å½±åƒè®°å½•"],"tags":["æ¸¸ç©æ˜ åƒ"],"title":"22å¹´çš„å›½åº†å¹¿å·æ¸¸ç©æ˜ åƒ","uri":"/202305101458-22%E5%B9%B4%E7%9A%84%E5%9B%BD%E5%BA%86%E5%B9%BF%E5%B7%9E%E6%B8%B8%E7%8E%A9%E6%98%A0%E5%83%8F/#day5-æ¤ç‰©å›­å¹¿ä¸œåšç‰©é¦†çŸ³ç‰Œæ¡¥"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":"#å½©é“… ","date":"2023-05-10","objectID":"/202305101439-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E5%BD%A9%E9%93%85/:0:0","series":["ç”»ç”»"],"tags":["å½©é“…"],"title":"åºŸäº†å¾ˆä¹…çš„çˆ±å¥½-å½©é“…","uri":"/202305101439-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E5%BD%A9%E9%93%85/#"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" long long agoâ€¦ ","date":"2023-05-10","objectID":"/202305101439-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E5%BD%A9%E9%93%85/:1:0","series":["ç”»ç”»"],"tags":["å½©é“…"],"title":"åºŸäº†å¾ˆä¹…çš„çˆ±å¥½-å½©é“…","uri":"/202305101439-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E5%BD%A9%E9%93%85/#long-long-ago"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":"#æ ‘è„‚ ","date":"2023-05-10","objectID":"/202305101440-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E6%A0%91%E8%84%82%E7%94%BB/:0:0","series":["ç”»ç”»"],"tags":["å½©é“…"],"title":"åºŸäº†å¾ˆä¹…çš„çˆ±å¥½-æ ‘è„‚ç”»","uri":"/202305101440-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E6%A0%91%E8%84%82%E7%94%BB/#"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" long long agoâ€¦ ","date":"2023-05-10","objectID":"/202305101440-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E6%A0%91%E8%84%82%E7%94%BB/:1:0","series":["ç”»ç”»"],"tags":["å½©é“…"],"title":"åºŸäº†å¾ˆä¹…çš„çˆ±å¥½-æ ‘è„‚ç”»","uri":"/202305101440-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E6%A0%91%E8%84%82%E7%94%BB/#long-long-ago"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":"#ç´ æ ","date":"2023-05-10","objectID":"/202305101436-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E7%B4%A0%E6%8F%8F/:0:0","series":["ç”»ç”»"],"tags":["ç´ æ"],"title":"åºŸäº†å¾ˆä¹…çš„çˆ±å¥½-ç´ æ","uri":"/202305101436-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E7%B4%A0%E6%8F%8F/#"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" long long agoâ€¦ ","date":"2023-05-10","objectID":"/202305101436-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E7%B4%A0%E6%8F%8F/:1:0","series":["ç”»ç”»"],"tags":["ç´ æ"],"title":"åºŸäº†å¾ˆä¹…çš„çˆ±å¥½-ç´ æ","uri":"/202305101436-%E5%BA%9F%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E7%88%B1%E5%A5%BD-%E7%B4%A0%E6%8F%8F/#long-long-ago"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":"#å® ç‰©æ˜ åƒ ","date":"2023-05-10","objectID":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/:0:0","series":["å½±åƒè®°å½•"],"tags":["æˆ‘çš„å® ç‰©æœ‹å‹"],"title":"åœ¨æˆ‘çš„å¤§å­¦ç”Ÿæ¶¯çŸ­æš‚é™ªä¼´è¿‡æˆ‘çš„ä¸€åªç„å‡¤","uri":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/#"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" åˆšæ¥çš„æ—¶å€™ä¾†äº†ä¸€æ®µæ—¶é—´åçš„æ ·å­ï¼Œé•¿äº†ä¸€ç‚¹ç¾½æ¯›ï¼Œç»™ä»–æäº†ä¸ªæ¶å­ ","date":"2023-05-10","objectID":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/:1:0","series":["å½±åƒè®°å½•"],"tags":["æˆ‘çš„å® ç‰©æœ‹å‹"],"title":"åœ¨æˆ‘çš„å¤§å­¦ç”Ÿæ¶¯çŸ­æš‚é™ªä¼´è¿‡æˆ‘çš„ä¸€åªç„å‡¤","uri":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/#åˆšæ¥çš„æ—¶å€™"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" ä¸€æ¬¡äº‹æ•… ä¸€æ¬¡æ„å¤–å¯¼è‡´å·¦è…¿éª¨æŠ˜äº†ï¼Œè¿˜å¥½ä¹‹åé¡ºåˆ©æ¢å¤äº†ã€‚ ","date":"2023-05-10","objectID":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/:2:0","series":["å½±åƒè®°å½•"],"tags":["æˆ‘çš„å® ç‰©æœ‹å‹"],"title":"åœ¨æˆ‘çš„å¤§å­¦ç”Ÿæ¶¯çŸ­æš‚é™ªä¼´è¿‡æˆ‘çš„ä¸€åªç„å‡¤","uri":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/#ä¸€æ¬¡äº‹æ•…"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" later ","date":"2023-05-10","objectID":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/:3:0","series":["å½±åƒè®°å½•"],"tags":["æˆ‘çš„å® ç‰©æœ‹å‹"],"title":"åœ¨æˆ‘çš„å¤§å­¦ç”Ÿæ¶¯çŸ­æš‚é™ªä¼´è¿‡æˆ‘çš„ä¸€åªç„å‡¤","uri":"/202305101443-%E5%9C%A8%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%E7%9F%AD%E6%9A%82%E9%99%AA%E4%BC%B4%E8%BF%87%E6%88%91%E7%9A%84%E4%B8%80%E5%8F%AA%E7%8E%84%E5%87%A4/#later"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":"#å¬æ­Œæœˆè®°å½• ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:0:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022 å¹´åº¦æŠ¥å‘Š ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:1:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#2022-å¹´åº¦æŠ¥å‘Š"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/12 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:2:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202212"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/11 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:3:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202211"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/10 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:4:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202210"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/09 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:5:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202209"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/08 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:6:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202208"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/07 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:7:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202207"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/06 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:8:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202206"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/05 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:9:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202205"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/04 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:10:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202204"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/03 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:11:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202203"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/02 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:12:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202202"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2022/01 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:13:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202201"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021 å¹´åº¦æŠ¥å‘Š ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:14:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#2021-å¹´åº¦æŠ¥å‘Š"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/12 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:15:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202112"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/11 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:16:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202111"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/10 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:17:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202110"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/09 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:18:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202109"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/08 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:19:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202108"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/07 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:20:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202107"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/06 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:21:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202106"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/05 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:22:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202105"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/04 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:23:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202104"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/03 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:24:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202103"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/02 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:25:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202102"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2021/01 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:26:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202101"},{"categories":["ç”Ÿæ´»è®°å½•"],"content":" 2020/11 ","date":"2023-05-10","objectID":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/:27:0","series":["éŸ³ä¹"],"tags":["å¬æ­Œæœˆè®°å½•"],"title":"å¬æ­Œæœˆè®°å½•","uri":"/202305101357-%E5%90%AC%E6%AD%8C%E6%9C%88%E8%AE%B0%E5%BD%95/#202011"},{"categories":["Tools-Method"],"content":"#mermaid ï¼ˆæ€ç»´å¯¼å›¾åœ¨ obsidian v1.2.7 ä¸­è¿˜æ²¡æ”¯æŒï¼‰ ","date":"2023-05-10","objectID":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/:0:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ€ç»´å¯¼å›¾","uri":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#"},{"categories":["Tools-Method"],"content":" åŸºæœ¬è¯­æ³•æ€ç»´å¯¼å›¾ä¸»è¦é€šè¿‡ ç¼©è¿› æ¥è¡¨ç¤ºå…¶ç»“æ„ å†é…åˆè®°ä½ä¸€äº›å…³é”®å­—å³å¯ï¼š mindmap root mindmap root a aa ab b mindmap root a aa ab b ","date":"2023-05-10","objectID":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/:1:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ€ç»´å¯¼å›¾","uri":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#åŸºæœ¬è¯­æ³•"},{"categories":["Tools-Method"],"content":" å…ƒç´ çš„å½¢çŠ¶è·Ÿæµç¨‹å›¾è¡¨ç°å½¢çŠ¶çš„æ–¹æ³•ç±»ä¼¼ mindmap root((mymind)) id[1.square] id(2.rounded) id((3.circle)) id))4.explode(( id)5.cloud( id{{6.hexagon}} 7.default mindmap root((mymind)) id[1.square] id(2.rounded) id((3.circle)) id))4.explode(( id)5.cloud( id{{6.hexagon}} 7.default ","date":"2023-05-10","objectID":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/:2:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ€ç»´å¯¼å›¾","uri":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#å…ƒç´ çš„å½¢çŠ¶"},{"categories":["Tools-Method"],"content":" æ–‡å­—è¯´æ˜â€œ`æ–‡å­—å†…å®¹`â€ mindmap root((mymind)) id[\"`1.square ä¸€äº›è¯´æ˜æ€§çš„æ–‡å­— å¯èƒ½ä¼šæœ‰æ¢è¡Œçš„éœ€æ±‚ è¿™å°†ä½¿ç”¨åˆ°åå•å¼•å· è¿™é‡ŒåŒæ ·å¯ä»¥ä½¿ç”¨è¡¨æƒ…ğŸ¥µ`\"] id(2.rounded) id((3.circle)) mindmap root((mymind)) id[\"`1.square ä¸€äº›è¯´æ˜æ€§çš„æ–‡å­— å¯èƒ½ä¼šæœ‰æ¢è¡Œçš„éœ€æ±‚ è¿™å°†ä½¿ç”¨åˆ°åå•å¼•å· è¿™é‡ŒåŒæ ·å¯ä»¥ä½¿ç”¨è¡¨æƒ…ğŸ¥µ`\"] id(2.rounded) id((3.circle)) ","date":"2023-05-10","objectID":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/:3:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ€ç»´å¯¼å›¾","uri":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#æ–‡å­—è¯´æ˜"},{"categories":["Tools-Method"],"content":" å›¾æ ‡::icon() mindmap root((mymind)) id[1.square] ::icon(fas fa-yen-sign) id(2.rounded) id((3.circle)) ::icon(fas fa-circle-notch) id))4.explode(( id)5.cloud( ::icon(fas fa-cloud) id{{6.hexagon}} 7.default mindmap root((mymind)) id[1.square] ::icon(fas fa-yen-sign) id(2.rounded) id((3.circle)) ::icon(fas fa-circle-notch) id))4.explode(( id)5.cloud( ::icon(fas fa-cloud) id{{6.hexagon}} 7.default çœ‹æ•ˆæœæ„Ÿè§‰åšçš„è¿˜ä¸æ˜¯å¾ˆå¥½ https://mermaid.js.org/syntax/mindmap.html ","date":"2023-05-10","objectID":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/:4:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ€ç»´å¯¼å›¾","uri":"/202305101117-mermaid-%E8%AF%AD%E6%B3%95-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#å›¾æ ‡"},{"categories":["Tools-Method"],"content":"#ä¸ªäººè®°å½• é€‚åˆè‡ªå·±çš„å°±æ˜¯æœ€å¥½çš„ ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:0:0","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#"},{"categories":["Tools-Method"],"content":" å†™ä½œ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:0","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#å†™ä½œ"},{"categories":["Tools-Method"],"content":" æˆ‘çš„å†™ä½œå·¥å…· flowchart LR tp[typora]--\u003e|1|vsc[vscode] vsc--\u003etp tp--\u003e|2|nt[notion] nt--\u003etp tp--\u003e|3|ta[the archive] subgraph æ”¯æŒå¡ç‰‡ç›’ç¬”è®°æ³• ta--\u003e|4|o[\"obsidian(æ­£åœ¨ä½¿ç”¨)\"] end Obsidianä¹‹å‰æ¢è¿‡ä¸€äº›å·¥å…·ï¼Œå°±å…ˆä¸è®°å½•äº†ï¼Œå› ä¸ºå‰æ®µæ—¶é—´çœ‹äº†å¡ç‰‡ç›’ç¬”è®°æ³•ï¼Œæ‰¾äº†ä¸€äº›æ–¹ä¾¿ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„è½¯ä»¶æ¥ç”¨ï¼Œæ­£åœ¨ä½¿ç”¨ Obsidianï¼Œè®°å½•ä¸€ä¸‹ä¸€äº›å¸¸ç”¨è®¾ç½®ï¼š ï¼ˆä¸ºä»€ä¹ˆè¿™ä¸ªæ¡†æ¡†å¾—ç‚¹ä¸¤æ¬¡ï¼‰ æ–°å»ºæ–‡ä»¶è·¯å¾„ã€å›¾ç‰‡å­˜æ”¾ä½ç½® é€‚é…å¡ç‰‡ç›’ç¬”è®°æ³• ä¸€ä¸ªæ­£å¸¸çš„ç¬”è®°æµç¨‹ï¼š æ–°å»ºæ—¶é—´æˆ³ç¬”è®° ä¿®æ”¹æ–‡ä»¶çš„ç›¸å…³æè¿° å¼€å§‹å†™ä½œ ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:1","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#æˆ‘çš„å†™ä½œå·¥å…·"},{"categories":["Tools-Method"],"content":" æˆ‘çš„å†™ä½œå·¥å…· flowchart LR tp[typora]--\u003e|1|vsc[vscode] vsc--\u003etp tp--\u003e|2|nt[notion] nt--\u003etp tp--\u003e|3|ta[the archive] subgraph æ”¯æŒå¡ç‰‡ç›’ç¬”è®°æ³• ta--\u003e|4|o[\"obsidian(æ­£åœ¨ä½¿ç”¨)\"] end Obsidianä¹‹å‰æ¢è¿‡ä¸€äº›å·¥å…·ï¼Œå°±å…ˆä¸è®°å½•äº†ï¼Œå› ä¸ºå‰æ®µæ—¶é—´çœ‹äº†å¡ç‰‡ç›’ç¬”è®°æ³•ï¼Œæ‰¾äº†ä¸€äº›æ–¹ä¾¿ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„è½¯ä»¶æ¥ç”¨ï¼Œæ­£åœ¨ä½¿ç”¨ Obsidianï¼Œè®°å½•ä¸€ä¸‹ä¸€äº›å¸¸ç”¨è®¾ç½®ï¼š ï¼ˆä¸ºä»€ä¹ˆè¿™ä¸ªæ¡†æ¡†å¾—ç‚¹ä¸¤æ¬¡ï¼‰ æ–°å»ºæ–‡ä»¶è·¯å¾„ã€å›¾ç‰‡å­˜æ”¾ä½ç½® é€‚é…å¡ç‰‡ç›’ç¬”è®°æ³• ä¸€ä¸ªæ­£å¸¸çš„ç¬”è®°æµç¨‹ï¼š æ–°å»ºæ—¶é—´æˆ³ç¬”è®° ä¿®æ”¹æ–‡ä»¶çš„ç›¸å…³æè¿° å¼€å§‹å†™ä½œ ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:1","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#obsidian"},{"categories":["Tools-Method"],"content":" å›¾åºŠä½¿ç”¨ github ä¿å­˜å›¾ç‰‡ ç¼–è¾‘çš„æ—¶å€™ç²˜è´´çš„æ—¶å€™éƒ½ä¿å­˜åˆ°æœ¬åœ° themes/DoIt/assets/images/posts æ–‡ä»¶å¤¹ä¸­ï¼Œå†™ä½œçš„æ—¶å€™æ— éœ€åšä¸Šä¼ å›¾ç‰‡çš„æ“ä½œ ä½†æ˜¯éœ€è¦æŠŠ Â·themes/DoIt/assets/ images/posts è¿™æ®µå†…å®¹åˆ é™¤ï¼Œä¸ºçš„æ˜¯è®© hugo ç”Ÿæˆé™æ€é¡µé¢ä¹‹åèƒ½æ‰¾åˆ°è¿™å¼ å›¾ç‰‡ è¿™æ ·å°±èƒ½å¤ŸåŒæ—¶åœ¨ åšå®¢ã€obsidian ä¸­çœ‹åˆ°è¿™å¼ å›¾ç‰‡ ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:2","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#å›¾åºŠ"},{"categories":["Tools-Method"],"content":" é”®ç›˜ NIZ å®èŠ 84EC(S) Bleå¥½ï¼ å›ºä»¶ã€ç¼–ç¨‹è½¯ä»¶ä¸‹è½½ æ­£å¸¸å†™ä½œã€å·¥ä½œé—®é¢˜å®šä½çš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°ä¸€äº›é‡å¤æ€§çš„è¾“å…¥ï¼Œå¤æ‚çš„è¾“å…¥ï¼Œä½¿ç”¨ç¼–ç¨‹è½¯ä»¶ç¼–å†™å¯¹åº”çš„å®ï¼Œæé«˜æ•ˆç‡ å® é¦–å…ˆ 1.è¯»å–é…ç½® æ”¾ç½®ç›´æ¥å†™å…¥è¦†ç›–æ‰äº†ä¹‹å‰çš„é…ç½®ï¼Œç„¶åè¿›è¡Œ è‡ªå®šä¹‰çš„æ“ä½œï¼Œç¼–è¾‘å®Œæˆä¹‹åæŠŠé…ç½® å†™å…¥æŒ‰é”®ï¼Œæœ€åä¿å­˜ä¸€ä¸‹é…ç½®ï¼Œåšä¸ªå¤‡ä»½ã€‚ çœ‹ä¸‹æ•ˆæœï¼š ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:3","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#é”®ç›˜"},{"categories":["Tools-Method"],"content":" é”®ç›˜ NIZ å®èŠ 84EC(S) Bleå¥½ï¼ å›ºä»¶ã€ç¼–ç¨‹è½¯ä»¶ä¸‹è½½ æ­£å¸¸å†™ä½œã€å·¥ä½œé—®é¢˜å®šä½çš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°ä¸€äº›é‡å¤æ€§çš„è¾“å…¥ï¼Œå¤æ‚çš„è¾“å…¥ï¼Œä½¿ç”¨ç¼–ç¨‹è½¯ä»¶ç¼–å†™å¯¹åº”çš„å®ï¼Œæé«˜æ•ˆç‡ å® é¦–å…ˆ 1.è¯»å–é…ç½® æ”¾ç½®ç›´æ¥å†™å…¥è¦†ç›–æ‰äº†ä¹‹å‰çš„é…ç½®ï¼Œç„¶åè¿›è¡Œ è‡ªå®šä¹‰çš„æ“ä½œï¼Œç¼–è¾‘å®Œæˆä¹‹åæŠŠé…ç½® å†™å…¥æŒ‰é”®ï¼Œæœ€åä¿å­˜ä¸€ä¸‹é…ç½®ï¼Œåšä¸ªå¤‡ä»½ã€‚ çœ‹ä¸‹æ•ˆæœï¼š ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:3","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#niz-å®èŠ-84ecs-ble"},{"categories":["Tools-Method"],"content":" éŸ³ä¹åµŒå…¥æµç¨‹ æŠŠéŸ³ä¹æ”¾åˆ°å¯¹åº”çš„ music æ–‡ä»¶å¤¹ ç¼–è¾‘è°ƒç”¨ä»£ç  music url=\"/music/lessang/recall.m4a\" name=\"xxx\" artist=\"xxx\" cover=\"/music/lessang/xxx.png\" ç¤ºä¾‹ï¼š ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:4","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#éŸ³ä¹åµŒå…¥æµç¨‹"},{"categories":["Tools-Method"],"content":" ç”»å›¾ processon mermaid boardmix ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:1:5","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#ç”»å›¾"},{"categories":["Tools-Method"],"content":" ä¸‹è½½","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:2:0","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#ä¸‹è½½"},{"categories":["Tools-Method"],"content":" é€šå¸¸ä¸‹è½½IDM ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:2:1","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#é€šå¸¸ä¸‹è½½"},{"categories":["Tools-Method"],"content":" youtube è§†é¢‘éŸ³é¢‘https://youtube.iiilab.com/ ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:2:2","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#youtube-è§†é¢‘éŸ³é¢‘"},{"categories":["Tools-Method"],"content":" å·¥ä½œç”¨é€” sshï¼šmobaxterm ftpï¼šwinscp ","date":"2023-05-10","objectID":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/:3:0","series":["å·¥å…·"],"tags":["ä¸ªäººè®°å½•","æ“ä½œå¤‡å¿˜"],"title":"å¼€å§‹è®°å½•ä¸€äº›æˆ‘çš„å·¥å…·ã€ä¾¿æ·æ“ä½œ[æŒç»­è®°å½•...]","uri":"/202305101151-%E5%BC%80%E5%A7%8B%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E6%88%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BE%BF%E6%8D%B7%E6%93%8D%E4%BD%9C/#å·¥ä½œç”¨é€”"},{"categories":["Tools-Method"],"content":"#mermaid ","date":"2023-05-10","objectID":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/:0:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-ç”˜ç‰¹å›¾","uri":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/#"},{"categories":["Tools-Method"],"content":" å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ gantt title simple sample section A task1 :one, 2023-05-10, 1d task2 :two, 2023-05-10, 5h ä»£ç å¤§ä½“ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š å¤§è‡´åˆ†æˆï¼š gantt å®šä¹‰åŒº section åŒº ä»»åŠ¡æè¿° ä¸»è¦çš„è¯è¿˜æ˜¯å…³äºä»»åŠ¡ä¿¡æ¯çš„å†™æ³• ","date":"2023-05-10","objectID":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/:1:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-ç”˜ç‰¹å›¾","uri":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/#å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­"},{"categories":["Tools-Method"],"content":" ä»»åŠ¡ä¿¡æ¯ ä»»åŠ¡åç§°ï¼Œæè¿° :[ä»»åŠ¡æ€§è´¨], [æ˜¯å¦å®Œæˆ], [åˆ«å], [å¼€å§‹æ—¶é—´], [æŒç»­æ—¶é—´|ç»“æŸæ—¶é—´] è¿™äº›æè¿°å­—æ®µå¤§éƒ½æ˜¯å¯é€‰çš„ å±æ€§ å€¼ ä»»åŠ¡æ€§è´¨ crit - é‡è¦ä»»åŠ¡ milestone - é‡Œç¨‹ç¢‘ä»»åŠ¡ æ˜¯å¦å®Œæˆ active - æ¿€æ´»çŠ¶æ€ done - å·²å®Œæˆ åˆ«å æœ€å¥½ä¸è¦æœ‰æ•°å­—ï¼ å¼€å§‹æ—¶é—´ æ ¼å¼ç”± gantt å®šä¹‰åŒºçš„ dateFormat å±æ€§æŒ‡å®šï¼Œä¾‹å¦‚ï¼šdateFormat YYYY-MM-DD æŒç»­æ—¶é—´ æ•°å­— + m/h/d/w å¯ä»¥æŠŠä¸€äº›å±æ€§æ”¾åœ¨ä»»åŠ¡åŒºå¤–é¢æ¥å†™ï¼š ","date":"2023-05-10","objectID":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/:2:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-ç”˜ç‰¹å›¾","uri":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/#ä»»åŠ¡ä¿¡æ¯"},{"categories":["Tools-Method"],"content":" gantt å®šä¹‰åŒºçš„å†…å®¹ title æ ‡é¢˜ dateFormat å®šä¹‰è¾“å…¥çš„æ—¥æœŸæ ¼å¼ æ”¯æŒè§£æçš„å ä½ç¬¦åˆ—è¡¨ axisFormat x è½´æ˜¾ç¤ºæ ¼å¼ https://github.com/d3/d3-time-format/tree/v4.0.0#locale_format tickInterval x è½´åˆ»åº¦ /^([1-9][0-9]*)(minute|hour|day|week|month)$/; displayMode: compact å¯ä»¥è®© gantt å›¾æ›´ç´§å‡‘ --- displayMode: compact --- gantt title A Gantt Diagram dateFormat YYYY-MM-DD section Section A task :a1, 2014-01-01, 30d Another task :a2, 2014-01-20, 25d Another one :a3, 2014-02-10, 20d --- displayMode: compact --- gantt ... ","date":"2023-05-10","objectID":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/:3:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-ç”˜ç‰¹å›¾","uri":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/#gantt-å®šä¹‰åŒºçš„å†…å®¹"},{"categories":["Tools-Method"],"content":" ä¾‹å­ gantt titleÂ é¡¹ç›®è®¡åˆ’è¡¨ sectionÂ è®¾è®¡é˜¶æ®µ éœ€æ±‚åˆ†æ:done,a,Â 2022-01-01,Â 10d æ¦‚è¦è®¾è®¡:done,b,Â 2022-01-11,Â 10d è¯¦ç»†è®¾è®¡:c,Â 2022-01-21,Â 10d sectionÂ ç¼–ç é˜¶æ®µ ç¼–ç :crit,d,Â 2022-02-01,Â 28d sectionÂ æµ‹è¯•é˜¶æ®µ å•å…ƒæµ‹è¯•:e,Â 2022-03-01,Â 10d é›†æˆæµ‹è¯•:f,Â 2022-03-11,Â 10d ç³»ç»Ÿæµ‹è¯•:g,Â 2022-03-21,Â 10d gantt titleÂ é¡¹ç›®è®¡åˆ’è¡¨ sectionÂ è®¾è®¡é˜¶æ®µ éœ€æ±‚åˆ†æ:done,a,Â 2022-01-01,Â 10d æ¦‚è¦è®¾è®¡:done,b,Â 2022-01-11,Â 10d è¯¦ç»†è®¾è®¡:c,Â 2022-01-21,Â 10d sectionÂ ç¼–ç é˜¶æ®µ ç¼–ç :crit,d,Â 2022-02-01,Â 28d sectionÂ æµ‹è¯•é˜¶æ®µ å•å…ƒæµ‹è¯•:e,Â 2022-03-01,Â 10d é›†æˆæµ‹è¯•:f,Â 2022-03-11,Â 10d ç³»ç»Ÿæµ‹è¯•:g,Â 2022-03-21,Â 10d https://mermaid.js.org/syntax/gantt.html ","date":"2023-05-10","objectID":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/:4:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-ç”˜ç‰¹å›¾","uri":"/202305100916-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%98%E7%89%B9%E5%9B%BE/#ä¾‹å­"},{"categories":["Tools-Method"],"content":"#mermaid journey title My working day section study æ‰“æ‰«: 3: Me å­¦ä¹ : 3: Me çœ‹ rm: 5: Me, Cat section Go home Go downstairs: 5: Me Sit down: 5: Me journey title My working day section study æ‰“æ‰«: 3: Me å­¦ä¹ : 3: Me çœ‹ rm: 5: Me, Cat section Go home Go downstairs: 5: Me Sit down: 5: Me https://mermaid.js.org/syntax/userJourney.html ","date":"2023-05-10","objectID":"/202305100347-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%A8%E6%88%B7%E6%97%85%E7%A8%8B%E5%9B%BE/:0:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-ç”¨æˆ·æ—…ç¨‹å›¾","uri":"/202305100347-mermaid-%E8%AF%AD%E6%B3%95-%E7%94%A8%E6%88%B7%E6%97%85%E7%A8%8B%E5%9B%BE/#"},{"categories":["Tools-Method"],"content":"#mermaid pie showData title è¢«æ”¶å…»çš„å® ç‰© \"Dogs\": 386 \"Cats\": 85 \"Rats\": 15 pie showData title è¢«æ”¶å…»çš„å® ç‰© \"Dogs\": 386 \"Cats\": 85 \"Rats\": 15 https://mermaid.js.org/syntax/pie.html ","date":"2023-05-10","objectID":"/202305100200-mermaid-%E8%AF%AD%E6%B3%95-%E9%A5%BC%E5%9B%BE/:0:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-é¥¼å›¾","uri":"/202305100200-mermaid-%E8%AF%AD%E6%B3%95-%E9%A5%BC%E5%9B%BE/#"},{"categories":["Tools-Method"],"content":"#mermaid ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:0:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#"},{"categories":["Tools-Method"],"content":" æ¶ˆæ¯é¦–å…ˆåˆ†æˆ å®çº¿ å’Œ è™šçº¿ ï¼Œç„¶åæ¯ç§çº¿éƒ½æœ‰ æ— ç®­å¤´ã€æœ‰ç®­å¤´ã€å¸¦xç®­å¤´ã€ç©ºå¿ƒç®­å¤´ï¼ˆå¼‚æ­¥ï¼‰ å››ç§ç®­å¤´ ç±»å‹ æ¸²æŸ“ -\u003e -Â» -x -) â€“\u003e â€“Â» â€“x â€“) ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:1:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#æ¶ˆæ¯"},{"categories":["Tools-Method"],"content":" åºå·autonumber sequenceDiagram autonumber rectÂ rgb(191,233,255) a-\u003e\u003eb:Â hello b-\u003e\u003ec:Â hi rectÂ rgb(255,106,106) b-\u003e\u003ea:Â iÂ hateÂ you end end sequenceDiagram autonumber rectÂ rgb(191,233,255) a-\u003e\u003eb:Â hello b-\u003e\u003ec:Â hi rectÂ rgb(205,38,38) b-\u003e\u003ea:Â iÂ hateÂ you end end ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:2:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#åºå·"},{"categories":["Tools-Method"],"content":" æˆå‘˜ participantã€actoræˆå‘˜å¯ä»¥æœ‰è¶…é“¾æ¥ sequenceDiagram %% å®šä¹‰æˆå‘˜å‡ºç°çš„é¡ºåº participant Alice participant Bob Alice-\u003e\u003eBob: Hi Bob Bob-\u003e\u003eAlice: Hi Alice ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:3:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#æˆå‘˜-participantactor"},{"categories":["Tools-Method"],"content":" ä¸¤ç§ç±»å‹ ç±»å‹ æ¸²æŸ“ participant actor ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:3:1","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#ä¸¤ç§ç±»å‹"},{"categories":["Tools-Method"],"content":" åˆ«åparticipant/actor åˆ«å as user01 participant A as Alice ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:3:2","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#åˆ«å"},{"categories":["Tools-Method"],"content":" åˆ†ç»„box â€¦ end sequenceDiagram box Group 01 actor a actor b end box Another Group actor c actor d end a-\u003eb: hi! b-\u003ec: hello! c-\u003ed: hi! d-\u003ea: so high! sequenceDiagram box Group 01 actor a actor b end box Another Group actor c actor d end a-\u003eb: hi! b-\u003ec: hello! c-\u003ed: hi! d-\u003ea: so high! ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:3:3","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#åˆ†ç»„"},{"categories":["Tools-Method"],"content":" æ¿€æ´»-ç»“æŸ activate â€¦ deactivate + / - sequenceDiagram actor a actor b a-\u003e\u003eb: cook activate b b-\u003e\u003ea: done! deactivate b å®ç°1. sequenceDiagram actor a actor b a-\u003e\u003eb: cook activate b b-\u003e\u003ea: done! deactivate b å®ç°2. sequenceDiagram a-\u003e\u003e+b: cook begin! b-\u003e\u003e-a: is done! é‡å¤æ¿€æ´»ï¼š sequenceDiagram a-\u003e\u003e+b: cook 1! a-\u003e\u003e+b: cook 2! b-\u003e\u003e-a: 1 done! b-\u003e\u003e-a: 2 done! sequenceDiagram a-\u003e\u003e+b: cook 1! a-\u003e\u003e+b: cook 2! b-\u003e\u003e-a: 1 done! b-\u003e\u003e-a: 2 done! ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:4:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#æ¿€æ´»-ç»“æŸ"},{"categories":["Tools-Method"],"content":" å¾ªç¯loop é¢‘ç‡ â€¦ end sequenceDiagram actor a actor b a-\u003e\u003eb: ä½ å¥½å—? loop every secs b--\u003e\u003ea: å¾ˆå¥½! end sequenceDiagram actor a actor b a-\u003e\u003eb: ä½ å¥½å—? loop every secs b--\u003e\u003ea: å¾ˆå¥½! end ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:5:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#å¾ªç¯"},{"categories":["Tools-Method"],"content":" åˆ†æ”¯ sequenceDiagram actor a actor b a-\u003e\u003eb: ä½ å¥½å—? alt ç”Ÿç—…äº†ï¼Œå¾ˆå¿™... b-\u003e\u003ea: ä¸å¥½ end alt å¾ˆå¥åº· b-\u003e\u003ea: å¾ˆå¥½ end sequenceDiagram actor a actor b a-\u003e\u003eb: ä½ å¥½å—? alt ç”Ÿç—…äº†ï¼Œå¾ˆå¿™... b-\u003e\u003ea: ä¸å¥½ end alt å¾ˆå¥åº· b-\u003e\u003ea: å¾ˆå¥½ end ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:6:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#åˆ†æ”¯"},{"categories":["Tools-Method"],"content":" å¹¶è¡Œæ¶ˆæ¯par â€¦ and â€¦ end ç”¨æ¥è¡¨ç¤ºå¹¶è¡Œçš„æ¶ˆæ¯ æ˜¾ç„¶æ˜¯å¯ä»¥åµŒå¥—çš„ sequenceDiagram actor server actor client1 actor client2 par å“åº”ç”¨æˆ·1 server-\u003e\u003eclient1: response and å“åº”ç”¨æˆ·2 server-\u003e\u003eclient2: response end client1--\u003e\u003eserver: request next client2--\u003e\u003eserver: request next sequenceDiagram actor server actor client1 actor client2 par å“åº”ç”¨æˆ·1 server-\u003e\u003eclient1: response and å“åº”ç”¨æˆ·2 server-\u003e\u003eclient2: response end client1--\u003e\u003eserver: request next client2--\u003e\u003eserver: request next ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:7:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#å¹¶è¡Œæ¶ˆæ¯"},{"categories":["Tools-Method"],"content":" ç»“æœå¯é¢„è§çš„æƒ…å†µï¼Œåˆ—ä¸¾æ‰€æœ‰æƒ…å†µä»¥ä¸€ä¸ªæœåŠ¡è·Ÿæ•°æ®åº“å»ºç«‹è¿æ¥ä¸ºä¾‹ï¼Œç»“æœæ— éï¼š è¿æ¥æˆåŠŸ è¿æ¥è¶…æ—¶ è¿æ¥è¢«æ‹’ç» critical â€¦ option â€¦ option â€¦ end sequenceDiagram critical è‰¯å¥½çš„è¿æ¥ç¯å¢ƒ service--\u003eDB: è¿æ¥æˆåŠŸ option ç½‘ç»œè¶…æ—¶ service--\u003eservice: ç™»å½•å¤±è´¥ option å¯†ç é”™è¯¯ service-\u003e\u003eDB: ç™»å½•éªŒè¯ DB-\u003e\u003eservice: éªŒè¯å¤±è´¥ end sequenceDiagram critical è‰¯å¥½çš„è¿æ¥ç¯å¢ƒ service--\u003eDB: è¿æ¥æˆåŠŸ option ç½‘ç»œè¶…æ—¶ service--\u003eservice: ç™»å½•å¤±è´¥ option å¯†ç é”™è¯¯ service-\u003e\u003eDB: ç™»å½•éªŒè¯ DB-\u003e\u003eservice: éªŒè¯å¤±è´¥ end ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:8:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#ç»“æœå¯é¢„è§çš„æƒ…å†µåˆ—ä¸¾æ‰€æœ‰æƒ…å†µ"},{"categories":["Tools-Method"],"content":" åœæ­¢/ä¼‘æ¯break â€¦ end sequenceDiagram Consumer--\u003eAPI: Book something API--\u003eBookingService: Start booking process break when the booking process fails API--\u003eConsumer: show failure end API--\u003eBillingService: Start billing process sequenceDiagram Consumer--\u003eAPI: Book something API--\u003eBookingService: Start booking process break when the booking process fails API--\u003eConsumer: show failure end API--\u003eBillingService: Start billing process ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:9:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#åœæ­¢ä¼‘æ¯"},{"categories":["Tools-Method"],"content":" ä¾¿ç­¾ Note left of Note right of Note over sequenceDiagram actor a actor b actor c Note left of a: 1. Note left of a Note right of b: 2. Note right of b Note over c: 3. Note over c Note over a,b: 4. Note over a,b Note over a: 5. Note over a a-\u003e\u003e+b: cook 1! b-\u003e\u003e-a: done! ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:10:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#ä¾¿ç­¾"},{"categories":["Tools-Method"],"content":" èƒŒæ™¯é¢œè‰² rect rgb(x,x,x) or rgba(x,x,x) sequenceDiagram rectÂ rgb(191,233,255) a-\u003e\u003eb:Â hello b-\u003e\u003ec:Â hi rectÂ rgb(255,106,106) b-\u003e\u003ea:Â iÂ hateÂ you end end sequenceDiagram rectÂ rgb(191,233,255) a-\u003e\u003eb:Â hello b-\u003e\u003ec:Â hi rectÂ rgb(255,106,106) b-\u003e\u003ea:Â iÂ hateÂ you end end https://mermaid.js.org/syntax/sequenceDiagram.html ","date":"2023-05-10","objectID":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/:11:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æ—¶åºå›¾","uri":"/202305100218-mermaid-%E8%AF%AD%E6%B3%95-%E6%97%B6%E5%BA%8F%E5%9B%BE/#èƒŒæ™¯é¢œè‰²"},{"categories":["Tools-Method"],"content":"#mermaid ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:0:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#"},{"categories":["Tools-Method"],"content":" æµç¨‹å›¾æµç¨‹å›¾çš„æ–¹å‘ï¼š æ°´å¹³ï¼šLRLeft Rightã€RLRight Left å‚ç›´ï¼šTDTop Down æµç¨‹å›¾çš„ç»„æˆå…ƒç´ åˆ†æˆä¸¤å¤§ç±»ï¼š æ¡†æ¡† çº¿ ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#æµç¨‹å›¾"},{"categories":["Tools-Method"],"content":" æ¡† A[æ–¹å½¢] A(åœ†è§’) A{è±å½¢} A([ä½“è‚²åœº]) A[[å­ç¨‹åº]] A[(æ•°æ®åº“)] A((åœ†)) A\u003eå°±è¿™ä¸ªå½¢çŠ¶] A{{å…­è¾¹å½¢}} A[/å¹³è¡Œå››è¾¹å½¢/] A[\\å¹³è¡Œå››è¾¹å½¢\\] A[/å¹³è¡Œå››è¾¹å½¢\\] A[\\å¹³è¡Œå››è¾¹å½¢/] A(((åŒåœ†åœˆ))) æ¡† æ¸²æŸ“ a[æ–¹å½¢] a(åœ†è§’) A{è±å½¢} A([ä½“è‚²åœº]) A[[å­ç¨‹åº]] A[(æ•°æ®åº“)] A((åœ†)) A\u003eå°±è¿™ä¸ªå½¢çŠ¶] A{{å…­è¾¹å½¢}} A[/å¹³è¡Œå››è¾¹å½¢/] â€¦ A(((åŒåœ†åœˆ))) å¡«è‰²ï¼š %% 1. ç±»å®šä¹‰ classDef yellow fill:yellow a---b---c %% 2. æŠŠæ ·å¼ç»™æ–¹å— class a yellow graph LR %% 1. ç±»å®šä¹‰ classDef yellow fill:yellow a---b---c %% 2. æŠŠæ ·å¼ç»™æ–¹å— class a yellow ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:1","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#æ¡†"},{"categories":["Tools-Method"],"content":" çº¿ ---\u003e --- -.-\u003e ==\u003e # åš --o --x \u003c--\u003e -- text -- OR A----|text|B -- text --\u003e OR A----\u003e|text|B çœ‹ä¸è§çš„é“¾æ¥ï¼šï¼ˆå¦‚æœæƒ³è¦æ”¹å˜æ¡†æ¡†çš„ä½ç½®ï¼Œè¿™å¯èƒ½æ˜¯æœ‰ç”¨çš„ï¼‰ ~~~ çº¿ æ¸²æŸ“ è¯´æ˜ â€”\u003e â€” -.-\u003e ==\u003e æ¯”è¾ƒåšçš„çº¿ â€“o â€“x \u003câ€“\u003e Aâ€“\u003e|text|B ~~~ ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ç©ºç™½çš„è¿çº¿ ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:2","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#çº¿"},{"categories":["Tools-Method"],"content":" ç»„åˆåŒä¸€è¡Œå†…å¯ä»¥å†™å¤šä¸ªè¿æ¥ a--\u003eb --\u003ec a--B\u0026c--\u003ed A \u0026 B--\u003e C \u0026 D ä¸Šé¢è¿™è¡Œå†™æ³•å¯è¯»æ€§å¯èƒ½ä¸å¤ªå¥½ï¼Œä¸å¦‚å†™æˆï¼š a --\u003e c \u0026 d b --\u003e c \u0026 d ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:3","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#ç»„åˆ"},{"categories":["Tools-Method"],"content":" å­å›¾ ä½¿ç”¨ subgraph â€¦ end æ¥åˆ’åˆ†å­å›¾ å­å›¾ä¹‹é—´å¯ä»¥ç”»çº¿ã€å­å›¾ä¸å…ƒç´ ä¹‹é—´å¯ä»¥ç”»çº¿ å­å›¾å¯ä»¥ç”¨ direction æŒ‡å®šæ–¹å‘(ä¾‹å¦‚ direction LDï¼Œæ”¾åœ¨ subgraph åé¢ä¸€è¡Œ) graph TD a---c subgraph one d---c end subgraph two e---f end ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:4","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#å­å›¾"},{"categories":["Tools-Method"],"content":" æ–‡æœ¬ æ–‡æœ¬ä¹Ÿå¯ä»¥åƒ Markdown ä¸€æ ·ä½¿ç”¨æ˜Ÿå·åŠ ç²— ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:5","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#æ–‡æœ¬"},{"categories":["Tools-Method"],"content":" æ³¨é‡Š %% ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:6","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#æ³¨é‡Š"},{"categories":["Tools-Method"],"content":" æ¶¦è‰² å›¾æ ‡ï¼š graph LR a---b[fa:fa-spinner] ç±»å®šä¹‰ %% 1. ç±»å®šä¹‰ classDef classname fill:yellow, stroke:yellow, stroke-width: 4px, storoke-dasharray: 5, 5 a---b---c %% 2. æŠŠæ ·å¼ç»™æ–¹å— class a classname fill ç”¨é¢œè‰²å¡«æ»¡å…ƒç´  stroke è¾¹æ¡†é¢œè‰² stroke-width è¾¹æ¡†å®½åº¦ stroke-dasharray è™šçº¿è¾¹æ¡† ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:1:7","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#æ¶¦è‰²"},{"categories":["Tools-Method"],"content":" ä¾‹å­ flowchart TD %% é‡è¦æ€§çš„åˆ†ç±» classDef important stroke:red, stroke-width:2px classDef pass stroke:grey, stroke-dasharray: 5,5 %% æµç¨‹çš„åˆ†ç±» classDef success stroke:green %% è§£é‡Š classDef stick fill:yellow, stroke:yellow classDef stickImp fill:pink, stroke:pink, color:black a[é‡è¦]---b[ä¸€èˆ¬]---c[å¯å¿½ç•¥] b---d[é‡è¦] d---e[æˆåŠŸ] f[å®ç°ç±»ä¼¼ä¾¿ç­¾çš„æ•ˆæœ å¯¹ä¸€ä¸ªå…ƒç´ æˆ–è€…æµç¨‹èŠ‚ç‚¹åŠ ä»¥è§£é‡Š] f-.-d class a,d important class c pass class e success class f stickImp %% é‡è¦æ€§çš„åˆ†ç±» classDef important stroke:red, stroke-width:2px classDef pass stroke:grey, stroke-dasharray: 5,5 %% æµç¨‹çš„åˆ†ç±» classDef success stroke:green %% è§£é‡Š classDef stick fill:yellow, stroke:yellow classDef stickImp fill:pink, stroke:pink, color:black a[é‡è¦]---b[ä¸€èˆ¬]---c[å¯å¿½ç•¥] b---d[é‡è¦] d---e[æˆåŠŸ] f[å®ç°ç±»ä¼¼ä¾¿ç­¾çš„æ•ˆæœ\u003cbr\u003eå¯¹ä¸€ä¸ªå…ƒç´ æˆ–è€…æµç¨‹èŠ‚ç‚¹åŠ ä»¥è§£é‡Š] f-.-d class a,d important class c pass class e success class f stickImp https://mermaid.js.org/syntax/flowchart.html ","date":"2023-05-09","objectID":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/:2:0","series":["mermaidè¯­æ³•"],"tags":["ç”»å›¾"],"title":"mermaid è¯­æ³•-æµç¨‹å›¾","uri":"/202305092142-mermaid-%E8%AF%AD%E6%B3%95-%E6%B5%81%E7%A8%8B%E5%9B%BE/#ä¾‹å­"},{"categories":["Tools-Method"],"content":"æœ€è¿‘æ‰“ç®—æŠŠè‡ªå·±çš„æ–‡æ¡£ä»æœ¬åœ°æ”¾åˆ°åšå®¢ä¸Šï¼Œæ–¹ä¾¿è‡ªå·±åœ¨çº¿æŸ¥çœ‹ã€‚å€Ÿè¿™ä¸ªæœºä¼šå¥½å¥½æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/"},{"categories":["Tools-Method"],"content":"#myflow å‰è¨€ï¼šæœ€è¿‘æ‰“ç®—æŠŠè‡ªå·±çš„æ–‡æ¡£ä»æœ¬åœ°æ”¾åˆ°åšå®¢ä¸Šï¼Œæ–¹ä¾¿è‡ªå·±åœ¨çº¿æŸ¥çœ‹ã€‚å› æ­¤å†™è¿™ç¯‡æ–‡æ¡£çš„ç›®çš„ä¹Ÿæ˜¯æƒ³å€Ÿè¿™ä¸ªæœºä¼šå¥½å¥½æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ æ‰“ç®—ä»ä¸‹é¢å‡ ä¸ªæ–¹é¢æ¥æ•´ç†ï¼š ä¹‹å‰çš„ä¸€äº›å†™ä½œä¹ æƒ¯ é’ˆå¯¹ obsidiançš„ç‰¹æ€§ã€hugoã€markdownã€å¡ç‰‡ç›’ç¬”è®°æ³•è¿™äº›ç‰¹æ€§æ¥å°è¯•å…»æˆä¸€äº›æ–°çš„ä¹ æƒ¯ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:0:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#"},{"categories":["Tools-Method"],"content":" å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„å†™ä½œä¹ æƒ¯ä»å¤§å­¦å¾ˆæ—©çš„æ—¶å€™å°±æ¥è§¦åˆ°äº† Markdown çš„è¯­è¨€ï¼Œè®©å†™ä½œçœŸçš„å˜å¾—å¾ˆæ–¹ä¾¿ï¼Œå¯ä»¥è®©å†™ä½œè€…ä¸“æ³¨äºå†…å®¹ï¼Œè€Œä¸æ˜¯æ’ç‰ˆï¼Œè¿™ä¹Ÿå¸®åŠ©æˆ‘å…»æˆäº†åšè®°å½•çš„ä¹ æƒ¯ã€‚ ï¼ˆå› ä¸ºè¿™æ¬¡éƒ½æŠŠæ–‡æ¡£æ”¾åˆ°åšå®¢ä¸Šäº†ï¼Œä¹‹åçš„è¯ï¼Œæœ¬åœ°è½¯ä»¶ï¼ˆobsidianï¼‰æ›´åŠ ä¾§é‡æ¥ç¼–è¾‘ï¼ŒæŸ¥çœ‹çš„è¯å¤šåœ¨åšå®¢æŸ¥çœ‹å§ï¼Œåœ¨æ–‡æ¡£çš„æ˜¾ç¤ºé£æ ¼çš„è€ƒè™‘ä¸Šï¼Œæ›´åŠ ä¾§é‡åšå®¢çš„æ¸²æŸ“æƒ…å†µã€‚ï¼‰ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:1:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„å†™ä½œä¹ æƒ¯"},{"categories":["Tools-Method"],"content":" æ–‡æœ¬æ˜¾ç¤º å…³äºé‡ç‚¹æ–‡å­—å¦‚ä½•çªå‡ºæ˜¾ç¤ºé¦–å…ˆæŠŠå†…å®¹åˆ†ä¸€ä¸‹ç­‰çº§ï¼Œè¿™é‡Œçš„â€œå†…å®¹â€èŒƒå›´åº”è¯¥æ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¸€æ®µæ–‡å­—çš„èŒƒå›´ä¹‹å†…çš„ï¼Œè€Œä¸è€ƒè™‘æ•´ç¯‡æ–‡ç« ï¼Œå› ä¸ºæ•´ç¯‡æ–‡ç« çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œä½¿ç”¨ # æ¥åšç»“æ„çš„åˆ‡åˆ†å·²ç»å¾ˆæ¸…æ™°äº†ã€‚æŠŠå†…å®¹çš„åˆ†çº§å°±ç²—ç•¥åˆ†æˆä¸‰ä¸ªç­‰çº§ï¼š é‡ç‚¹ æ­£å¸¸ è§£é‡Šè¯´æ˜ æ•´ä½“é˜…è¯»çš„æ—¶å€™åº”è¯¥é¡ºç€â€œæ­£å¸¸â€çš„å†…å®¹é¡ºåºé˜…è¯»ï¼Œâ€œé‡ç‚¹â€åº”è¯¥èƒ½å¤Ÿè®©è‡ªå·±åœ¨è§†è§‰ä¸Šæ¯”è¾ƒå¥½çš„æ³¨æ„åˆ°ï¼Œâ€œè§£é‡Šè¯´æ˜â€ä½œä¸ºæ¯”è¾ƒä¸é‡è¦çš„èƒ½å®¹ï¼Œé˜…è¯»çš„æ—¶å€™æœ‰æ—¶å€™å¯ä»¥å¿½ç•¥ï¼Œå¦‚æœå¯ä»¥åç°è‰²æ˜¯æœ€å¥½çš„ è‡ªå·±åœ¨è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒåœ¨æ„çš„å°±æ˜¯æ€ä¹ˆè®©è‡ªå·±åœ¨ä¹‹åå›é¡¾çš„æ—¶å€™æ¯”è¾ƒå¥½çš„çœ‹åˆ°é‡ç‚¹ï¼Œé¦–å…ˆå°±æ˜¯ä¸èƒ½å¤ªèŠ±å“¨ï¼Œå…¶æ¬¡é‡ç‚¹éœ€è¦æ ‡è®°å‡ºæ¥ï¼Œåœ¨ Markdown è¯­æ³•ä¸­ï¼Œæˆ‘ç»å¸¸ç”¨æ¥æ ‡è®°é‡ç‚¹çš„æ–¹å¼å°±æ˜¯ç”¨åå•å¼•å·ã€åŠ ç²—çš„æ–¹å¼ï¼Œä½†æ˜¯ç”±äºä¹‹å‰å†™ä½œçš„è½¯ä»¶æ¢è¿‡å‡ æ¬¡ï¼Œä¸åŒçš„è½¯ä»¶ã€ä¸åŒçš„ theme ä¹‹é—´ï¼Œè¿™ä¸¤ç§æ–¹å¼çš„æ˜¾ç¤ºæœ‰æ—¶å€™ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾ï¼Œæœ‰æ—¶å€™åå•å¼•å·çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæœ‰æ—¶å€™åŠ ç²—çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæ‰€ä»¥è¶ç€è¿™æ¬¡æ•´ç†ï¼Œå†æ¯”è¾ƒä¸€ä¸‹è¿™ä¸¤ç§æ–¹å¼ã€‚ Markdown è¯­æ³•ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼è¢«è®¾è®¡æ¥å¼ºè°ƒå†…å®¹ï¼š ç²—ä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo æ–œä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«æ–œä½“æ–‡å­—çš„æ–‡æœ¬ã€‚ åˆ é™¤ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«åˆ é™¤æ–‡å­—çš„æ–‡æœ¬ã€‚ ä¸Šé¢å‡ ç§æ–¹å¼çš„ç»„åˆ åˆ é™¤+ç²—ä½“ï¼šåˆ é™¤çš„ç²—ä½“æ–‡å­— ä½†æ˜¯é™¤äº†ä¸Šé¢å‡ ç§æ–¹å¼ï¼Œæˆ‘åœ¨ä»¥å¾€å†™ä½œçš„è¿‡ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨åˆ°ä»£ç çš„è¯­æ³•ï¼ˆåå•å¼•å· ` çš„è¯­æ³•ï¼‰æ¥æ ‡æ³¨é‡ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·çš„æ•ˆæœã€‚å› ä¸ºåœ¨æœ‰çš„ä¸»é¢˜é£æ ¼ä¸­ï¼Œä»£ç çš„æ˜¾ç¤ºæ•ˆæœå¾ˆä¸é”™ï¼Œèƒ½å¤Ÿå¾ˆç›´è§‚çš„æ³¨æ„åˆ°é‚£æ®µé«˜äº®æ–‡æœ¬ï¼Œç›¸æ¯”ä¸Šé¢è¡¨ç°è‰¯å¥½çš„ç²—ä½“æ–‡æœ¬ï¼Œé«˜äº®æ–‡æœ¬å¯èƒ½è¡¨ç°æ›´å¥½ï¼Œå› ä¸ºåœ¨æ ‡é¢˜æ¯”è¾ƒå¤šã€æ–‡å­—æ®µè½åˆæ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œæ–‡æœ¬çš„ç²—ä½“å¯èƒ½ä¼šéšè—åœ¨æ ‡é¢˜çš„ç²—ä½“ä¸­ï¼Œè‚‰çœ¼å¯»æ‰¾èµ·æ¥ä¹Ÿæ˜¯è´¹åŠ›çš„ã€‚ åˆšå¥½åœ¨ DoIt é£æ ¼ï¼ˆæœ¬åšå®¢çš„é£æ ¼ä¸»é¢˜ï¼‰ä¸­ï¼Œé«˜äº®è¡¨ç°ä¸é”™ï¼Œå°±ç¡®å®šä»£ç è¯­æ³•ç”¨æ¥çªå‡ºé‡ç‚¹æ–‡å­—å§ï¼ˆè™½ç„¶åœ¨ obsidian ä¸­(æˆ‘ä½¿ç”¨çš„ä¸»é¢˜é£æ ¼æ˜¯ Atom)ï¼Œåå•å¼•å·çš„æ˜¾ç¤ºæ•ˆæœå¹¶ä¸å¥½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ä¹‹åé˜…è¯»å¤šåœ¨åšå®¢ä¸Šé˜…è¯»ï¼Œå°±è¿™ä¹ˆå†³å®šå§ï¼‰é¡ºä¾¿çœ‹ä¸€ä¸‹åå•å¼•å·+åŠ ç²—çš„æ•ˆæœï¼šåˆ é™¤çš„é‡ç‚¹æ–‡å­— æ€»ç»“ï¼šæœ€éœ€è¦æ³¨æ„çš„å†…å®¹ï¼Œå°±ç”¨åå•å¼•å·æ¥æ¦‚æ‹¬å§ï¼ å…³äºæ­£å¸¸æ–‡å­—çš„åˆ†ç±»æ˜¾ç¤ºåœ¨ä¸€æ®µæ­£å¸¸çš„æ–‡æœ¬ä¸­ï¼Œå¯èƒ½æ²¡æœ‰é‡ç‚¹ï¼Œä½†æ˜¯å¯èƒ½ä¼šæœ‰ä¸€äº›ä¸åŒçš„ç±»åˆ«ï¼Œæ¯”å¦‚å‚æ‚ç€ä¸€ä¸ªæ–¹æ³•åã€æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°ã€å‘½ä»¤ç­‰ï¼Œä¹‹å‰ç”¨æ¥æ ‡æ³¨è¿™äº›å¯èƒ½ä¼šç”¨ä¸Šé¢åå•å¼•å·çš„æ–¹å¼ï¼Œä½†æ˜¯åœ¨ hugo ä¸­å¤ªæ˜¾çœ¼äº†ï¼Œä¸Šé¢å·²ç»å†³å®šç”¨æ¥æ˜¾ç¤ºé‡ç‚¹æ–‡å­—äº†ï¼Œå°±å¾—è€ƒè™‘åˆ«çš„æ–¹å¼äº†ã€‚ è¿™ç±»æ–‡å­—åº”è¯¥è·Ÿæ­£å¸¸æ–‡å­—æœ‰ç›¸åŒçš„æ˜¾çœ¼ç¨‹åº¦ï¼Œæ„Ÿè§‰æ¯”è¾ƒç†æƒ³çš„æ˜¾ç¤ºæ–¹å¼åº”è¯¥æ˜¯ç±»ä¼¼è¿™æ ·çš„ï¼Œå°±æ˜¯ç»™æ–‡å­—åŠ ä¸€ä¸ªå•çº¯çš„ã€ä¸æ˜¾çœ¼çš„èƒŒæ™¯è‰²ï¼Œä½†æ˜¯ Markdown æœ¬èº«æ²¡æœ‰è¿™æ ·çš„è¯­æ³•ï¼Œä¸Šé¢æ•ˆæœçš„å®ç°æ–¹å¼æ˜¯ï¼š \u003cfont style=\"background:#e8e9e4\"\u003eæ˜¯ç±»ä¼¼è¿™æ ·çš„\u003c/font\u003e æ˜¯ä½¿ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼Œä½†æ˜¯æ„Ÿè§‰è¿™æ ·çš„ä¹¦å†™æ–¹å¼å·²ç»æœ‰ç‚¹è¿èƒŒ Markdown è¯ç”Ÿçš„åˆè¡·äº†ï¼Œåˆè®©å†™ä½œå˜å¾—å¤æ‚èµ·æ¥ï¼Œæœ‰ç‚¹å¾—ä¸å¿å¤±ï¼Œæ„Ÿè§‰ç›®å‰å¯¹äºè¿™ä¸€ç±»çš„æ–‡å­—æ²¡æœ‰æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆæ¥è§£å†³ï¼Œå°±å…ˆæš‚å®šå§ã€‚ æ€»ç»“ï¼šæš‚å®š ç¬¬ä¸‰ç§ç­‰çº§çš„è§£é‡Šæ€§æ–‡å­—è¿™ç§ç­‰çº§çš„æ–‡å­—æ®µè½ï¼Œæ„Ÿè§‰æœ€å¥½çš„åº”è¯¥æ˜¯ç°è‰²çš„å­—ä½“ï¼Œç±»ä¼¼è¿™æ ·ï¼š è¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚ ä¸Šé¢è¿™æ ·çš„æ•ˆæœæ˜¯æˆ‘æœŸå¾…çš„æ•ˆæœï¼Œè¿™ç§ä¸å¤ªé‡è¦çš„æ–‡å­—ï¼Œå¯èƒ½å°±æ˜¯å¤‡æ³¨ä¸€ä¸‹æ€•ä¹‹åå¿˜è®°ï¼Œå¯èƒ½ç¬¬äºŒæ¬¡ç¬¬ä¸‰æ¬¡æˆ‘å†æ¬¡é˜…è¯»çš„æ—¶å€™å¦‚æœæˆ‘è¿˜è®°å¾—æˆ‘å°±ä¸ä¼šå†çœ‹è¿™æ®µæ–‡å­—äº†ï¼Œè¿™æ ·çš„é¢œè‰²å¯ä»¥è®©æˆ‘åœ¨é¡ºåºé˜…è¯»ä¸‹æ¥çš„æ—¶å€™å¾ˆå¥½çš„å¿½ç•¥æ‰ï¼Œçœå»å¤§è„‘ã€çœ¼ç›å»ç”„åˆ«é‡è¦æ€§çš„æ—¶é—´ï¼Œè®©é˜…è¯»å˜å¾—æ›´æµç•…ä¸€äº›ï¼Œä½†æ˜¯è·Ÿä¸Šé¢åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºä¸€æ ·ï¼Œè¿™ä¹Ÿæ˜¯ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼š \u003cfont color=grey\u003eè¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚\u003c/font\u003e æ„Ÿè§‰è¿˜æ˜¯ä¸å¤ªå¥½ï¼Œä½†æ˜¯æ„Ÿè§‰ä¼šæ¯”ä¸Šé¢çš„åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºæ›´èƒ½æ¥å—ä¸€äº›ï¼Œå› ä¸ºåƒè¿™ç§è§£é‡Šæ€§çš„æ–‡å­—é€šå¸¸æ˜¯ï¼š è¿åœ¨ä¸€èµ·çš„ï¼Œä¸€ç‰‡ ä¸é‚£ä¹ˆç»å¸¸å‡ºç° æ‰€ä»¥ç›¸æ¯”å¸¦æ¥çš„æ”¶ç›Šè·Ÿæ•ˆæœï¼Œè¿˜æ˜¯æ¯”è¾ƒèƒ½æ¥å—çš„ã€‚ï¼ˆåœ¨å¤åˆ¶æ–‡æœ¬çš„åœºæ™¯ä¸‹ï¼Œä¹Ÿä¼šå¤šå‡ºæ¥ä¸€æ®µ html ä»£ç ï¼Œä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ç¼ºç‚¹ï¼Œè™½ç„¶è¿™æ ·çš„åœºæ™¯æ›´å°‘ï¼‰ æ€»ç»“ï¼šæ‰€ä»¥è§£é‡Šæ€§çš„æ–‡å­—å°±è¿™ä¹ˆæ¥æ˜¾ç¤ºå§ï¼ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:1:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#æ–‡æœ¬æ˜¾ç¤º"},{"categories":["Tools-Method"],"content":" æ–‡æœ¬æ˜¾ç¤º å…³äºé‡ç‚¹æ–‡å­—å¦‚ä½•çªå‡ºæ˜¾ç¤ºé¦–å…ˆæŠŠå†…å®¹åˆ†ä¸€ä¸‹ç­‰çº§ï¼Œè¿™é‡Œçš„â€œå†…å®¹â€èŒƒå›´åº”è¯¥æ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¸€æ®µæ–‡å­—çš„èŒƒå›´ä¹‹å†…çš„ï¼Œè€Œä¸è€ƒè™‘æ•´ç¯‡æ–‡ç« ï¼Œå› ä¸ºæ•´ç¯‡æ–‡ç« çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œä½¿ç”¨ # æ¥åšç»“æ„çš„åˆ‡åˆ†å·²ç»å¾ˆæ¸…æ™°äº†ã€‚æŠŠå†…å®¹çš„åˆ†çº§å°±ç²—ç•¥åˆ†æˆä¸‰ä¸ªç­‰çº§ï¼š é‡ç‚¹ æ­£å¸¸ è§£é‡Šè¯´æ˜ æ•´ä½“é˜…è¯»çš„æ—¶å€™åº”è¯¥é¡ºç€â€œæ­£å¸¸â€çš„å†…å®¹é¡ºåºé˜…è¯»ï¼Œâ€œé‡ç‚¹â€åº”è¯¥èƒ½å¤Ÿè®©è‡ªå·±åœ¨è§†è§‰ä¸Šæ¯”è¾ƒå¥½çš„æ³¨æ„åˆ°ï¼Œâ€œè§£é‡Šè¯´æ˜â€ä½œä¸ºæ¯”è¾ƒä¸é‡è¦çš„èƒ½å®¹ï¼Œé˜…è¯»çš„æ—¶å€™æœ‰æ—¶å€™å¯ä»¥å¿½ç•¥ï¼Œå¦‚æœå¯ä»¥åç°è‰²æ˜¯æœ€å¥½çš„ è‡ªå·±åœ¨è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒåœ¨æ„çš„å°±æ˜¯æ€ä¹ˆè®©è‡ªå·±åœ¨ä¹‹åå›é¡¾çš„æ—¶å€™æ¯”è¾ƒå¥½çš„çœ‹åˆ°é‡ç‚¹ï¼Œé¦–å…ˆå°±æ˜¯ä¸èƒ½å¤ªèŠ±å“¨ï¼Œå…¶æ¬¡é‡ç‚¹éœ€è¦æ ‡è®°å‡ºæ¥ï¼Œåœ¨ Markdown è¯­æ³•ä¸­ï¼Œæˆ‘ç»å¸¸ç”¨æ¥æ ‡è®°é‡ç‚¹çš„æ–¹å¼å°±æ˜¯ç”¨åå•å¼•å·ã€åŠ ç²—çš„æ–¹å¼ï¼Œä½†æ˜¯ç”±äºä¹‹å‰å†™ä½œçš„è½¯ä»¶æ¢è¿‡å‡ æ¬¡ï¼Œä¸åŒçš„è½¯ä»¶ã€ä¸åŒçš„ theme ä¹‹é—´ï¼Œè¿™ä¸¤ç§æ–¹å¼çš„æ˜¾ç¤ºæœ‰æ—¶å€™ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾ï¼Œæœ‰æ—¶å€™åå•å¼•å·çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæœ‰æ—¶å€™åŠ ç²—çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæ‰€ä»¥è¶ç€è¿™æ¬¡æ•´ç†ï¼Œå†æ¯”è¾ƒä¸€ä¸‹è¿™ä¸¤ç§æ–¹å¼ã€‚ Markdown è¯­æ³•ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼è¢«è®¾è®¡æ¥å¼ºè°ƒå†…å®¹ï¼š ç²—ä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo æ–œä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«æ–œä½“æ–‡å­—çš„æ–‡æœ¬ã€‚ åˆ é™¤ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«åˆ é™¤æ–‡å­—çš„æ–‡æœ¬ã€‚ ä¸Šé¢å‡ ç§æ–¹å¼çš„ç»„åˆ åˆ é™¤+ç²—ä½“ï¼šåˆ é™¤çš„ç²—ä½“æ–‡å­— ä½†æ˜¯é™¤äº†ä¸Šé¢å‡ ç§æ–¹å¼ï¼Œæˆ‘åœ¨ä»¥å¾€å†™ä½œçš„è¿‡ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨åˆ°ä»£ç çš„è¯­æ³•ï¼ˆåå•å¼•å· ` çš„è¯­æ³•ï¼‰æ¥æ ‡æ³¨é‡ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·çš„æ•ˆæœã€‚å› ä¸ºåœ¨æœ‰çš„ä¸»é¢˜é£æ ¼ä¸­ï¼Œä»£ç çš„æ˜¾ç¤ºæ•ˆæœå¾ˆä¸é”™ï¼Œèƒ½å¤Ÿå¾ˆç›´è§‚çš„æ³¨æ„åˆ°é‚£æ®µé«˜äº®æ–‡æœ¬ï¼Œç›¸æ¯”ä¸Šé¢è¡¨ç°è‰¯å¥½çš„ç²—ä½“æ–‡æœ¬ï¼Œé«˜äº®æ–‡æœ¬å¯èƒ½è¡¨ç°æ›´å¥½ï¼Œå› ä¸ºåœ¨æ ‡é¢˜æ¯”è¾ƒå¤šã€æ–‡å­—æ®µè½åˆæ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œæ–‡æœ¬çš„ç²—ä½“å¯èƒ½ä¼šéšè—åœ¨æ ‡é¢˜çš„ç²—ä½“ä¸­ï¼Œè‚‰çœ¼å¯»æ‰¾èµ·æ¥ä¹Ÿæ˜¯è´¹åŠ›çš„ã€‚ åˆšå¥½åœ¨ DoIt é£æ ¼ï¼ˆæœ¬åšå®¢çš„é£æ ¼ä¸»é¢˜ï¼‰ä¸­ï¼Œé«˜äº®è¡¨ç°ä¸é”™ï¼Œå°±ç¡®å®šä»£ç è¯­æ³•ç”¨æ¥çªå‡ºé‡ç‚¹æ–‡å­—å§ï¼ˆè™½ç„¶åœ¨ obsidian ä¸­(æˆ‘ä½¿ç”¨çš„ä¸»é¢˜é£æ ¼æ˜¯ Atom)ï¼Œåå•å¼•å·çš„æ˜¾ç¤ºæ•ˆæœå¹¶ä¸å¥½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ä¹‹åé˜…è¯»å¤šåœ¨åšå®¢ä¸Šé˜…è¯»ï¼Œå°±è¿™ä¹ˆå†³å®šå§ï¼‰é¡ºä¾¿çœ‹ä¸€ä¸‹åå•å¼•å·+åŠ ç²—çš„æ•ˆæœï¼šåˆ é™¤çš„é‡ç‚¹æ–‡å­— æ€»ç»“ï¼šæœ€éœ€è¦æ³¨æ„çš„å†…å®¹ï¼Œå°±ç”¨åå•å¼•å·æ¥æ¦‚æ‹¬å§ï¼ å…³äºæ­£å¸¸æ–‡å­—çš„åˆ†ç±»æ˜¾ç¤ºåœ¨ä¸€æ®µæ­£å¸¸çš„æ–‡æœ¬ä¸­ï¼Œå¯èƒ½æ²¡æœ‰é‡ç‚¹ï¼Œä½†æ˜¯å¯èƒ½ä¼šæœ‰ä¸€äº›ä¸åŒçš„ç±»åˆ«ï¼Œæ¯”å¦‚å‚æ‚ç€ä¸€ä¸ªæ–¹æ³•åã€æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°ã€å‘½ä»¤ç­‰ï¼Œä¹‹å‰ç”¨æ¥æ ‡æ³¨è¿™äº›å¯èƒ½ä¼šç”¨ä¸Šé¢åå•å¼•å·çš„æ–¹å¼ï¼Œä½†æ˜¯åœ¨ hugo ä¸­å¤ªæ˜¾çœ¼äº†ï¼Œä¸Šé¢å·²ç»å†³å®šç”¨æ¥æ˜¾ç¤ºé‡ç‚¹æ–‡å­—äº†ï¼Œå°±å¾—è€ƒè™‘åˆ«çš„æ–¹å¼äº†ã€‚ è¿™ç±»æ–‡å­—åº”è¯¥è·Ÿæ­£å¸¸æ–‡å­—æœ‰ç›¸åŒçš„æ˜¾çœ¼ç¨‹åº¦ï¼Œæ„Ÿè§‰æ¯”è¾ƒç†æƒ³çš„æ˜¾ç¤ºæ–¹å¼åº”è¯¥æ˜¯ç±»ä¼¼è¿™æ ·çš„ï¼Œå°±æ˜¯ç»™æ–‡å­—åŠ ä¸€ä¸ªå•çº¯çš„ã€ä¸æ˜¾çœ¼çš„èƒŒæ™¯è‰²ï¼Œä½†æ˜¯ Markdown æœ¬èº«æ²¡æœ‰è¿™æ ·çš„è¯­æ³•ï¼Œä¸Šé¢æ•ˆæœçš„å®ç°æ–¹å¼æ˜¯ï¼š æ˜¯ç±»ä¼¼è¿™æ ·çš„ æ˜¯ä½¿ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼Œä½†æ˜¯æ„Ÿè§‰è¿™æ ·çš„ä¹¦å†™æ–¹å¼å·²ç»æœ‰ç‚¹è¿èƒŒ Markdown è¯ç”Ÿçš„åˆè¡·äº†ï¼Œåˆè®©å†™ä½œå˜å¾—å¤æ‚èµ·æ¥ï¼Œæœ‰ç‚¹å¾—ä¸å¿å¤±ï¼Œæ„Ÿè§‰ç›®å‰å¯¹äºè¿™ä¸€ç±»çš„æ–‡å­—æ²¡æœ‰æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆæ¥è§£å†³ï¼Œå°±å…ˆæš‚å®šå§ã€‚ æ€»ç»“ï¼šæš‚å®š ç¬¬ä¸‰ç§ç­‰çº§çš„è§£é‡Šæ€§æ–‡å­—è¿™ç§ç­‰çº§çš„æ–‡å­—æ®µè½ï¼Œæ„Ÿè§‰æœ€å¥½çš„åº”è¯¥æ˜¯ç°è‰²çš„å­—ä½“ï¼Œç±»ä¼¼è¿™æ ·ï¼š è¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚ ä¸Šé¢è¿™æ ·çš„æ•ˆæœæ˜¯æˆ‘æœŸå¾…çš„æ•ˆæœï¼Œè¿™ç§ä¸å¤ªé‡è¦çš„æ–‡å­—ï¼Œå¯èƒ½å°±æ˜¯å¤‡æ³¨ä¸€ä¸‹æ€•ä¹‹åå¿˜è®°ï¼Œå¯èƒ½ç¬¬äºŒæ¬¡ç¬¬ä¸‰æ¬¡æˆ‘å†æ¬¡é˜…è¯»çš„æ—¶å€™å¦‚æœæˆ‘è¿˜è®°å¾—æˆ‘å°±ä¸ä¼šå†çœ‹è¿™æ®µæ–‡å­—äº†ï¼Œè¿™æ ·çš„é¢œè‰²å¯ä»¥è®©æˆ‘åœ¨é¡ºåºé˜…è¯»ä¸‹æ¥çš„æ—¶å€™å¾ˆå¥½çš„å¿½ç•¥æ‰ï¼Œçœå»å¤§è„‘ã€çœ¼ç›å»ç”„åˆ«é‡è¦æ€§çš„æ—¶é—´ï¼Œè®©é˜…è¯»å˜å¾—æ›´æµç•…ä¸€äº›ï¼Œä½†æ˜¯è·Ÿä¸Šé¢åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºä¸€æ ·ï¼Œè¿™ä¹Ÿæ˜¯ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼š è¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚ æ„Ÿè§‰è¿˜æ˜¯ä¸å¤ªå¥½ï¼Œä½†æ˜¯æ„Ÿè§‰ä¼šæ¯”ä¸Šé¢çš„åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºæ›´èƒ½æ¥å—ä¸€äº›ï¼Œå› ä¸ºåƒè¿™ç§è§£é‡Šæ€§çš„æ–‡å­—é€šå¸¸æ˜¯ï¼š è¿åœ¨ä¸€èµ·çš„ï¼Œä¸€ç‰‡ ä¸é‚£ä¹ˆç»å¸¸å‡ºç° æ‰€ä»¥ç›¸æ¯”å¸¦æ¥çš„æ”¶ç›Šè·Ÿæ•ˆæœï¼Œè¿˜æ˜¯æ¯”è¾ƒèƒ½æ¥å—çš„ã€‚ï¼ˆåœ¨å¤åˆ¶æ–‡æœ¬çš„åœºæ™¯ä¸‹ï¼Œä¹Ÿä¼šå¤šå‡ºæ¥ä¸€æ®µ html ä»£ç ï¼Œä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ç¼ºç‚¹ï¼Œè™½ç„¶è¿™æ ·çš„åœºæ™¯æ›´å°‘ï¼‰ æ€»ç»“ï¼šæ‰€ä»¥è§£é‡Šæ€§çš„æ–‡å­—å°±è¿™ä¹ˆæ¥æ˜¾ç¤ºå§ï¼ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:1:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#å…³äºé‡ç‚¹æ–‡å­—å¦‚ä½•çªå‡ºæ˜¾ç¤º"},{"categories":["Tools-Method"],"content":" æ–‡æœ¬æ˜¾ç¤º å…³äºé‡ç‚¹æ–‡å­—å¦‚ä½•çªå‡ºæ˜¾ç¤ºé¦–å…ˆæŠŠå†…å®¹åˆ†ä¸€ä¸‹ç­‰çº§ï¼Œè¿™é‡Œçš„â€œå†…å®¹â€èŒƒå›´åº”è¯¥æ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¸€æ®µæ–‡å­—çš„èŒƒå›´ä¹‹å†…çš„ï¼Œè€Œä¸è€ƒè™‘æ•´ç¯‡æ–‡ç« ï¼Œå› ä¸ºæ•´ç¯‡æ–‡ç« çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œä½¿ç”¨ # æ¥åšç»“æ„çš„åˆ‡åˆ†å·²ç»å¾ˆæ¸…æ™°äº†ã€‚æŠŠå†…å®¹çš„åˆ†çº§å°±ç²—ç•¥åˆ†æˆä¸‰ä¸ªç­‰çº§ï¼š é‡ç‚¹ æ­£å¸¸ è§£é‡Šè¯´æ˜ æ•´ä½“é˜…è¯»çš„æ—¶å€™åº”è¯¥é¡ºç€â€œæ­£å¸¸â€çš„å†…å®¹é¡ºåºé˜…è¯»ï¼Œâ€œé‡ç‚¹â€åº”è¯¥èƒ½å¤Ÿè®©è‡ªå·±åœ¨è§†è§‰ä¸Šæ¯”è¾ƒå¥½çš„æ³¨æ„åˆ°ï¼Œâ€œè§£é‡Šè¯´æ˜â€ä½œä¸ºæ¯”è¾ƒä¸é‡è¦çš„èƒ½å®¹ï¼Œé˜…è¯»çš„æ—¶å€™æœ‰æ—¶å€™å¯ä»¥å¿½ç•¥ï¼Œå¦‚æœå¯ä»¥åç°è‰²æ˜¯æœ€å¥½çš„ è‡ªå·±åœ¨è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒåœ¨æ„çš„å°±æ˜¯æ€ä¹ˆè®©è‡ªå·±åœ¨ä¹‹åå›é¡¾çš„æ—¶å€™æ¯”è¾ƒå¥½çš„çœ‹åˆ°é‡ç‚¹ï¼Œé¦–å…ˆå°±æ˜¯ä¸èƒ½å¤ªèŠ±å“¨ï¼Œå…¶æ¬¡é‡ç‚¹éœ€è¦æ ‡è®°å‡ºæ¥ï¼Œåœ¨ Markdown è¯­æ³•ä¸­ï¼Œæˆ‘ç»å¸¸ç”¨æ¥æ ‡è®°é‡ç‚¹çš„æ–¹å¼å°±æ˜¯ç”¨åå•å¼•å·ã€åŠ ç²—çš„æ–¹å¼ï¼Œä½†æ˜¯ç”±äºä¹‹å‰å†™ä½œçš„è½¯ä»¶æ¢è¿‡å‡ æ¬¡ï¼Œä¸åŒçš„è½¯ä»¶ã€ä¸åŒçš„ theme ä¹‹é—´ï¼Œè¿™ä¸¤ç§æ–¹å¼çš„æ˜¾ç¤ºæœ‰æ—¶å€™ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾ï¼Œæœ‰æ—¶å€™åå•å¼•å·çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæœ‰æ—¶å€™åŠ ç²—çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæ‰€ä»¥è¶ç€è¿™æ¬¡æ•´ç†ï¼Œå†æ¯”è¾ƒä¸€ä¸‹è¿™ä¸¤ç§æ–¹å¼ã€‚ Markdown è¯­æ³•ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼è¢«è®¾è®¡æ¥å¼ºè°ƒå†…å®¹ï¼š ç²—ä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo æ–œä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«æ–œä½“æ–‡å­—çš„æ–‡æœ¬ã€‚ åˆ é™¤ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«åˆ é™¤æ–‡å­—çš„æ–‡æœ¬ã€‚ ä¸Šé¢å‡ ç§æ–¹å¼çš„ç»„åˆ åˆ é™¤+ç²—ä½“ï¼šåˆ é™¤çš„ç²—ä½“æ–‡å­— ä½†æ˜¯é™¤äº†ä¸Šé¢å‡ ç§æ–¹å¼ï¼Œæˆ‘åœ¨ä»¥å¾€å†™ä½œçš„è¿‡ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨åˆ°ä»£ç çš„è¯­æ³•ï¼ˆåå•å¼•å· ` çš„è¯­æ³•ï¼‰æ¥æ ‡æ³¨é‡ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·çš„æ•ˆæœã€‚å› ä¸ºåœ¨æœ‰çš„ä¸»é¢˜é£æ ¼ä¸­ï¼Œä»£ç çš„æ˜¾ç¤ºæ•ˆæœå¾ˆä¸é”™ï¼Œèƒ½å¤Ÿå¾ˆç›´è§‚çš„æ³¨æ„åˆ°é‚£æ®µé«˜äº®æ–‡æœ¬ï¼Œç›¸æ¯”ä¸Šé¢è¡¨ç°è‰¯å¥½çš„ç²—ä½“æ–‡æœ¬ï¼Œé«˜äº®æ–‡æœ¬å¯èƒ½è¡¨ç°æ›´å¥½ï¼Œå› ä¸ºåœ¨æ ‡é¢˜æ¯”è¾ƒå¤šã€æ–‡å­—æ®µè½åˆæ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œæ–‡æœ¬çš„ç²—ä½“å¯èƒ½ä¼šéšè—åœ¨æ ‡é¢˜çš„ç²—ä½“ä¸­ï¼Œè‚‰çœ¼å¯»æ‰¾èµ·æ¥ä¹Ÿæ˜¯è´¹åŠ›çš„ã€‚ åˆšå¥½åœ¨ DoIt é£æ ¼ï¼ˆæœ¬åšå®¢çš„é£æ ¼ä¸»é¢˜ï¼‰ä¸­ï¼Œé«˜äº®è¡¨ç°ä¸é”™ï¼Œå°±ç¡®å®šä»£ç è¯­æ³•ç”¨æ¥çªå‡ºé‡ç‚¹æ–‡å­—å§ï¼ˆè™½ç„¶åœ¨ obsidian ä¸­(æˆ‘ä½¿ç”¨çš„ä¸»é¢˜é£æ ¼æ˜¯ Atom)ï¼Œåå•å¼•å·çš„æ˜¾ç¤ºæ•ˆæœå¹¶ä¸å¥½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ä¹‹åé˜…è¯»å¤šåœ¨åšå®¢ä¸Šé˜…è¯»ï¼Œå°±è¿™ä¹ˆå†³å®šå§ï¼‰é¡ºä¾¿çœ‹ä¸€ä¸‹åå•å¼•å·+åŠ ç²—çš„æ•ˆæœï¼šåˆ é™¤çš„é‡ç‚¹æ–‡å­— æ€»ç»“ï¼šæœ€éœ€è¦æ³¨æ„çš„å†…å®¹ï¼Œå°±ç”¨åå•å¼•å·æ¥æ¦‚æ‹¬å§ï¼ å…³äºæ­£å¸¸æ–‡å­—çš„åˆ†ç±»æ˜¾ç¤ºåœ¨ä¸€æ®µæ­£å¸¸çš„æ–‡æœ¬ä¸­ï¼Œå¯èƒ½æ²¡æœ‰é‡ç‚¹ï¼Œä½†æ˜¯å¯èƒ½ä¼šæœ‰ä¸€äº›ä¸åŒçš„ç±»åˆ«ï¼Œæ¯”å¦‚å‚æ‚ç€ä¸€ä¸ªæ–¹æ³•åã€æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°ã€å‘½ä»¤ç­‰ï¼Œä¹‹å‰ç”¨æ¥æ ‡æ³¨è¿™äº›å¯èƒ½ä¼šç”¨ä¸Šé¢åå•å¼•å·çš„æ–¹å¼ï¼Œä½†æ˜¯åœ¨ hugo ä¸­å¤ªæ˜¾çœ¼äº†ï¼Œä¸Šé¢å·²ç»å†³å®šç”¨æ¥æ˜¾ç¤ºé‡ç‚¹æ–‡å­—äº†ï¼Œå°±å¾—è€ƒè™‘åˆ«çš„æ–¹å¼äº†ã€‚ è¿™ç±»æ–‡å­—åº”è¯¥è·Ÿæ­£å¸¸æ–‡å­—æœ‰ç›¸åŒçš„æ˜¾çœ¼ç¨‹åº¦ï¼Œæ„Ÿè§‰æ¯”è¾ƒç†æƒ³çš„æ˜¾ç¤ºæ–¹å¼åº”è¯¥æ˜¯ç±»ä¼¼è¿™æ ·çš„ï¼Œå°±æ˜¯ç»™æ–‡å­—åŠ ä¸€ä¸ªå•çº¯çš„ã€ä¸æ˜¾çœ¼çš„èƒŒæ™¯è‰²ï¼Œä½†æ˜¯ Markdown æœ¬èº«æ²¡æœ‰è¿™æ ·çš„è¯­æ³•ï¼Œä¸Šé¢æ•ˆæœçš„å®ç°æ–¹å¼æ˜¯ï¼š æ˜¯ç±»ä¼¼è¿™æ ·çš„ æ˜¯ä½¿ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼Œä½†æ˜¯æ„Ÿè§‰è¿™æ ·çš„ä¹¦å†™æ–¹å¼å·²ç»æœ‰ç‚¹è¿èƒŒ Markdown è¯ç”Ÿçš„åˆè¡·äº†ï¼Œåˆè®©å†™ä½œå˜å¾—å¤æ‚èµ·æ¥ï¼Œæœ‰ç‚¹å¾—ä¸å¿å¤±ï¼Œæ„Ÿè§‰ç›®å‰å¯¹äºè¿™ä¸€ç±»çš„æ–‡å­—æ²¡æœ‰æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆæ¥è§£å†³ï¼Œå°±å…ˆæš‚å®šå§ã€‚ æ€»ç»“ï¼šæš‚å®š ç¬¬ä¸‰ç§ç­‰çº§çš„è§£é‡Šæ€§æ–‡å­—è¿™ç§ç­‰çº§çš„æ–‡å­—æ®µè½ï¼Œæ„Ÿè§‰æœ€å¥½çš„åº”è¯¥æ˜¯ç°è‰²çš„å­—ä½“ï¼Œç±»ä¼¼è¿™æ ·ï¼š è¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚ ä¸Šé¢è¿™æ ·çš„æ•ˆæœæ˜¯æˆ‘æœŸå¾…çš„æ•ˆæœï¼Œè¿™ç§ä¸å¤ªé‡è¦çš„æ–‡å­—ï¼Œå¯èƒ½å°±æ˜¯å¤‡æ³¨ä¸€ä¸‹æ€•ä¹‹åå¿˜è®°ï¼Œå¯èƒ½ç¬¬äºŒæ¬¡ç¬¬ä¸‰æ¬¡æˆ‘å†æ¬¡é˜…è¯»çš„æ—¶å€™å¦‚æœæˆ‘è¿˜è®°å¾—æˆ‘å°±ä¸ä¼šå†çœ‹è¿™æ®µæ–‡å­—äº†ï¼Œè¿™æ ·çš„é¢œè‰²å¯ä»¥è®©æˆ‘åœ¨é¡ºåºé˜…è¯»ä¸‹æ¥çš„æ—¶å€™å¾ˆå¥½çš„å¿½ç•¥æ‰ï¼Œçœå»å¤§è„‘ã€çœ¼ç›å»ç”„åˆ«é‡è¦æ€§çš„æ—¶é—´ï¼Œè®©é˜…è¯»å˜å¾—æ›´æµç•…ä¸€äº›ï¼Œä½†æ˜¯è·Ÿä¸Šé¢åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºä¸€æ ·ï¼Œè¿™ä¹Ÿæ˜¯ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼š è¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚ æ„Ÿè§‰è¿˜æ˜¯ä¸å¤ªå¥½ï¼Œä½†æ˜¯æ„Ÿè§‰ä¼šæ¯”ä¸Šé¢çš„åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºæ›´èƒ½æ¥å—ä¸€äº›ï¼Œå› ä¸ºåƒè¿™ç§è§£é‡Šæ€§çš„æ–‡å­—é€šå¸¸æ˜¯ï¼š è¿åœ¨ä¸€èµ·çš„ï¼Œä¸€ç‰‡ ä¸é‚£ä¹ˆç»å¸¸å‡ºç° æ‰€ä»¥ç›¸æ¯”å¸¦æ¥çš„æ”¶ç›Šè·Ÿæ•ˆæœï¼Œè¿˜æ˜¯æ¯”è¾ƒèƒ½æ¥å—çš„ã€‚ï¼ˆåœ¨å¤åˆ¶æ–‡æœ¬çš„åœºæ™¯ä¸‹ï¼Œä¹Ÿä¼šå¤šå‡ºæ¥ä¸€æ®µ html ä»£ç ï¼Œä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ç¼ºç‚¹ï¼Œè™½ç„¶è¿™æ ·çš„åœºæ™¯æ›´å°‘ï¼‰ æ€»ç»“ï¼šæ‰€ä»¥è§£é‡Šæ€§çš„æ–‡å­—å°±è¿™ä¹ˆæ¥æ˜¾ç¤ºå§ï¼ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:1:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#å…³äºæ­£å¸¸æ–‡å­—çš„åˆ†ç±»æ˜¾ç¤º"},{"categories":["Tools-Method"],"content":" æ–‡æœ¬æ˜¾ç¤º å…³äºé‡ç‚¹æ–‡å­—å¦‚ä½•çªå‡ºæ˜¾ç¤ºé¦–å…ˆæŠŠå†…å®¹åˆ†ä¸€ä¸‹ç­‰çº§ï¼Œè¿™é‡Œçš„â€œå†…å®¹â€èŒƒå›´åº”è¯¥æ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¸€æ®µæ–‡å­—çš„èŒƒå›´ä¹‹å†…çš„ï¼Œè€Œä¸è€ƒè™‘æ•´ç¯‡æ–‡ç« ï¼Œå› ä¸ºæ•´ç¯‡æ–‡ç« çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œä½¿ç”¨ # æ¥åšç»“æ„çš„åˆ‡åˆ†å·²ç»å¾ˆæ¸…æ™°äº†ã€‚æŠŠå†…å®¹çš„åˆ†çº§å°±ç²—ç•¥åˆ†æˆä¸‰ä¸ªç­‰çº§ï¼š é‡ç‚¹ æ­£å¸¸ è§£é‡Šè¯´æ˜ æ•´ä½“é˜…è¯»çš„æ—¶å€™åº”è¯¥é¡ºç€â€œæ­£å¸¸â€çš„å†…å®¹é¡ºåºé˜…è¯»ï¼Œâ€œé‡ç‚¹â€åº”è¯¥èƒ½å¤Ÿè®©è‡ªå·±åœ¨è§†è§‰ä¸Šæ¯”è¾ƒå¥½çš„æ³¨æ„åˆ°ï¼Œâ€œè§£é‡Šè¯´æ˜â€ä½œä¸ºæ¯”è¾ƒä¸é‡è¦çš„èƒ½å®¹ï¼Œé˜…è¯»çš„æ—¶å€™æœ‰æ—¶å€™å¯ä»¥å¿½ç•¥ï¼Œå¦‚æœå¯ä»¥åç°è‰²æ˜¯æœ€å¥½çš„ è‡ªå·±åœ¨è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒåœ¨æ„çš„å°±æ˜¯æ€ä¹ˆè®©è‡ªå·±åœ¨ä¹‹åå›é¡¾çš„æ—¶å€™æ¯”è¾ƒå¥½çš„çœ‹åˆ°é‡ç‚¹ï¼Œé¦–å…ˆå°±æ˜¯ä¸èƒ½å¤ªèŠ±å“¨ï¼Œå…¶æ¬¡é‡ç‚¹éœ€è¦æ ‡è®°å‡ºæ¥ï¼Œåœ¨ Markdown è¯­æ³•ä¸­ï¼Œæˆ‘ç»å¸¸ç”¨æ¥æ ‡è®°é‡ç‚¹çš„æ–¹å¼å°±æ˜¯ç”¨åå•å¼•å·ã€åŠ ç²—çš„æ–¹å¼ï¼Œä½†æ˜¯ç”±äºä¹‹å‰å†™ä½œçš„è½¯ä»¶æ¢è¿‡å‡ æ¬¡ï¼Œä¸åŒçš„è½¯ä»¶ã€ä¸åŒçš„ theme ä¹‹é—´ï¼Œè¿™ä¸¤ç§æ–¹å¼çš„æ˜¾ç¤ºæœ‰æ—¶å€™ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾ï¼Œæœ‰æ—¶å€™åå•å¼•å·çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæœ‰æ—¶å€™åŠ ç²—çœ‹ä¸å¤ªå‡ºæ¥ï¼Œæ‰€ä»¥è¶ç€è¿™æ¬¡æ•´ç†ï¼Œå†æ¯”è¾ƒä¸€ä¸‹è¿™ä¸¤ç§æ–¹å¼ã€‚ Markdown è¯­æ³•ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼è¢«è®¾è®¡æ¥å¼ºè°ƒå†…å®¹ï¼š ç²—ä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo æ–œä½“ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«æ–œä½“æ–‡å­—çš„æ–‡æœ¬ã€‚ åˆ é™¤ x æ¸²æŸ“æƒ…å†µ obsidian hugo è§ä¸‹æ–¹ è¿™æ˜¯ä¸€æ®µåŒ…å«åˆ é™¤æ–‡å­—çš„æ–‡æœ¬ã€‚ ä¸Šé¢å‡ ç§æ–¹å¼çš„ç»„åˆ åˆ é™¤+ç²—ä½“ï¼šåˆ é™¤çš„ç²—ä½“æ–‡å­— ä½†æ˜¯é™¤äº†ä¸Šé¢å‡ ç§æ–¹å¼ï¼Œæˆ‘åœ¨ä»¥å¾€å†™ä½œçš„è¿‡ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨åˆ°ä»£ç çš„è¯­æ³•ï¼ˆåå•å¼•å· ` çš„è¯­æ³•ï¼‰æ¥æ ‡æ³¨é‡ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·çš„æ•ˆæœã€‚å› ä¸ºåœ¨æœ‰çš„ä¸»é¢˜é£æ ¼ä¸­ï¼Œä»£ç çš„æ˜¾ç¤ºæ•ˆæœå¾ˆä¸é”™ï¼Œèƒ½å¤Ÿå¾ˆç›´è§‚çš„æ³¨æ„åˆ°é‚£æ®µé«˜äº®æ–‡æœ¬ï¼Œç›¸æ¯”ä¸Šé¢è¡¨ç°è‰¯å¥½çš„ç²—ä½“æ–‡æœ¬ï¼Œé«˜äº®æ–‡æœ¬å¯èƒ½è¡¨ç°æ›´å¥½ï¼Œå› ä¸ºåœ¨æ ‡é¢˜æ¯”è¾ƒå¤šã€æ–‡å­—æ®µè½åˆæ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œæ–‡æœ¬çš„ç²—ä½“å¯èƒ½ä¼šéšè—åœ¨æ ‡é¢˜çš„ç²—ä½“ä¸­ï¼Œè‚‰çœ¼å¯»æ‰¾èµ·æ¥ä¹Ÿæ˜¯è´¹åŠ›çš„ã€‚ åˆšå¥½åœ¨ DoIt é£æ ¼ï¼ˆæœ¬åšå®¢çš„é£æ ¼ä¸»é¢˜ï¼‰ä¸­ï¼Œé«˜äº®è¡¨ç°ä¸é”™ï¼Œå°±ç¡®å®šä»£ç è¯­æ³•ç”¨æ¥çªå‡ºé‡ç‚¹æ–‡å­—å§ï¼ˆè™½ç„¶åœ¨ obsidian ä¸­(æˆ‘ä½¿ç”¨çš„ä¸»é¢˜é£æ ¼æ˜¯ Atom)ï¼Œåå•å¼•å·çš„æ˜¾ç¤ºæ•ˆæœå¹¶ä¸å¥½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ä¹‹åé˜…è¯»å¤šåœ¨åšå®¢ä¸Šé˜…è¯»ï¼Œå°±è¿™ä¹ˆå†³å®šå§ï¼‰é¡ºä¾¿çœ‹ä¸€ä¸‹åå•å¼•å·+åŠ ç²—çš„æ•ˆæœï¼šåˆ é™¤çš„é‡ç‚¹æ–‡å­— æ€»ç»“ï¼šæœ€éœ€è¦æ³¨æ„çš„å†…å®¹ï¼Œå°±ç”¨åå•å¼•å·æ¥æ¦‚æ‹¬å§ï¼ å…³äºæ­£å¸¸æ–‡å­—çš„åˆ†ç±»æ˜¾ç¤ºåœ¨ä¸€æ®µæ­£å¸¸çš„æ–‡æœ¬ä¸­ï¼Œå¯èƒ½æ²¡æœ‰é‡ç‚¹ï¼Œä½†æ˜¯å¯èƒ½ä¼šæœ‰ä¸€äº›ä¸åŒçš„ç±»åˆ«ï¼Œæ¯”å¦‚å‚æ‚ç€ä¸€ä¸ªæ–¹æ³•åã€æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°ã€å‘½ä»¤ç­‰ï¼Œä¹‹å‰ç”¨æ¥æ ‡æ³¨è¿™äº›å¯èƒ½ä¼šç”¨ä¸Šé¢åå•å¼•å·çš„æ–¹å¼ï¼Œä½†æ˜¯åœ¨ hugo ä¸­å¤ªæ˜¾çœ¼äº†ï¼Œä¸Šé¢å·²ç»å†³å®šç”¨æ¥æ˜¾ç¤ºé‡ç‚¹æ–‡å­—äº†ï¼Œå°±å¾—è€ƒè™‘åˆ«çš„æ–¹å¼äº†ã€‚ è¿™ç±»æ–‡å­—åº”è¯¥è·Ÿæ­£å¸¸æ–‡å­—æœ‰ç›¸åŒçš„æ˜¾çœ¼ç¨‹åº¦ï¼Œæ„Ÿè§‰æ¯”è¾ƒç†æƒ³çš„æ˜¾ç¤ºæ–¹å¼åº”è¯¥æ˜¯ç±»ä¼¼è¿™æ ·çš„ï¼Œå°±æ˜¯ç»™æ–‡å­—åŠ ä¸€ä¸ªå•çº¯çš„ã€ä¸æ˜¾çœ¼çš„èƒŒæ™¯è‰²ï¼Œä½†æ˜¯ Markdown æœ¬èº«æ²¡æœ‰è¿™æ ·çš„è¯­æ³•ï¼Œä¸Šé¢æ•ˆæœçš„å®ç°æ–¹å¼æ˜¯ï¼š æ˜¯ç±»ä¼¼è¿™æ ·çš„ æ˜¯ä½¿ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼Œä½†æ˜¯æ„Ÿè§‰è¿™æ ·çš„ä¹¦å†™æ–¹å¼å·²ç»æœ‰ç‚¹è¿èƒŒ Markdown è¯ç”Ÿçš„åˆè¡·äº†ï¼Œåˆè®©å†™ä½œå˜å¾—å¤æ‚èµ·æ¥ï¼Œæœ‰ç‚¹å¾—ä¸å¿å¤±ï¼Œæ„Ÿè§‰ç›®å‰å¯¹äºè¿™ä¸€ç±»çš„æ–‡å­—æ²¡æœ‰æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆæ¥è§£å†³ï¼Œå°±å…ˆæš‚å®šå§ã€‚ æ€»ç»“ï¼šæš‚å®š ç¬¬ä¸‰ç§ç­‰çº§çš„è§£é‡Šæ€§æ–‡å­—è¿™ç§ç­‰çº§çš„æ–‡å­—æ®µè½ï¼Œæ„Ÿè§‰æœ€å¥½çš„åº”è¯¥æ˜¯ç°è‰²çš„å­—ä½“ï¼Œç±»ä¼¼è¿™æ ·ï¼š è¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚ ä¸Šé¢è¿™æ ·çš„æ•ˆæœæ˜¯æˆ‘æœŸå¾…çš„æ•ˆæœï¼Œè¿™ç§ä¸å¤ªé‡è¦çš„æ–‡å­—ï¼Œå¯èƒ½å°±æ˜¯å¤‡æ³¨ä¸€ä¸‹æ€•ä¹‹åå¿˜è®°ï¼Œå¯èƒ½ç¬¬äºŒæ¬¡ç¬¬ä¸‰æ¬¡æˆ‘å†æ¬¡é˜…è¯»çš„æ—¶å€™å¦‚æœæˆ‘è¿˜è®°å¾—æˆ‘å°±ä¸ä¼šå†çœ‹è¿™æ®µæ–‡å­—äº†ï¼Œè¿™æ ·çš„é¢œè‰²å¯ä»¥è®©æˆ‘åœ¨é¡ºåºé˜…è¯»ä¸‹æ¥çš„æ—¶å€™å¾ˆå¥½çš„å¿½ç•¥æ‰ï¼Œçœå»å¤§è„‘ã€çœ¼ç›å»ç”„åˆ«é‡è¦æ€§çš„æ—¶é—´ï¼Œè®©é˜…è¯»å˜å¾—æ›´æµç•…ä¸€äº›ï¼Œä½†æ˜¯è·Ÿä¸Šé¢åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºä¸€æ ·ï¼Œè¿™ä¹Ÿæ˜¯ç”¨ html çš„æ–¹å¼æ¥å®ç°çš„ï¼š è¿™æ®µæ–‡å­—è§£é‡Šäº†ä¸Šé¢è¿™æ®µæ–‡å­—ï¼Œå¼•å‡ºäº†ä¸‹é¢è¿™æ®µæ–‡å­—ï¼Œè¿™æ˜¯ä¸€æ®µå‘ç°çš„æ–‡å­—ã€‚ æ„Ÿè§‰è¿˜æ˜¯ä¸å¤ªå¥½ï¼Œä½†æ˜¯æ„Ÿè§‰ä¼šæ¯”ä¸Šé¢çš„åˆ†ç±»æ–‡å­—çš„æ˜¾ç¤ºæ›´èƒ½æ¥å—ä¸€äº›ï¼Œå› ä¸ºåƒè¿™ç§è§£é‡Šæ€§çš„æ–‡å­—é€šå¸¸æ˜¯ï¼š è¿åœ¨ä¸€èµ·çš„ï¼Œä¸€ç‰‡ ä¸é‚£ä¹ˆç»å¸¸å‡ºç° æ‰€ä»¥ç›¸æ¯”å¸¦æ¥çš„æ”¶ç›Šè·Ÿæ•ˆæœï¼Œè¿˜æ˜¯æ¯”è¾ƒèƒ½æ¥å—çš„ã€‚ï¼ˆåœ¨å¤åˆ¶æ–‡æœ¬çš„åœºæ™¯ä¸‹ï¼Œä¹Ÿä¼šå¤šå‡ºæ¥ä¸€æ®µ html ä»£ç ï¼Œä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ç¼ºç‚¹ï¼Œè™½ç„¶è¿™æ ·çš„åœºæ™¯æ›´å°‘ï¼‰ æ€»ç»“ï¼šæ‰€ä»¥è§£é‡Šæ€§çš„æ–‡å­—å°±è¿™ä¹ˆæ¥æ˜¾ç¤ºå§ï¼ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:1:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#ç¬¬ä¸‰ç§ç­‰çº§çš„è§£é‡Šæ€§æ–‡å­—"},{"categories":["Tools-Method"],"content":" ä¸­è‹±æ–‡åœ¨æ–‡æœ¬ä¸­é‡åˆ°ä¸­è‹±æ–‡æ··æ‚çš„æƒ…å†µï¼Œæˆ‘éƒ½ä¼šåœ¨è‹±æ–‡çš„ä¸¤è¾¹å„ç•™ä¸€ä¸ªç©ºæ ¼ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ—¶å€™å…»æˆçš„ä¹ æƒ¯ï¼Œä¹Ÿä¸æ¸…æ¥šåˆ°åº•å¸¦æ¥äº†ä»€ä¹ˆå¥½å¤„ï¼Œå°±æ˜¯å‘è§‰äº†æœ‰è¿™ä¸ª habbitï¼Œè¿˜è›® good å§ã€‚ æˆ‘è§‰å¾—ä½ è¯´å¾—å¯¹ã€‚ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:1:2","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#ä¸­è‹±æ–‡"},{"categories":["Tools-Method"],"content":" é’ˆå¯¹ hugo ä¸»é¢˜çš„ç‰¹æ€§æ¥å°è¯•å…»æˆä¸€äº›æ–°çš„ä¹ æƒ¯å§ä¹Ÿä¸è¦ä½¿ç”¨è¿‡å¤šï¼Œè¿˜æ˜¯è®© md æ–‡æ¡£å†…å®¹å°½é‡ä¿æŒåŸç”Ÿçš„è¯­è¨€ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#é’ˆå¯¹-hugo-ä¸»é¢˜çš„ç‰¹æ€§æ¥å°è¯•å…»æˆä¸€äº›æ–°çš„ä¹ æƒ¯å§"},{"categories":["Tools-Method"],"content":" è®©æ–‡æœ¬æœ‰è¶£ä¸€äº› emojiä¸€äº›å¯èƒ½ç”¨å¾—åˆ°çš„ emoji ï¼š ğŸ‘ ğŸ‘ˆ ğŸ‘‰ ğŸ‘ âœ ğŸ¼ ğŸµ ğŸ¶ ğŸ§ ğŸ¸ ğŸ“½ ğŸ¬ğŸ“· ğŸ“¸ ğŸ“” ğŸ“– â“ â— âŒ âœ” âœ… æ›´å¤šè§ï¼šwebfx emoji å­—ç¬¦æ³¨éŸ³/è¯´æ˜æ•ˆæœï¼šSASuffix Array è¯­æ³•ï¼š [ç®€å†™æˆ–å…¶ä»–] ^ (è¯´æ˜æ€§æ–‡å­—) åœ¨ä»£ç æ®µå†…ä¹Ÿèƒ½æ˜¾ç¤ºï¼ˆä½†è¿™ä¹ˆåšä¸å¥½ï¼‰ï¼š SASuffix Array åˆ†æ•°æ•ˆæœï¼š60/100 è¯­æ³•ï¼š [] / [] æ‰“å­—æœº ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#è®©æ–‡æœ¬æœ‰è¶£ä¸€äº›"},{"categories":["Tools-Method"],"content":" è®©æ–‡æœ¬æœ‰è¶£ä¸€äº› emojiä¸€äº›å¯èƒ½ç”¨å¾—åˆ°çš„ emoji ï¼š ğŸ‘ ğŸ‘ˆ ğŸ‘‰ ğŸ‘ âœ ğŸ¼ ğŸµ ğŸ¶ ğŸ§ ğŸ¸ ğŸ“½ ğŸ¬ğŸ“· ğŸ“¸ ğŸ“” ğŸ“– â“ â— âŒ âœ” âœ… æ›´å¤šè§ï¼šwebfx emoji å­—ç¬¦æ³¨éŸ³/è¯´æ˜æ•ˆæœï¼šSASuffix Array è¯­æ³•ï¼š [ç®€å†™æˆ–å…¶ä»–] ^ (è¯´æ˜æ€§æ–‡å­—) åœ¨ä»£ç æ®µå†…ä¹Ÿèƒ½æ˜¾ç¤ºï¼ˆä½†è¿™ä¹ˆåšä¸å¥½ï¼‰ï¼š SASuffix Array åˆ†æ•°æ•ˆæœï¼š60/100 è¯­æ³•ï¼š [] / [] æ‰“å­—æœº ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#emoji"},{"categories":["Tools-Method"],"content":" è®©æ–‡æœ¬æœ‰è¶£ä¸€äº› emojiä¸€äº›å¯èƒ½ç”¨å¾—åˆ°çš„ emoji ï¼š ğŸ‘ ğŸ‘ˆ ğŸ‘‰ ğŸ‘ âœ ğŸ¼ ğŸµ ğŸ¶ ğŸ§ ğŸ¸ ğŸ“½ ğŸ¬ğŸ“· ğŸ“¸ ğŸ“” ğŸ“– â“ â— âŒ âœ” âœ… æ›´å¤šè§ï¼šwebfx emoji å­—ç¬¦æ³¨éŸ³/è¯´æ˜æ•ˆæœï¼šSASuffix Array è¯­æ³•ï¼š [ç®€å†™æˆ–å…¶ä»–] ^ (è¯´æ˜æ€§æ–‡å­—) åœ¨ä»£ç æ®µå†…ä¹Ÿèƒ½æ˜¾ç¤ºï¼ˆä½†è¿™ä¹ˆåšä¸å¥½ï¼‰ï¼š SASuffix Array åˆ†æ•°æ•ˆæœï¼š60/100 è¯­æ³•ï¼š [] / [] æ‰“å­—æœº ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#å­—ç¬¦æ³¨éŸ³è¯´æ˜"},{"categories":["Tools-Method"],"content":" è®©æ–‡æœ¬æœ‰è¶£ä¸€äº› emojiä¸€äº›å¯èƒ½ç”¨å¾—åˆ°çš„ emoji ï¼š ğŸ‘ ğŸ‘ˆ ğŸ‘‰ ğŸ‘ âœ ğŸ¼ ğŸµ ğŸ¶ ğŸ§ ğŸ¸ ğŸ“½ ğŸ¬ğŸ“· ğŸ“¸ ğŸ“” ğŸ“– â“ â— âŒ âœ” âœ… æ›´å¤šè§ï¼šwebfx emoji å­—ç¬¦æ³¨éŸ³/è¯´æ˜æ•ˆæœï¼šSASuffix Array è¯­æ³•ï¼š [ç®€å†™æˆ–å…¶ä»–] ^ (è¯´æ˜æ€§æ–‡å­—) åœ¨ä»£ç æ®µå†…ä¹Ÿèƒ½æ˜¾ç¤ºï¼ˆä½†è¿™ä¹ˆåšä¸å¥½ï¼‰ï¼š SASuffix Array åˆ†æ•°æ•ˆæœï¼š60/100 è¯­æ³•ï¼š [] / [] æ‰“å­—æœº ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#åˆ†æ•°"},{"categories":["Tools-Method"],"content":" è®©æ–‡æœ¬æœ‰è¶£ä¸€äº› emojiä¸€äº›å¯èƒ½ç”¨å¾—åˆ°çš„ emoji ï¼š ğŸ‘ ğŸ‘ˆ ğŸ‘‰ ğŸ‘ âœ ğŸ¼ ğŸµ ğŸ¶ ğŸ§ ğŸ¸ ğŸ“½ ğŸ¬ğŸ“· ğŸ“¸ ğŸ“” ğŸ“– â“ â— âŒ âœ” âœ… æ›´å¤šè§ï¼šwebfx emoji å­—ç¬¦æ³¨éŸ³/è¯´æ˜æ•ˆæœï¼šSASuffix Array è¯­æ³•ï¼š [ç®€å†™æˆ–å…¶ä»–] ^ (è¯´æ˜æ€§æ–‡å­—) åœ¨ä»£ç æ®µå†…ä¹Ÿèƒ½æ˜¾ç¤ºï¼ˆä½†è¿™ä¹ˆåšä¸å¥½ï¼‰ï¼š SASuffix Array åˆ†æ•°æ•ˆæœï¼š60/100 è¯­æ³•ï¼š [] / [] æ‰“å­—æœº ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:1","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#æ‰“å­—æœº"},{"categories":["Tools-Method"],"content":" è®©æ–‡ç« å†…å®¹ä¸°å¯Œä¸€äº› mermaid ç”»å›¾markdown èƒ½å¤Ÿä½¿ç”¨ mermaid å¿«é€Ÿçš„ç”»å›¾ï¼Œå¦‚æœæ˜¯ä¸€äº›æ¯”è¾ƒç®€å•çš„å›¾ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ¥ç”»ä¸€ç”» mermaid èƒ½å¤Ÿç”»å‡ºä»€ä¹ˆå›¾ï¼Ÿ é¥¼å›¾ æµç¨‹ æ—¶åº çŠ¶æ€ ç”˜ç‰¹ ç±» å¯ä»¥çœ‹ï¼šmermaidç³»åˆ— åµŒå…¥è§†é¢‘è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ youtube è§†é¢‘ï¼š è¯­æ³•ï¼š {{\u003c å¹³å° è§†é¢‘id \u003e}} å¹³å°ï¼š youtube bilibili åµŒå…¥éŸ³é¢‘ ä¸°å¯Œçš„è­¦å‘Šç³»ç»Ÿhugo æ‰©å±•äº†ä¸€äº› shortcode ä¸°å¯Œäº†è­¦å‘Šçš„ç±»å‹ï¼Œä¸è¿‡ä¹Ÿä¸å®œä½¿ç”¨å¤ªå¤šï¼Œçœ‹èµ·æ¥å¤ªèŠ±å“¨äº†ï¼Œå¼•å…¥ä¸€ä¸ª Bug çš„è­¦å‘Šåº”è¯¥å°±å·®ä¸å¤šäº† è¿™æ˜¯ä¸ª bug å…·ä½“çš„è¯­æ³•å¯ä»¥çœ‹ï¼šhttps://hugodoit.pages.dev/zh-cn/theme-documentation-extended-shortcodes/#admonition ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:2","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#è®©æ–‡ç« å†…å®¹ä¸°å¯Œä¸€äº›"},{"categories":["Tools-Method"],"content":" è®©æ–‡ç« å†…å®¹ä¸°å¯Œä¸€äº› mermaid ç”»å›¾markdown èƒ½å¤Ÿä½¿ç”¨ mermaid å¿«é€Ÿçš„ç”»å›¾ï¼Œå¦‚æœæ˜¯ä¸€äº›æ¯”è¾ƒç®€å•çš„å›¾ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ¥ç”»ä¸€ç”» mermaid èƒ½å¤Ÿç”»å‡ºä»€ä¹ˆå›¾ï¼Ÿ é¥¼å›¾ æµç¨‹ æ—¶åº çŠ¶æ€ ç”˜ç‰¹ ç±» å¯ä»¥çœ‹ï¼šmermaidç³»åˆ— åµŒå…¥è§†é¢‘è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ youtube è§†é¢‘ï¼š è¯­æ³•ï¼š {{\u003c å¹³å° è§†é¢‘id \u003e}} å¹³å°ï¼š youtube bilibili åµŒå…¥éŸ³é¢‘ ä¸°å¯Œçš„è­¦å‘Šç³»ç»Ÿhugo æ‰©å±•äº†ä¸€äº› shortcode ä¸°å¯Œäº†è­¦å‘Šçš„ç±»å‹ï¼Œä¸è¿‡ä¹Ÿä¸å®œä½¿ç”¨å¤ªå¤šï¼Œçœ‹èµ·æ¥å¤ªèŠ±å“¨äº†ï¼Œå¼•å…¥ä¸€ä¸ª Bug çš„è­¦å‘Šåº”è¯¥å°±å·®ä¸å¤šäº† è¿™æ˜¯ä¸ª bug å…·ä½“çš„è¯­æ³•å¯ä»¥çœ‹ï¼šhttps://hugodoit.pages.dev/zh-cn/theme-documentation-extended-shortcodes/#admonition ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:2","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#mermaid-ç”»å›¾"},{"categories":["Tools-Method"],"content":" è®©æ–‡ç« å†…å®¹ä¸°å¯Œä¸€äº› mermaid ç”»å›¾markdown èƒ½å¤Ÿä½¿ç”¨ mermaid å¿«é€Ÿçš„ç”»å›¾ï¼Œå¦‚æœæ˜¯ä¸€äº›æ¯”è¾ƒç®€å•çš„å›¾ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ¥ç”»ä¸€ç”» mermaid èƒ½å¤Ÿç”»å‡ºä»€ä¹ˆå›¾ï¼Ÿ é¥¼å›¾ æµç¨‹ æ—¶åº çŠ¶æ€ ç”˜ç‰¹ ç±» å¯ä»¥çœ‹ï¼šmermaidç³»åˆ— åµŒå…¥è§†é¢‘è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ youtube è§†é¢‘ï¼š è¯­æ³•ï¼š {{\u003c å¹³å° è§†é¢‘id \u003e}} å¹³å°ï¼š youtube bilibili åµŒå…¥éŸ³é¢‘ ä¸°å¯Œçš„è­¦å‘Šç³»ç»Ÿhugo æ‰©å±•äº†ä¸€äº› shortcode ä¸°å¯Œäº†è­¦å‘Šçš„ç±»å‹ï¼Œä¸è¿‡ä¹Ÿä¸å®œä½¿ç”¨å¤ªå¤šï¼Œçœ‹èµ·æ¥å¤ªèŠ±å“¨äº†ï¼Œå¼•å…¥ä¸€ä¸ª Bug çš„è­¦å‘Šåº”è¯¥å°±å·®ä¸å¤šäº† è¿™æ˜¯ä¸ª bug å…·ä½“çš„è¯­æ³•å¯ä»¥çœ‹ï¼šhttps://hugodoit.pages.dev/zh-cn/theme-documentation-extended-shortcodes/#admonition ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:2","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#åµŒå…¥è§†é¢‘"},{"categories":["Tools-Method"],"content":" è®©æ–‡ç« å†…å®¹ä¸°å¯Œä¸€äº› mermaid ç”»å›¾markdown èƒ½å¤Ÿä½¿ç”¨ mermaid å¿«é€Ÿçš„ç”»å›¾ï¼Œå¦‚æœæ˜¯ä¸€äº›æ¯”è¾ƒç®€å•çš„å›¾ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ¥ç”»ä¸€ç”» mermaid èƒ½å¤Ÿç”»å‡ºä»€ä¹ˆå›¾ï¼Ÿ é¥¼å›¾ æµç¨‹ æ—¶åº çŠ¶æ€ ç”˜ç‰¹ ç±» å¯ä»¥çœ‹ï¼šmermaidç³»åˆ— åµŒå…¥è§†é¢‘è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ youtube è§†é¢‘ï¼š è¯­æ³•ï¼š {{\u003c å¹³å° è§†é¢‘id \u003e}} å¹³å°ï¼š youtube bilibili åµŒå…¥éŸ³é¢‘ ä¸°å¯Œçš„è­¦å‘Šç³»ç»Ÿhugo æ‰©å±•äº†ä¸€äº› shortcode ä¸°å¯Œäº†è­¦å‘Šçš„ç±»å‹ï¼Œä¸è¿‡ä¹Ÿä¸å®œä½¿ç”¨å¤ªå¤šï¼Œçœ‹èµ·æ¥å¤ªèŠ±å“¨äº†ï¼Œå¼•å…¥ä¸€ä¸ª Bug çš„è­¦å‘Šåº”è¯¥å°±å·®ä¸å¤šäº† è¿™æ˜¯ä¸ª bug å…·ä½“çš„è¯­æ³•å¯ä»¥çœ‹ï¼šhttps://hugodoit.pages.dev/zh-cn/theme-documentation-extended-shortcodes/#admonition ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:2","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#åµŒå…¥éŸ³é¢‘"},{"categories":["Tools-Method"],"content":" è®©æ–‡ç« å†…å®¹ä¸°å¯Œä¸€äº› mermaid ç”»å›¾markdown èƒ½å¤Ÿä½¿ç”¨ mermaid å¿«é€Ÿçš„ç”»å›¾ï¼Œå¦‚æœæ˜¯ä¸€äº›æ¯”è¾ƒç®€å•çš„å›¾ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ¥ç”»ä¸€ç”» mermaid èƒ½å¤Ÿç”»å‡ºä»€ä¹ˆå›¾ï¼Ÿ é¥¼å›¾ æµç¨‹ æ—¶åº çŠ¶æ€ ç”˜ç‰¹ ç±» å¯ä»¥çœ‹ï¼šmermaidç³»åˆ— åµŒå…¥è§†é¢‘è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ youtube è§†é¢‘ï¼š è¯­æ³•ï¼š {{\u003c å¹³å° è§†é¢‘id \u003e}} å¹³å°ï¼š youtube bilibili åµŒå…¥éŸ³é¢‘ ä¸°å¯Œçš„è­¦å‘Šç³»ç»Ÿhugo æ‰©å±•äº†ä¸€äº› shortcode ä¸°å¯Œäº†è­¦å‘Šçš„ç±»å‹ï¼Œä¸è¿‡ä¹Ÿä¸å®œä½¿ç”¨å¤ªå¤šï¼Œçœ‹èµ·æ¥å¤ªèŠ±å“¨äº†ï¼Œå¼•å…¥ä¸€ä¸ª Bug çš„è­¦å‘Šåº”è¯¥å°±å·®ä¸å¤šäº† è¿™æ˜¯ä¸ª bug å…·ä½“çš„è¯­æ³•å¯ä»¥çœ‹ï¼šhttps://hugodoit.pages.dev/zh-cn/theme-documentation-extended-shortcodes/#admonition ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:2","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#ä¸°å¯Œçš„è­¦å‘Šç³»ç»Ÿ"},{"categories":["Tools-Method"],"content":" è®©æ–‡ç« ç»“æ„è§„æ•´ä¸€äº›","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:3","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#è®©æ–‡ç« ç»“æ„è§„æ•´ä¸€äº›"},{"categories":["Tools-Method"],"content":" ä¸¾ä¾‹å­ä¹‹å‰è‡ªå·±å†™ä¾‹å­çš„æ—¶å€™ä¸€ç›´æ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒå›ºå®šçš„æ–¹å¼ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªä¾‹å­çš„ç¯‡å¹…å¯èƒ½æ¯”è¾ƒé•¿ï¼Œå¦‚æœè·³è¿‡è¿™ä¸ªä¾‹å­çš„è¯è¿˜éœ€è¦å®šä½ä¸‹ä¸€ä¸ªæ­£æ–‡çš„èµ·ç‚¹ âŒ åŸå…ˆï¼š graph TD classDef grey fill:#f0f0ed a[æ­£æ–‡1]--\u003eb[ä¾‹å­]--\u003ec[æ¥æ­£æ–‡1] class b grey âœ… æœŸæœ›ï¼š graph TD classDef grey fill:#f0f0ed subgraph é¡ºåºé˜…è¯» a[æ­£æ–‡1]--\u003ec[æ¥æ­£æ–‡1] end a[æ­£æ–‡1]-.-\u003eb[ä¾‹å­] b[ä¾‹å­]-.-\u003ec[æ¥æ­£æ–‡1] class b grey é‚£ä¹ˆå°±æŠŠä¾‹å­çš„å†…å®¹å…¨éƒ¨æ”¾åˆ°ä¸€ä¸ªå¯æŠ˜å çš„åŒºåŸŸé‡Œé¢ è¿™æ˜¯ä¸ªä¾‹å­ - xxxxxxx ä¾‹å­çš„å†…å®¹ è¿™æ ·å°±èƒ½è¾¾åˆ°ä¸Šé¢æœŸæœ›çš„æ•ˆæœã€‚ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:2:4","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#ä¸¾ä¾‹å­"},{"categories":["Tools-Method"],"content":" è®©åšå®¢çš„å†…å®¹æ›´è§„æ•´ä¸€äº›ä¸ºäº†è®©åšå®¢æ•´ä½“çœ‹èµ·æ¥æœ‰åºä¸€äº›ï¼Œåšå¥½åˆ†ç±»ã€ç³»åˆ—ã€æ ‡ç­¾çš„è§„åˆ’ã€‚è™½ç„¶è¯´è¿™ä¸ªæå‰å·¥ç¨‹å®æ–½ä¹‹åå¥½åƒæœ‰ç‚¹è·Ÿå¡ç‰‡ç›’ç¬”è®°æ³•çš„æƒ³æ³•ç›¸è¿èƒŒï¼ˆå¡ç‰‡ç›’ç¬”è®°æ³•æå€¡ä¸åšå¤ªå¤šæ•´ä½“çš„è§„åˆ’ï¼Œè€Œæ˜¯è®©ç¬”è®°ä¹‹é—´è‡ªç„¶ç”Ÿé•¿å‡ºè¿æ¥è§„å¾‹ï¼‰ï¼Œä½†æ˜¯ä¸ºäº†è®©å·²æœ‰çš„ä¸€äº›å·²ç»å›ºå®šåˆ†ç±»çš„æ–‡ç« æœ‰å®¶å¯å½’ï¼Œå¯ä»¥åšé€‚å½“çš„åˆ†ç±»ã€‚ todoï¼šä¹‹åè¿˜è¦å¥½å¥½å­¦ä¹ ä¸€ä¸‹å¡ç‰‡ç›’ç¬”è®°æ³•ï¼Œè®©å®ƒçœŸæ­£æˆä¸ºè‡ªå·±çš„ä¸€ä¸ªå†™ä½œæ–¹å¼ï¼Œç°åœ¨æ„Ÿè§‰çŸ¥è¯†ç”¨ä¸Šäº†ç‚¹è¡¨é¢çš„ä¸œè¥¿ã€‚ åšå®¢ä¸»è¦æœ‰ä¸‰ç§åˆ’åˆ†æ–‡æ¡£çš„æ–¹å¼ï¼šåˆ†ç±» \u003e ç³»åˆ— \u003e æ ‡ç­¾ ç®—æ³•ä¸æ•°æ®ç»“æ„ï¼šåˆ†æˆä¸¤ä¸ªç³»åˆ—ï¼Œåç®—æ³•è·Ÿåæ•°æ®ç»“æ„çš„åˆ†å¼€ ã€Šæ•°æ®ç»“æ„ã€‹ ã€Šç®—æ³•ã€‹ ã€Šleetcodeã€‹ Golang æœ¬æ¥åº”è¯¥æ˜¯è¯­è¨€åˆ†ç±»ï¼Œç„¶åå¾€ä¸‹åˆ† javaã€go ä¹‹ç±»çš„è¯­è¨€ï¼Œä½†æ˜¯ä¸ºäº†è®©ç»“æ„å±‚çº§æ›´æµ…ï¼ŒæŠŠä¸‹é¢ä¸€å±‚çš„å†…å®¹ç½‘ä¸Šæï¼ŒæŠŠ Golangã€Java ç­‰è¯­è¨€å•ç‹¬ä½œä¸ºä¸€ä¸ªåˆ†ç±» ã€ŠGolangåˆè¯†ã€‹ ä¸€äº›ç®€å•ä½¿ç”¨æ–¹å¼ ã€ŠGolangä¸ºä»€ä¹ˆã€‹ è®°å½•å¯¹äºGolangçš„ä¸€äº›ç–‘é—®ï¼Œè¿™ä¸ªâ€œä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„â€ä»¥åŠâ€œè¿™ä¸ªæ˜¯ä»€ä¹ˆæ ·çš„â€ä¹‹ç±»çš„ç–‘é—®è®°å½•åœ¨æ­¤ï¼Œç›¸æ¯”äº ã€ŠGolangåˆè¯†ã€‹ä¸­çš„ç®€å•ä½¿ç”¨ï¼Œåº”è¯¥æ˜¯æœ‰æ›´è¿›ä¸€æ­¥çš„å®è·µæˆ–è€…ç†è§£ ã€ŠGolangBugåˆ†æã€‹ è®°å½•ç¢°åˆ°çš„bugï¼Œæˆ–è€…åˆ«äººç¢°åˆ°çš„bug ã€ŠGolangä»£ç ç‰‡æ®µã€‹ è®°å½•ä¸€äº›å·¥å…·ç±»ã€ä»£ç å¦™ç”¨ç­‰ä»£ç ç¢ç‰‡ ã€ŠGolangåº•å±‚è®¤çŸ¥ã€‹ ã€ŠGolangæºç å­¦ä¹ ã€‹ ã€ŠGolangæ€§èƒ½ä¼˜åŒ–ã€‹ Golangæ¡†æ¶ ã€ŠGinã€‹ ã€ŠGo-Redisã€‹ ã€ŠGormã€‹ ã€Šclient-goã€‹ MySQL ã€ŠMySQLåˆè¯†ã€‹ ã€ŠMySQLåº•å±‚ã€‹ å®¹å™¨ æƒ³æƒ³è¿˜æ˜¯ä¸ä½¿ç”¨è¿™æ ·çš„åˆ†ç±»æ–¹å¼äº†ï¼Œæ•´ä¸ª Kubernetes è¿˜æ˜¯æ¯”è¾ƒåºå¤§çš„ï¼Œå„è‡ªæ‹¿å‡ºæ¥ä½œä¸ºä¸€ä¸ªåˆ†ç±»ï¼Œå†æŠŠåº•ä¸‹çš„å†…å®¹åˆ†æˆç³»åˆ— ã€ŠKubernetesã€‹ ã€ŠOpenshiftã€‹ Kubernetes ã€ŠKubernetesåˆè¯†ã€‹ è¿™ä¸ªä¸œè¥¿çš„ç®€å•ä½¿ç”¨æ–¹å¼ ã€ŠKubernetesä»£ç å®è·µã€‹ ä¸ k8s å…³è”æ¯”è¾ƒå¤§çš„ä¸€äº›ä»£ç å¼€å‘ã€demo ä¹‹ç±»çš„ä¸œè¥¿ ã€ŠKubernetesé—®é¢˜å®šä½ã€‹ è®°å½•å®é™…ä½¿ç”¨ k8s çš„è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠå®šä½è¿‡ç¨‹ ã€ŠKuberneteså­˜å‚¨ç¯‡ã€‹ ã€ŠKubernetesç½‘ç»œç¯‡ã€‹ ã€ŠKubernetesæºç åˆ†æã€‹ OpenShift ã€ŠOpenShiftåˆè¯†ã€‹ Docker ã€ŠDockerå‘½ä»¤ã€‹ è®°å½•ä¸€äº› docker å¸¸ç”¨çš„æ“ä½œ é¡¹ç›®ç®¡ç† ã€ŠGitã€‹ å­˜å‚¨ æ“ä½œç³»ç»Ÿ è®¡ç®—æœºç½‘ç»œ Linux ã€ŠLinuxå‘½ä»¤ä½¿ç”¨ã€‹ ä¸€äº›å¸¸ç”¨å‘½ä»¤è®°å½•ã€å‘½ä»¤å­¦ä¹ ç­‰ ã€ŠLinuxå­¦ä¹ ã€‹ ç”Ÿæ´»è®°å½• ã€ŠéŸ³ä¹ã€‹ ğŸ¶ #å¬æ­Œæœˆè®°å½• #å–œæ¬¢çš„live #åšå®¢éŸ³ä¹åµŒå…¥æ ·ä¾‹ ã€ŠFL-Studioã€‹ ã€Šç»ƒå­—ã€‹ ã€Šå½±åƒè®°å½•ã€‹ #æ¸¸ç©æ˜ åƒ #å® ç‰©æ˜ åƒ ã€Šç”»ç”»ã€‹ #ç´ æ #æ°´å½© #é’¢ç¬”ç”» #æ ‘è„‚ ã€Šé˜…è¯»ã€‹ ã€Šæ—¥è§„åˆ’-è®°å½•ã€‹ ã€Šæœˆè§„åˆ’-è®°å½•ã€‹ ã€Šå¹´åº¦æ€»ç»“ã€‹ æ‰©å±•å­¦ä¹  ã€Šæ‰©å±•å­¦ä¹ ä¹‹aiã€‹ï¼šæ”¾ä¸€äº›äººå·¥æ™ºèƒ½ã€æ·±åº¦å­¦ä¹ ä¹‹ç±»çš„ä¸œè¥¿ Tools-Method è®°å½•æˆ‘åœ¨å†™ä½œã€å­¦ä¹ è¿‡ç¨‹ä¸­ä½¿ç”¨çš„ä¸€äº›è¾…åŠ©å·¥å…·ã€è®°å½•æ–¹æ³•ã€å†™ä½œæµç­‰ç­‰ #ä¸ªäººè®°å½• ã€Šå·¥å…·ã€‹ ï¼šä¸€äº›å¥½ç”¨çš„å·¥å…·å¤‡å¿˜ å¦‚æœæˆ‘ç°åœ¨æƒ³å†™ä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ä¸å¥½ç¡®å®šç³»åˆ—ï¼Œå°±æ”¾åˆ° åˆ†ç±»å-box ç³»åˆ—é‡Œé¢ï¼Œä½œä¸ºè¿™ä¸ªåˆ†ç±»çš„æ–‡ç« æ”¶é›†ç®±ï¼Œå¦‚æœä¹‹åæœ‰é€‚åˆçš„ç³»åˆ—ï¼Œå†æ•´ç†è¿›å» å…³äºæ ‡ç­¾å¦‚ä½•ä½¿ç”¨ï¼Ÿ æŠŠå…³äºé—®é¢˜åˆ†æçš„æ–‡ç« éƒ½æ”¾åœ¨ é—®é¢˜åˆ†æ çš„æ ‡ç­¾é‡Œ å¯¹äºä¸€ç¯‡æ–‡ç« ï¼Œè¿˜æ˜¯ä¸è¦ç»™å®šå¤ªå¤šæ ‡ç­¾ï¼Œæ˜¾å¾—å¤ªä¹±ï¼Œæœ€å¥½ä¸€åˆ°ä¸¤ä¸ªæœ€é‡è¦çš„æ ‡ç­¾å°±å¥½äº† hugo Doit ä¸»é¢˜ä¸­ï¼Œä¸èƒ½å­˜åœ¨æ ‡ç­¾è·Ÿç³»åˆ—ä¸€ç›´çš„æƒ…å†µï¼Œå¦åˆ™åšå®¢ä¼šæ¸²æŸ“å¤±è´¥ ","date":"2023-05-09","objectID":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/:3:0","series":["åšå®¢å»ºè®¾"],"tags":["ä¸ªäººè®°å½•"],"title":"é‡æ–°æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å†™ä½œæµ","uri":"/202305091805-%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/#è®©åšå®¢çš„å†…å®¹æ›´è§„æ•´ä¸€äº›"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:0:0","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸€ã€KMP ç®—æ³•ç”¨é€” åœ¨ä¸»ä¸² S ä¸­æŸ¥æ‰¾æ¨¡å¼ä¸² pattern ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:1:0","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#ä¸€kmp-ç®—æ³•ç”¨é€”"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" äºŒã€ç®—æ³•æµç¨‹","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:2:0","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#äºŒç®—æ³•æµç¨‹"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.1 ä¸¾ä¾‹è¯´æ˜1S=â€œaabaabaacâ€, pattern=â€œaabaacâ€ ä¸»ä¸²ä¸­å­˜åœ¨æ¨¡å¼ä¸²ï¼Œåº”è¯¥è¿”å›èµ·å§‹ä¸‹æ ‡ -3 step1 é¦–å…ˆå®šä¹‰ä¸¤ä¸ªä¸‹æ ‡ i å’Œ jï¼Œåˆ†åˆ«æŒ‡å‘ S å’Œ pattern ä¸­å¾…æ¯”è¾ƒçš„å­—ç¬¦ æ³¨æ„ç‚¹ï¼šï¼ˆåç»­è§£é‡Šï¼‰ i ä¸ä¼šå›å¤´ï¼ˆæ—¶é—´å¤æ‚åº¦O(N)ï¼‰ j å·¦ä¾§çš„å­—ç¬¦ä¸€å®šæ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ï¼ˆj æ˜¯ä¼šå›å¤´çš„ï¼‰ step2 å½“ S[i] == pattern[j]ï¼Œiã€j å‡å³ç§»ï¼Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ step3 å½“ S[i] != pattern[j]ï¼Œi ä¸åŠ¨ï¼Œj ä»¥ä¸€å®šçš„æ¨¡å¼è¿›è¡Œè½¬ç§»ï¼Œå…·ä½“è§ä¸‹é¢çš„åœºæ™¯ï¼šï¼ˆ202304262152 KMP ç®—æ³•ä¹‹-è·å– next æ•°ç»„ï¼‰ ï¼ˆå‡è®¾æˆªå–æ¨¡å¼ä¸² [0, j-1] ä¸º patternâ€˜ï¼‰ å½“å‘ç°å½“å‰æ¯”è¾ƒçš„å­—ç¬¦ä¸åŒæ—¶ï¼š æ¨¡å¼ä¸²æ‰¾åˆ° patternâ€™ ä¸­æœ€é•¿çš„ç›¸åŒå‰åç¼€ï¼ˆå‡è®¾ä¸º comFixï¼‰ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ B å’Œ C é‚£ä¹ˆä¸»ä¸²åœ¨ä¸‹æ ‡ i ä¹‹å‰ä¹Ÿå¿…å®šæœ‰ä¸€ä¸ª comFixï¼ˆç”±äº j å‰é¢çš„å­—ç¬¦ä¸€å®šçš„ç»è¿‡æ¯”è¾ƒçš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ A æ‰€ä»¥ A = B = Cï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠ j çš„ä½ç½®ç§»åŠ¨åˆ° C çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯åœ¨ i ä¸å›å¤´çš„æƒ…å†µä¸‹ï¼Œj å·¦è¾¹çš„å­—ç¬¦éƒ½æ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ step4 è¿›è€Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ é‚£ä¹ˆ KMP çš„ä¼ªä»£ç å°±å¾ˆå®¹æ˜“èƒ½å¤Ÿå†™å‡ºæ¥ï¼š N M ä¸º S pattern çš„é•¿åº¦ for i \u003c N \u0026\u0026 j \u003c M { å­—ç¬¦ä¸åŒ å¾ªç¯ï¼šæ ¹æ®è½¬ç§»æ¨¡å¼æ›´æ–° j ç›´åˆ°å­—ç¬¦ç›¸åŒï¼Œæˆ–è€…å·²ç»æ˜¯æ¨¡å¼ä¸²çš„é¦–å­—ç¬¦ if å­—ç¬¦ç›¸åŒ j++ i++ å¦åˆ™ i++ } èƒ½å¤Ÿæ‰¾åˆ°åˆ™ j == len(pattern) return i - M + 1 å¦åˆ™æ²¡æœ‰æ‰¾åˆ° return -1 ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:2:1","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#21-ä¸¾ä¾‹è¯´æ˜1"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.1 ä¸¾ä¾‹è¯´æ˜1S=â€œaabaabaacâ€, pattern=â€œaabaacâ€ ä¸»ä¸²ä¸­å­˜åœ¨æ¨¡å¼ä¸²ï¼Œåº”è¯¥è¿”å›èµ·å§‹ä¸‹æ ‡ -3 step1 é¦–å…ˆå®šä¹‰ä¸¤ä¸ªä¸‹æ ‡ i å’Œ jï¼Œåˆ†åˆ«æŒ‡å‘ S å’Œ pattern ä¸­å¾…æ¯”è¾ƒçš„å­—ç¬¦ æ³¨æ„ç‚¹ï¼šï¼ˆåç»­è§£é‡Šï¼‰ i ä¸ä¼šå›å¤´ï¼ˆæ—¶é—´å¤æ‚åº¦O(N)ï¼‰ j å·¦ä¾§çš„å­—ç¬¦ä¸€å®šæ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ï¼ˆj æ˜¯ä¼šå›å¤´çš„ï¼‰ step2 å½“ S[i] == pattern[j]ï¼Œiã€j å‡å³ç§»ï¼Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ step3 å½“ S[i] != pattern[j]ï¼Œi ä¸åŠ¨ï¼Œj ä»¥ä¸€å®šçš„æ¨¡å¼è¿›è¡Œè½¬ç§»ï¼Œå…·ä½“è§ä¸‹é¢çš„åœºæ™¯ï¼šï¼ˆ202304262152 KMP ç®—æ³•ä¹‹-è·å– next æ•°ç»„ï¼‰ ï¼ˆå‡è®¾æˆªå–æ¨¡å¼ä¸² [0, j-1] ä¸º patternâ€˜ï¼‰ å½“å‘ç°å½“å‰æ¯”è¾ƒçš„å­—ç¬¦ä¸åŒæ—¶ï¼š æ¨¡å¼ä¸²æ‰¾åˆ° patternâ€™ ä¸­æœ€é•¿çš„ç›¸åŒå‰åç¼€ï¼ˆå‡è®¾ä¸º comFixï¼‰ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ B å’Œ C é‚£ä¹ˆä¸»ä¸²åœ¨ä¸‹æ ‡ i ä¹‹å‰ä¹Ÿå¿…å®šæœ‰ä¸€ä¸ª comFixï¼ˆç”±äº j å‰é¢çš„å­—ç¬¦ä¸€å®šçš„ç»è¿‡æ¯”è¾ƒçš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ A æ‰€ä»¥ A = B = Cï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠ j çš„ä½ç½®ç§»åŠ¨åˆ° C çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯åœ¨ i ä¸å›å¤´çš„æƒ…å†µä¸‹ï¼Œj å·¦è¾¹çš„å­—ç¬¦éƒ½æ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ step4 è¿›è€Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ é‚£ä¹ˆ KMP çš„ä¼ªä»£ç å°±å¾ˆå®¹æ˜“èƒ½å¤Ÿå†™å‡ºæ¥ï¼š N M ä¸º S pattern çš„é•¿åº¦ for i \u003c N \u0026\u0026 j \u003c M { å­—ç¬¦ä¸åŒ å¾ªç¯ï¼šæ ¹æ®è½¬ç§»æ¨¡å¼æ›´æ–° j ç›´åˆ°å­—ç¬¦ç›¸åŒï¼Œæˆ–è€…å·²ç»æ˜¯æ¨¡å¼ä¸²çš„é¦–å­—ç¬¦ if å­—ç¬¦ç›¸åŒ j++ i++ å¦åˆ™ i++ } èƒ½å¤Ÿæ‰¾åˆ°åˆ™ j == len(pattern) return i - M + 1 å¦åˆ™æ²¡æœ‰æ‰¾åˆ° return -1 ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:2:1","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#step1-é¦–å…ˆå®šä¹‰ä¸¤ä¸ªä¸‹æ ‡-i-å’Œ-jåˆ†åˆ«æŒ‡å‘-s-å’Œ-pattern-ä¸­å¾…æ¯”è¾ƒçš„å­—ç¬¦"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.1 ä¸¾ä¾‹è¯´æ˜1S=â€œaabaabaacâ€, pattern=â€œaabaacâ€ ä¸»ä¸²ä¸­å­˜åœ¨æ¨¡å¼ä¸²ï¼Œåº”è¯¥è¿”å›èµ·å§‹ä¸‹æ ‡ -3 step1 é¦–å…ˆå®šä¹‰ä¸¤ä¸ªä¸‹æ ‡ i å’Œ jï¼Œåˆ†åˆ«æŒ‡å‘ S å’Œ pattern ä¸­å¾…æ¯”è¾ƒçš„å­—ç¬¦ æ³¨æ„ç‚¹ï¼šï¼ˆåç»­è§£é‡Šï¼‰ i ä¸ä¼šå›å¤´ï¼ˆæ—¶é—´å¤æ‚åº¦O(N)ï¼‰ j å·¦ä¾§çš„å­—ç¬¦ä¸€å®šæ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ï¼ˆj æ˜¯ä¼šå›å¤´çš„ï¼‰ step2 å½“ S[i] == pattern[j]ï¼Œiã€j å‡å³ç§»ï¼Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ step3 å½“ S[i] != pattern[j]ï¼Œi ä¸åŠ¨ï¼Œj ä»¥ä¸€å®šçš„æ¨¡å¼è¿›è¡Œè½¬ç§»ï¼Œå…·ä½“è§ä¸‹é¢çš„åœºæ™¯ï¼šï¼ˆ202304262152 KMP ç®—æ³•ä¹‹-è·å– next æ•°ç»„ï¼‰ ï¼ˆå‡è®¾æˆªå–æ¨¡å¼ä¸² [0, j-1] ä¸º patternâ€˜ï¼‰ å½“å‘ç°å½“å‰æ¯”è¾ƒçš„å­—ç¬¦ä¸åŒæ—¶ï¼š æ¨¡å¼ä¸²æ‰¾åˆ° patternâ€™ ä¸­æœ€é•¿çš„ç›¸åŒå‰åç¼€ï¼ˆå‡è®¾ä¸º comFixï¼‰ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ B å’Œ C é‚£ä¹ˆä¸»ä¸²åœ¨ä¸‹æ ‡ i ä¹‹å‰ä¹Ÿå¿…å®šæœ‰ä¸€ä¸ª comFixï¼ˆç”±äº j å‰é¢çš„å­—ç¬¦ä¸€å®šçš„ç»è¿‡æ¯”è¾ƒçš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ A æ‰€ä»¥ A = B = Cï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠ j çš„ä½ç½®ç§»åŠ¨åˆ° C çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯åœ¨ i ä¸å›å¤´çš„æƒ…å†µä¸‹ï¼Œj å·¦è¾¹çš„å­—ç¬¦éƒ½æ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ step4 è¿›è€Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ é‚£ä¹ˆ KMP çš„ä¼ªä»£ç å°±å¾ˆå®¹æ˜“èƒ½å¤Ÿå†™å‡ºæ¥ï¼š N M ä¸º S pattern çš„é•¿åº¦ for i \u003c N \u0026\u0026 j \u003c M { å­—ç¬¦ä¸åŒ å¾ªç¯ï¼šæ ¹æ®è½¬ç§»æ¨¡å¼æ›´æ–° j ç›´åˆ°å­—ç¬¦ç›¸åŒï¼Œæˆ–è€…å·²ç»æ˜¯æ¨¡å¼ä¸²çš„é¦–å­—ç¬¦ if å­—ç¬¦ç›¸åŒ j++ i++ å¦åˆ™ i++ } èƒ½å¤Ÿæ‰¾åˆ°åˆ™ j == len(pattern) return i - M + 1 å¦åˆ™æ²¡æœ‰æ‰¾åˆ° return -1 ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:2:1","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#step2-å½“-si--patternjij-å‡å³ç§»ç»§ç»­å¾€ä¸‹æ¯”è¾ƒ"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.1 ä¸¾ä¾‹è¯´æ˜1S=â€œaabaabaacâ€, pattern=â€œaabaacâ€ ä¸»ä¸²ä¸­å­˜åœ¨æ¨¡å¼ä¸²ï¼Œåº”è¯¥è¿”å›èµ·å§‹ä¸‹æ ‡ -3 step1 é¦–å…ˆå®šä¹‰ä¸¤ä¸ªä¸‹æ ‡ i å’Œ jï¼Œåˆ†åˆ«æŒ‡å‘ S å’Œ pattern ä¸­å¾…æ¯”è¾ƒçš„å­—ç¬¦ æ³¨æ„ç‚¹ï¼šï¼ˆåç»­è§£é‡Šï¼‰ i ä¸ä¼šå›å¤´ï¼ˆæ—¶é—´å¤æ‚åº¦O(N)ï¼‰ j å·¦ä¾§çš„å­—ç¬¦ä¸€å®šæ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ï¼ˆj æ˜¯ä¼šå›å¤´çš„ï¼‰ step2 å½“ S[i] == pattern[j]ï¼Œiã€j å‡å³ç§»ï¼Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ step3 å½“ S[i] != pattern[j]ï¼Œi ä¸åŠ¨ï¼Œj ä»¥ä¸€å®šçš„æ¨¡å¼è¿›è¡Œè½¬ç§»ï¼Œå…·ä½“è§ä¸‹é¢çš„åœºæ™¯ï¼šï¼ˆ202304262152 KMP ç®—æ³•ä¹‹-è·å– next æ•°ç»„ï¼‰ ï¼ˆå‡è®¾æˆªå–æ¨¡å¼ä¸² [0, j-1] ä¸º patternâ€˜ï¼‰ å½“å‘ç°å½“å‰æ¯”è¾ƒçš„å­—ç¬¦ä¸åŒæ—¶ï¼š æ¨¡å¼ä¸²æ‰¾åˆ° patternâ€™ ä¸­æœ€é•¿çš„ç›¸åŒå‰åç¼€ï¼ˆå‡è®¾ä¸º comFixï¼‰ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ B å’Œ C é‚£ä¹ˆä¸»ä¸²åœ¨ä¸‹æ ‡ i ä¹‹å‰ä¹Ÿå¿…å®šæœ‰ä¸€ä¸ª comFixï¼ˆç”±äº j å‰é¢çš„å­—ç¬¦ä¸€å®šçš„ç»è¿‡æ¯”è¾ƒçš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ A æ‰€ä»¥ A = B = Cï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠ j çš„ä½ç½®ç§»åŠ¨åˆ° C çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯åœ¨ i ä¸å›å¤´çš„æƒ…å†µä¸‹ï¼Œj å·¦è¾¹çš„å­—ç¬¦éƒ½æ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ step4 è¿›è€Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ é‚£ä¹ˆ KMP çš„ä¼ªä»£ç å°±å¾ˆå®¹æ˜“èƒ½å¤Ÿå†™å‡ºæ¥ï¼š N M ä¸º S pattern çš„é•¿åº¦ for i \u003c N \u0026\u0026 j \u003c M { å­—ç¬¦ä¸åŒ å¾ªç¯ï¼šæ ¹æ®è½¬ç§»æ¨¡å¼æ›´æ–° j ç›´åˆ°å­—ç¬¦ç›¸åŒï¼Œæˆ–è€…å·²ç»æ˜¯æ¨¡å¼ä¸²çš„é¦–å­—ç¬¦ if å­—ç¬¦ç›¸åŒ j++ i++ å¦åˆ™ i++ } èƒ½å¤Ÿæ‰¾åˆ°åˆ™ j == len(pattern) return i - M + 1 å¦åˆ™æ²¡æœ‰æ‰¾åˆ° return -1 ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:2:1","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#step3-å½“-si--patternji-ä¸åŠ¨j-ä»¥ä¸€å®šçš„æ¨¡å¼è¿›è¡Œè½¬ç§»å…·ä½“è§ä¸‹é¢çš„åœºæ™¯"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.1 ä¸¾ä¾‹è¯´æ˜1S=â€œaabaabaacâ€, pattern=â€œaabaacâ€ ä¸»ä¸²ä¸­å­˜åœ¨æ¨¡å¼ä¸²ï¼Œåº”è¯¥è¿”å›èµ·å§‹ä¸‹æ ‡ -3 step1 é¦–å…ˆå®šä¹‰ä¸¤ä¸ªä¸‹æ ‡ i å’Œ jï¼Œåˆ†åˆ«æŒ‡å‘ S å’Œ pattern ä¸­å¾…æ¯”è¾ƒçš„å­—ç¬¦ æ³¨æ„ç‚¹ï¼šï¼ˆåç»­è§£é‡Šï¼‰ i ä¸ä¼šå›å¤´ï¼ˆæ—¶é—´å¤æ‚åº¦O(N)ï¼‰ j å·¦ä¾§çš„å­—ç¬¦ä¸€å®šæ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ï¼ˆj æ˜¯ä¼šå›å¤´çš„ï¼‰ step2 å½“ S[i] == pattern[j]ï¼Œiã€j å‡å³ç§»ï¼Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ step3 å½“ S[i] != pattern[j]ï¼Œi ä¸åŠ¨ï¼Œj ä»¥ä¸€å®šçš„æ¨¡å¼è¿›è¡Œè½¬ç§»ï¼Œå…·ä½“è§ä¸‹é¢çš„åœºæ™¯ï¼šï¼ˆ202304262152 KMP ç®—æ³•ä¹‹-è·å– next æ•°ç»„ï¼‰ ï¼ˆå‡è®¾æˆªå–æ¨¡å¼ä¸² [0, j-1] ä¸º patternâ€˜ï¼‰ å½“å‘ç°å½“å‰æ¯”è¾ƒçš„å­—ç¬¦ä¸åŒæ—¶ï¼š æ¨¡å¼ä¸²æ‰¾åˆ° patternâ€™ ä¸­æœ€é•¿çš„ç›¸åŒå‰åç¼€ï¼ˆå‡è®¾ä¸º comFixï¼‰ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ B å’Œ C é‚£ä¹ˆä¸»ä¸²åœ¨ä¸‹æ ‡ i ä¹‹å‰ä¹Ÿå¿…å®šæœ‰ä¸€ä¸ª comFixï¼ˆç”±äº j å‰é¢çš„å­—ç¬¦ä¸€å®šçš„ç»è¿‡æ¯”è¾ƒçš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ A æ‰€ä»¥ A = B = Cï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠ j çš„ä½ç½®ç§»åŠ¨åˆ° C çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯åœ¨ i ä¸å›å¤´çš„æƒ…å†µä¸‹ï¼Œj å·¦è¾¹çš„å­—ç¬¦éƒ½æ˜¯å·²ç»ç»è¿‡æ¯”è¾ƒçš„ step4 è¿›è€Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ é‚£ä¹ˆ KMP çš„ä¼ªä»£ç å°±å¾ˆå®¹æ˜“èƒ½å¤Ÿå†™å‡ºæ¥ï¼š N M ä¸º S pattern çš„é•¿åº¦ for i \u003c N \u0026\u0026 j \u003c M { å­—ç¬¦ä¸åŒ å¾ªç¯ï¼šæ ¹æ®è½¬ç§»æ¨¡å¼æ›´æ–° j ç›´åˆ°å­—ç¬¦ç›¸åŒï¼Œæˆ–è€…å·²ç»æ˜¯æ¨¡å¼ä¸²çš„é¦–å­—ç¬¦ if å­—ç¬¦ç›¸åŒ j++ i++ å¦åˆ™ i++ } èƒ½å¤Ÿæ‰¾åˆ°åˆ™ j == len(pattern) return i - M + 1 å¦åˆ™æ²¡æœ‰æ‰¾åˆ° return -1 ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:2:1","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#step4-è¿›è€Œç»§ç»­å¾€ä¸‹æ¯”è¾ƒ"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸‰ã€å…·ä½“å®ç° func getNext(pat string) []int { n := len(pat) next := make([]int, n) for l, cur := 0, 1; cur \u003c n; cur ++ { // ä¸æƒ³ç­‰éœ€è¦æ ¹æ®å‰é¢å¾—åˆ°çš„ nextï¼Œæ›´æ–° l // ç›´åˆ°ç›¸ç­‰æˆ–è€… l == 0 for l \u003e 0 \u0026\u0026 pat[l] != pat[cur] {l = next[l-1]} if pat[cur] == pat[l] { l++ } next[cur] = l } return next } func KMP(s, pat string) int { n, m := len(s), len(pat) next := getNext(pat) i, j := 0, 0 for i \u003c n \u0026\u0026 j \u003c m { for j \u003e 0 \u0026\u0026 pat[j] != s[i] {j = next[j-1]} if s[i] == pat[j] { j++ } i++ } if j == m { return i - m } else { return -1 } } ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:3:0","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#ä¸‰å…·ä½“å®ç°"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å››ã€ä¸€äº›ä¹ é¢˜ https://leetcode.cn/problems/repeated-substring-pattern/ çŸ¥ä¹ä¸“æ . ã€ŠKMP ç®—æ³•è¯¦è§£ã€‹. è§äº 2023å¹´4æœˆ26æ—¥. https://zhuanlan.zhihu.com/p/83334559. ã€ŠKMPç®—æ³•ã€‹. æ”¶å…¥ ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦, 2022å¹´7æœˆ8æ—¥. https://zh.wikipedia.org/w/index.php?title=KMP%E7%AE%97%E6%B3%95\u0026oldid=72556055. ","date":"2023-05-09","objectID":"/202304262036-kmp-%E7%AE%97%E6%B3%95/:4:0","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•","uri":"/202304262036-kmp-%E7%AE%97%E6%B3%95/#å››ä¸€äº›ä¹ é¢˜"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• KMP ç®—æ³•ä¸­ j çš„è½¬ç§»æ˜¯é€šè¿‡ä¸€ä¸ªä¿å­˜ j è½¬ç§»ä¿¡æ¯çš„æ•°ç»„ next æ¥å®ç°çš„ï¼Œé‚£ä¹ˆå¦‚ä½•è·å¾—è¿™ä¸ªæ•°ç»„æ˜¯ KMP ç®—æ³•çš„å…³é”® é¦–å…ˆæ ¹æ® KMP çš„å·¥ä½œæµç¨‹å¯çŸ¥ï¼Œnext ä¸­ä¿å­˜çš„å…¶å®æ˜¯æœ€é•¿å…¬å…±å‰åç¼€çš„é•¿åº¦ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæœ€é•¿å…¬å…±å‰åç¼€ä¸­å‰ç¼€çš„ä¸‹ä¸€ä¸ªä¸‹æ ‡ next[i] ä¿å­˜äº† pattern[0,i] è¿™ä¸ªå­—ç¬¦ä¸²æœ€é•¿å…¬å…±å‰åç¼€çš„é•¿åº¦ ä¸¾ä¸ªä¾‹å­è¯´æ˜ï¼špattern = â€œaabaacâ€ æ¨å¯¼è¿‡ç¨‹ï¼š å­ä¸² æœ€é•¿å…¬å…±å‰åç¼€ next a æ— (é•¿åº¦ä¸º1æ²¡æœ‰å‰ç¼€ä¸åç¼€) 0 aa a 1 aab æ—  0 aaba a 1 aabaa aa 2 aabaac æ—  0 å¦‚ä½•åœ¨ O(M) çš„æ—¶é—´å¤æ‚åº¦å†…è·å¾—è¿™ä¸ª next æ•°ç»„ï¼Ÿ ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä»å¤´å¼€å§‹éå† patternï¼š lenï¼šè®°å½•äº†æœ€é•¿å…¬å…±å‰åç¼€çš„é•¿åº¦ï¼ˆåˆå§‹ 0ï¼‰ curï¼šå­ä¸²ç»“å°¾ï¼ˆåˆå§‹ 1ï¼‰ é¦–å…ˆåˆå§‹åŒ– next[0] = 0ï¼Œæ‰€æœ‰çš„æ¨¡å¼ä¸²éƒ½ç¬¦åˆ åˆ¤æ–­ pattern[cur] == pattern[len]ï¼› è¯´æ˜å­˜åœ¨ç›¸åŒå‰åç¼€ï¼Œé‚£ä¹ˆå°† len++ï¼Œnext[cur] = lenï¼ˆè¯´æ˜å­ä¸² pattern[0, cur] çš„æœ€é•¿å…¬å…±å‰ç¼€é•¿åº¦ä¸º lenï¼‰ å†å°† cur++ï¼Œç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªå­ä¸² å½“ pattern[cur] != pattern[len] è¯´æ˜å½“å‰çš„å­ä¸²æ˜¯ä¸å­˜åœ¨å…¬å…±å‰åç¼€çš„ï¼Œé‚£ä¹ˆå°† len é‡ç½® len = next[len-1]ï¼ˆæ‰¾å­ä¸²[0, len-1]çš„æœ€å¤§ç›¸åŒå‰åç¼€ï¼Œç›´åˆ°é¦–å­—ç¬¦çš„ä½ç½® æˆ–è€… pattern[len] == pattern[cur]ï¼‰ï¼Œ end ç»§ç»­å³ç§»åŠ¨ è¿™ä¸ªæ­¥éª¤å¾€å¾€æ˜¯å®¹æ˜“å‡ºé”™çš„ï¼Œçœ‹ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­ é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œç›´åˆ°è·å–æ•´ä¸ª next æ•°ç»„ ä¸€ä¸ªé”™è¯¯ä¾‹å­ï¼š func getNext(pat string) []int { n := len(pat) next := make([]int, n) for l, cur := 0, 1; cur \u003c n; cur ++ { if pat[cur] == pat[l] { l++ } else { // error l = 0 } next[cur] = l } return next } æµ‹è¯•ä¾‹ï¼š pat=â€œafdabeafdafâ€ getNext() = [0 0 0 1 0 0 1 2 3 4 0], want [0 0 0 1 0 0 1 2 3 4 2] æ­£ç¡®å®ç°ï¼š func getNext(pat string) []int { n := len(pat) next := make([]int, n) for l, cur := 0, 1; cur \u003c n; cur ++ { // ä¸ç›¸ç­‰éœ€è¦æ ¹æ®å‰é¢å¾—åˆ°çš„ nextï¼Œæ›´æ–° l // ç›´åˆ°ç›¸ç­‰æˆ–è€… l == 0 for l \u003e 0 \u0026\u0026 pat[l] != pat[cur] {l = next[l-1]} if pat[cur] == pat[l] { l++ } next[cur] = l } return next } ","date":"2023-05-09","objectID":"/202304262152-kmp-%E7%AE%97%E6%B3%95%E4%B9%8B-%E8%8E%B7%E5%8F%96-next-%E6%95%B0%E7%BB%84/:0:0","series":["ç®—æ³•"],"tags":[],"title":"KMPç®—æ³•ä¹‹-è·å–nextæ•°ç»„","uri":"/202304262152-kmp-%E7%AE%97%E6%B3%95%E4%B9%8B-%E8%8E%B7%E5%8F%96-next-%E6%95%B0%E7%BB%84/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#leetcode å¸Œæœ›èƒ½æœ‰æˆé•¿ï¼Œåœ¨æ­¤è®°å½• ","date":"2023-05-09","objectID":"/202304301159-leetcode-%E5%91%A8%E8%B5%9B%E5%8F%82%E5%8A%A0%E8%AE%B0%E5%BD%95/:0:0","series":["leetcode"],"tags":["ä¸ªäººè®°å½•"],"title":"Leetcode å‘¨èµ›è®°å½•","uri":"/202304301159-leetcode-%E5%91%A8%E8%B5%9B%E5%8F%82%E5%8A%A0%E8%AE%B0%E5%BD%95/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ç¬¬ä¸€åœºå‘¨èµ› æœ¬ç€å°±åšä¸¤é¢˜çš„å¿ƒæ€æ¥çš„ï¼Œç»“æœä¹Ÿç®—æ˜¯å®Œæˆäº†ä¸¤é¢˜ï¼Œä¸è¿‡è¿‡ç¨‹è¿˜æ˜¯ä¸å°½äººæ„ï¼Œç¬¬ä¸€é“ç®€å•é¢˜å°±waäº†äº”æ¬¡ï¼Œè¿˜æ˜¯æœ‰ç‚¹å°ç´§å¼  ç¬¬äºŒé“é¢˜æ€è€ƒçš„æœ‰ç‚¹ä¹…ï¼Œå…¶å®å°±æ˜¯è¦åœ¨ä¸€ä¸ªä¹±åºçš„äºŒç»´æ•°ç»„ä¸­å¿«é€Ÿæ‰¾åˆ°ä¸€ä¸ªæ•°åœ¨ç¬¬å‡ è¡Œç¬¬å‡ åˆ—çš„éœ€æ±‚ï¼Œå¦‚æœè¿™äº›æ•°è¢«ä¿è¯åœ¨ä¸€ä¸ªä¸å¤§çš„èŒƒå›´å†…ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥åšnum2Idx[æ•°å­—]=ä¸‹æ ‡ è¿™æ ·çš„ä¸€ä¸ªæ˜ å°„ï¼Œå°±èƒ½å¿«é€Ÿæ‰¾åˆ°å¯¹åº”æ•°å­—åœ¨äºŒç»´æ•°ç»„ä¸­çš„ä¸‹æ ‡äº† ä¸è¿‡ç»“æœä¹Ÿè¿˜ç®—æ˜¯ç¬¦åˆé¢„æœŸäº†ï¼Œå†æ¥å†å‰å§ ","date":"2023-05-09","objectID":"/202304301159-leetcode-%E5%91%A8%E8%B5%9B%E5%8F%82%E5%8A%A0%E8%AE%B0%E5%BD%95/:1:0","series":["leetcode"],"tags":["ä¸ªäººè®°å½•"],"title":"Leetcode å‘¨èµ›è®°å½•","uri":"/202304301159-leetcode-%E5%91%A8%E8%B5%9B%E5%8F%82%E5%8A%A0%E8%AE%B0%E5%BD%95/#ç¬¬ä¸€åœºå‘¨èµ›"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"ä¸€äº›é¢˜ç›®è®°å½•ä¸€ä¸‹","date":"2023-05-09","objectID":"/202304201936-leetcode%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/","series":["leetcode"],"tags":["ä¸ªäººè®°å½•"],"title":"leetcode åšé¢˜è®°å½• ","uri":"/202304201936-leetcode%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• è®°å½•ä¸€äº›æ¯”è¾ƒæœ‰æ„ä¹‰çš„é¢˜ç›® é¢˜ç›® å¤‡æ³¨ 2023.04.18 119 æ»šåŠ¨æ•°ç»„ 121 169 mapçš„ä½¿ç”¨ï¼Œæ•°ç»„ä¸­å…ƒç´ çš„è®¡æ•° 219 æ»‘åŠ¨çª—å£ 283 åŒæŒ‡é’ˆ 303 åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­åšé¢„å¤„ç†æ“ä½œï¼Œå‡å°‘é¢‘ç¹è°ƒç”¨çš„æ–¹æ³•ä¸­æ‰€åšçš„å·¥ä½œé‡ 414 ä½¿ç”¨äº†å‰é¢åŒæŒ‡é’ˆçš„æ€è·¯ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼æ»‘åŠ¨çª—å£çš„æ€è·¯ï¼Œç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º3çš„æœ‰åºé›†åˆ 488 dfs 2023.04.19 496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ I å•è°ƒæ ˆï¼Œï¼ˆGoæœ¬èº«æ²¡æœ‰æ ˆçš„åº“ï¼Œä½†æ˜¯é€šè¿‡æ•°ç»„å¾ˆæ–¹ä¾¿å®ç°[[content/posts/go/golang-code-demo/202304201957 æ ˆ]]ï¼‰ 2023.04.20 506-ç›¸å¯¹åæ¬¡ æ·±æ‹·è´[[content/posts/go/golang-underlying/202304201947 æ·±æµ…æ‹·è´]]ã€goåŸºæœ¬å…ƒç´ ç±»å‹çš„é™åºæ’åº 561-æ•°ç»„æ‹†åˆ† åœ¨äºé¢˜ç›®çš„åˆ†æï¼Œç”¨è´ªå¿ƒçš„æ–¹å¼æ¥åˆ†æ 556-é‡å¡‘çŸ©é˜µ äºŒç»´æ•°ç»„çš„ä¸€ç»´è¡¨ç¤ºï¼ˆm*nçŸ©é˜µçš„ç¬¬xä¸ªå…ƒç´ åæ ‡ï¼šx/nï¼Œx%nï¼‰ 594-æœ€é•¿å’Œè°å­åº é”™å¤ªå¤šæ¬¡äº†ï¼›ç§»åŠ¨çª—å£ï¼›æ•°ç»„è®¡æ•°ï¼Œè”æƒ³ä¸‹æ ‡è®¡æ•°æ³• 2023.04.21 674-æœ€é•¿è¿ç»­é€’å¢åºåˆ— æ»‘åŠ¨çª—å£ 744-å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯ äºŒåˆ†æŸ¥æ‰¾[[202304212107 äºŒåˆ†æŸ¥æ‰¾]] 746-çˆ¬æ¥¼æ¢¯ åŠ¨æ€è§„åˆ’ 747 æ±‚æ•°ç»„çš„ç¬¬ä¸€ç¬¬äºŒå¤§çš„æ•° 2023.04.22 1027-æœ€é•¿ç­‰å·®æ•°åˆ— åŠ¨æ€è§„åˆ’[todo] 2023.04.23 1105-å¡«å……ä¹¦æ¶ åŠ¨æ€è§„åˆ’ 942-å¢å‡å­—ç¬¦ä¸²åŒ¹é… è´ªå¿ƒç®—æ³• 914-å¡ç‰Œåˆ†ç»„ æœ€å¤§å…¬çº¦æ•° 2023.04.24 1163 æŒ‰å­—å…¸åºæ’åœ¨æœ€åçš„å­ä¸²ã€éš¾ã€‘ åç¼€æ•°ç»„ã€sa-isç®—æ³•ï¼ˆ[[202304241453 åç¼€æ•°ç»„ä¸SA-ISç®—æ³•]]ï¼‰ 2023.04.25 125-éªŒè¯å›æ–‡ 168-Excelè¡¨åç§° 26è¿›åˆ¶ 2023.04.26 1031-ä¸¤ä¸ªéé‡å å­æ•°ç»„çš„æœ€å¤§å’Œ åŠ¨æ€è§„åˆ’+æ»‘åŠ¨çª—å£ ç»¼åˆé¢˜ç›® 392-åˆ¤æ–­å­åºåˆ— åŠ¨æ€è§„åˆ’ 459-é‡å¤çš„å­å­—ç¬¦ä¸² KMPç®—æ³• 680-éªŒè¯å›æ–‡ è´ªå¿ƒ 2023.04.29 å‰‘æŒ‡ Offer II 083. æ²¡æœ‰é‡å¤å…ƒç´ é›†åˆçš„å…¨æ’åˆ— å­—å…¸åº 2023.04.24 2023.04.24 2023.04.24 2023.04.24 2023.04.24 2023.04.24 2023.04.24 æ€»ç»“ä¸€äº›åˆ†ç±»å‡ºæ¥ æ•°ç»„è®¡æ•° æ•°ç»„æ‰¾ç¬¬å‡  ä½è¿ç®— ","date":"2023-05-09","objectID":"/202304201936-leetcode%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/:0:0","series":["leetcode"],"tags":["ä¸ªäººè®°å½•"],"title":"leetcode åšé¢˜è®°å½• ","uri":"/202304201936-leetcode%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/#"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":"#ChatGPT ","date":"2023-05-09","objectID":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/:0:0","series":["ChatGPT"],"tags":[],"title":"openai ä½¿ç”¨å®è·µ","uri":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/#"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" ä¸€ã€ç›®å‰äº’è”ç½‘ä¸Šå·²ç»å­˜åœ¨çš„å¼€æ”¾çš„ç«™ç‚¹ https://openai.com/ å®˜æ–¹ç½‘ç«™ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†äºšæ´² IP å·²ç»è¢«æ‹¦æˆªï¼Œæ— æ³•ä½¿ç”¨ã€‚ä½†æ˜¯å¯ä»¥æŒ‚ VPN ï¼ˆç›´è¿ï¼‰åˆ°å®˜ç½‘ç”³è¯· api keyï¼Œå†å¥—ä¸ª web çš„å¤–å£³æ¥ä½¿ç”¨ï¼Œæˆ–è€…é€šè¿‡ jupyter notebook æ¥ä½¿ç”¨ä¹Ÿå¯ä»¥ ç”³è¯· api key æ˜¯ä¸éœ€è¦ä»˜è´¹çš„ï¼Œä½†æ˜¯ç›®å‰å…è´¹ä½¿ç”¨çš„é¢åº¦åªæœ‰ 5 ç¾å…ƒï¼Œè¶…è¿‡éœ€é¢å¤–å……å€¼æˆ–è€…è´­ä¹° ChatGPT Plus ç‰ˆæœ¬ https://chatgptmirror.com/ å›½å†…çš„ä¸€ä¸ªé•œåƒç«™ç‚¹ï¼Œéœ€è¦æ”¶è´¹ åŸºäº GPT3.5turbo å’Œ GPT4 http://chat.gptforlove.com/ å…è´¹ ç‰ˆæœ¬ï¼šChatGPT 3.5 æ”¯æŒè¿ç»­å¯¹è¯ https://chat.jinshutuan.com/ å…è´¹ ç‰ˆæœ¬ï¼šé OpenAI GTP 3.5+ ä¸æ”¯æŒè¿ç»­å¯¹è¯ https://chatgpt.peterdavehello.org/ å…è´¹ https://jiehan.tech/708 ä»˜è´¹ åŸºäº GPT3.5turbo å’Œ GPT4 æ›´å¤šç«™ç‚¹å¯ä»¥å‚è€ƒ chatgpt-sites ","date":"2023-05-09","objectID":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/:1:0","series":["ChatGPT"],"tags":[],"title":"openai ä½¿ç”¨å®è·µ","uri":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/#ä¸€ç›®å‰äº’è”ç½‘ä¸Šå·²ç»å­˜åœ¨çš„å¼€æ”¾çš„ç«™ç‚¹"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" äºŒã€å…³äºå¦‚ä½•åœ¨ openai å®˜ç½‘ç”³è¯· api keyå¯ä»¥å‚è€ƒè¯¥ç¯‡æ–‡ç« ï¼šhttps://bysocket.com/openai-services-are-not-available-in-your-country/ ","date":"2023-05-09","objectID":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/:2:0","series":["ChatGPT"],"tags":[],"title":"openai ä½¿ç”¨å®è·µ","uri":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/#äºŒå…³äºå¦‚ä½•åœ¨-openai-å®˜ç½‘ç”³è¯·-api-key"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" ä¸‰ã€å¦‚ä½•æ›´å¥½åœ°ä½¿ç”¨ ChatGPT æ¥ä¸ºè‡ªå·±å·¥ä½œ","date":"2023-05-09","objectID":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/:3:0","series":["ChatGPT"],"tags":[],"title":"openai ä½¿ç”¨å®è·µ","uri":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/#ä¸‰å¦‚ä½•æ›´å¥½åœ°ä½¿ç”¨-chatgpt-æ¥ä¸ºè‡ªå·±å·¥ä½œ"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" 3.1ã€ŠChatGPT Prompt Engineering for Developersã€‹è¯¾ç¨‹å­¦ä¹ ç”¨å¥½æç¤ºè¯æ˜¯å…³é”® ç¬”è®°äº§å‡ºï¼š[[202305062133 é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹]] ","date":"2023-05-09","objectID":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/:3:1","series":["ChatGPT"],"tags":[],"title":"openai ä½¿ç”¨å®è·µ","uri":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/#31chatgpt-prompt-engineering-for-developersè¯¾ç¨‹å­¦ä¹ "},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" 3.2 ChatGPT ä¸­æ–‡è°ƒæ•™æŒ‡å—ã€ŠPlexPt/awesome-chatgpt-prompts-zh: ChatGPT ä¸­æ–‡è°ƒæ•™æŒ‡å—ã€‚å„ç§åœºæ™¯ä½¿ç”¨æŒ‡å—ã€‚å­¦ä¹ æ€ä¹ˆè®©å®ƒå¬ä½ çš„è¯ã€‚ã€‹. è§äº 2023å¹´5æœˆ7æ—¥. https://github.com/PlexPt/awesome-chatgpt-prompts-zh. ","date":"2023-05-09","objectID":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/:3:2","series":["ChatGPT"],"tags":[],"title":"openai ä½¿ç”¨å®è·µ","uri":"/202305070711-openai-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/#32-chatgpt-ä¸­æ–‡è°ƒæ•™æŒ‡å—"},{"categories":["Kubernetes"],"content":"#k8s ","date":"2023-05-09","objectID":"/202305080937-operator/:0:0","series":["kubernetesåˆè¯†"],"tags":["operator"],"title":"operator","uri":"/202305080937-operator/#"},{"categories":["Kubernetes"],"content":" ä¸€ã€æ¦‚è¿°operator å¯¹äº k8s æ¥è¯´ï¼Œæ˜¯ä¸€ç§æ‰©å±•æœºåˆ¶ï¼Œå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ CRDï¼Œæ¥æ‰©å±• k8s API operator é€šè¿‡ç›‘è§†å’Œç®¡ç† CRDï¼Œæ¥æ‰§è¡Œä¸€ç³»åˆ—è¢«é¢„å®šçš„æ“ä½œï¼Œè¿™äº›æ“ä½œè¢«ç¼–å†™åœ¨ reconcile é€»è¾‘é‡Œé¢ï¼Œé€šè¿‡ CRD çš„å¢åŠ ã€åˆ é™¤ã€æ›´æ–°ï¼Œå¯ä»¥è§¦å‘ä¸åŒçš„é€»è¾‘ï¼Œåœ¨è¿™äº›é€»è¾‘é‡Œé¢ä¹Ÿå¯ä»¥å¯¹ k8s åŸæœ‰çš„èµ„æºè¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚ podã€configmapã€service ç­‰ç­‰ å¯¹äºè¿ç»´äººå‘˜æ¥è¯´ï¼Œoperator ä¹Ÿæ˜¯ç›¸å½“æœ‰ç”¨çš„ï¼Œoperator å¯ä»¥è´Ÿè´£ç”¨æ¥åšä¸€äº›æ›´é«˜çº§çš„æ“ä½œï¼Œæ¯”å¦‚æ‰©ç¼©å®¹ã€é›†ç¾¤çš„å¤‡ä»½ã€æ¢å¤ç­‰æ“ä½œï¼Œå¯ä»¥å‡è½»è¿ç»´äººå‘˜çš„å‹åŠ› ","date":"2023-05-09","objectID":"/202305080937-operator/:1:0","series":["kubernetesåˆè¯†"],"tags":["operator"],"title":"operator","uri":"/202305080937-operator/#ä¸€æ¦‚è¿°"},{"categories":["Kubernetes"],"content":" äºŒã€åè¯è§£é‡Šã€Operator çš„å·¥ä½œæµç¨‹","date":"2023-05-09","objectID":"/202305080937-operator/:2:0","series":["kubernetesåˆè¯†"],"tags":["operator"],"title":"operator","uri":"/202305080937-operator/#äºŒåè¯è§£é‡Šoperator-çš„å·¥ä½œæµç¨‹"},{"categories":["Kubernetes"],"content":" 2.1 åè¯è§£é‡Š GroupVersionKind GVK æ˜¯ç”¨æ¥æè¿°ä¸€ä¸ª kubernetes api å¯¹è±¡çš„æ ‡å‡† å°† GroupVersionKind æ‹†åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†æ¥ç†è§£ï¼š Group Version Kind åœ¨ Kubernetes ç¯å¢ƒä¸­å¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹ï¼š kubectl api-resources kubectl explain [kind] GroupVersionResource GroupVersionResource å’Œ GroupVersionKind éƒ½æ˜¯ Kubernetes API ä¸­ç”¨äºæ ‡è¯†èµ„æºçš„æ•°æ®ç»“æ„ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä¸€å®šçš„å…³ç³»ã€‚ GroupVersionResource ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šgroupã€version å’Œ resourceã€‚å®ƒç”¨äºå”¯ä¸€åœ°æ ‡è¯† Kubernetes API ä¸­çš„ä¸€ä¸ªèµ„æºï¼Œå¹¶æŒ‡å®šå®¢æˆ·ç«¯å¯¹è¯¥èµ„æºæ‰§è¡Œ CRUD æ“ä½œçš„æ–¹å¼ã€‚ GroupVersionKind ä¹Ÿç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šgroupã€version å’Œ kindã€‚å®ƒç”¨äºæè¿° Kubernetes API ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ kind è¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ï¼Œä¾‹å¦‚ Podã€Service æˆ– Deploymentã€‚ å¯ä»¥çœ‹å‡ºï¼ŒGroupVersionResource å’Œ GroupVersionKind çš„åŒºåˆ«åœ¨äºæœ€åä¸€ä¸ªéƒ¨åˆ†ã€‚GroupVersionResource çš„æœ€åä¸€ä¸ªéƒ¨åˆ†æ˜¯èµ„æºçš„åç§°ï¼Œè€Œ GroupVersionKind çš„æœ€åä¸€ä¸ªéƒ¨åˆ†æ˜¯å¯¹è±¡çš„ç±»å‹ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬éƒ½åŒ…å«äº†ç›¸åŒçš„å‰ä¸¤ä¸ªéƒ¨åˆ†ï¼šgroup å’Œ versionã€‚è¿™æ„å‘³ç€ï¼Œé€šè¿‡ GroupVersionKind å¯ä»¥æ¨æ–­å‡ºå¯¹åº”çš„ GroupVersionResourceï¼Œåä¹‹äº¦ç„¶ã€‚ å› æ­¤ï¼ŒGroupVersionResource å’Œ GroupVersionKind æ˜¯ç´§å¯†ç›¸å…³çš„æ¦‚å¿µï¼Œå®ƒä»¬éƒ½æ˜¯ Kubernetes API ä¸­ç”¨äºæ ‡è¯†èµ„æºå’Œå¯¹è±¡çš„é‡è¦æ•°æ®ç»“æ„ã€‚ scheme scheme æä¾›äº† kubernetes api å¯¹è±¡çš„åºåˆ—åŒ–ã€ååºåˆ—åŒ–çš„åŠŸèƒ½ åœ¨ operator ä¸­ï¼Œscheme æä¾›äº†å‘ kubernetes api æ³¨å†Œè‡ªå®šä¹‰å¯¹è±¡çš„åŠŸèƒ½ æ‰€ä»¥æ¯ä¸ª operator éƒ½éœ€è¦ schemeï¼Œæä¾›äº† go type ä¸ Kind çš„æ˜ å°„ï¼Œoperator æ‰èƒ½ä¸kubernetes api æ›´å¥½çš„äº¤äº’ Manager Cacheã€informer cacheè´Ÿè´£ï¼š ç¼“å­˜ kubernetes api å¯¹è±¡ ç‰ˆæœ¬æ§åˆ¶ ç´¢å¼• informerè´Ÿè´£ï¼š ç›‘å¬ kubernetes api ä¸­çš„äº‹ä»¶ å½“ controller æƒ³è¦è®¿é—®æŸä¸ª api èµ„æºï¼Œé¦–å…ˆæŸ¥æ‰¾ cache ä¸­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨å†å¾€ kuberntes api ä¸­æŸ¥æ‰¾ï¼Œcache èƒ½å¤Ÿå‡å°‘è®¿é—® kuberntes api çš„æ¬¡æ•°ï¼Œå‡è½» io å‹åŠ› ä¸ºäº†ä¿è¯ç¼“å­˜ä¸­çš„èµ„æºä¸ kuberntes api ä¸­çš„èµ„æºä¿æŒä¸€è‡´ï¼Œinformer éœ€è¦ç›‘å¬ kubernetes api ä¸­çš„äº‹ä»¶ï¼Œå¦‚æœ kuberntes api ä¸­çš„èµ„æºå‘ç”Ÿæ”¹å˜ï¼Œcache ä¸­ä¹Ÿè¦åŒæ­¥å˜åŒ–ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ cache è¿˜æä¾›äº†å¯¹è±¡çš„ç´¢å¼•ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚ç”±äºapi èµ„æºå¯¹è±¡æ˜¯å…·å¤‡ç‰ˆæœ¬çš„ï¼Œå› æ­¤ cache ä¹Ÿéœ€è¦æä¾›ç‰ˆæœ¬æ§åˆ¶çš„åŠŸèƒ½ï¼Œä¿è¯ä¸ kuberntes api ä¸­çš„èµ„æºæ˜¯åŒä¸€ä¸ªç‰ˆæœ¬ informer æ˜¯åŸºäº cache å®Œæˆçš„ä¸€ä¸ªé«˜çº§ç»„ä»¶ï¼Œä¸¤è€…ç›¸äº’åä½œï¼Œéƒ½æ˜¯ä¸ºäº†è®©å®¢æˆ·ç«¯æ›´å¥½çš„è®¿é—®api å¯¹è±¡èµ„æºï¼Œcacheä¸»è¦ç”¨æ¥åšç¼“å­˜ã€ç‰ˆæœ¬æ§åˆ¶ã€ç´¢å¼•çš„åŠŸèƒ½ï¼Œinformer ä¸»è¦ç›‘å¬ kuberntes api ä¸­çš„äº‹ä»¶ï¼Œæ›´æ–°ç¼“å­˜ä¸­çš„èµ„æº è¿™è¾¹é¡ºä¾¿äº†è§£ä¸€ä¸‹ ListAndWatch æœºåˆ¶ï¼š ä¸ Informer ç±»ä¼¼ï¼ŒListAndWatch çš„ä½œç”¨ä¹Ÿæ˜¯ä¸ºäº†è®©å®¢æˆ·ç«¯æˆ–è€…æ§åˆ¶å™¨æ›´å¥½çš„è·å– k8s èµ„æºï¼Œå®ƒçš„å¤§è‡´å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š ä½¿ç”¨ List æ“ä½œï¼Œä» Kubernetes API è·å–å…¨éƒ¨çš„èµ„æºå¯¹è±¡å¹¶ä¿å­˜ ç„¶åç›‘å¬ kuberntes api ä¸­çš„äº‹ä»¶ï¼Œå¦‚æœå¯¹è±¡å‘ç”Ÿæ›´æ–°ï¼Œåˆ™å¯¹è‡ªå·±ä¿å­˜çš„å¯¹è±¡ä¹Ÿåšç›¸åº”æ›´æ–° ","date":"2023-05-09","objectID":"/202305080937-operator/:2:1","series":["kubernetesåˆè¯†"],"tags":["operator"],"title":"operator","uri":"/202305080937-operator/#21-åè¯è§£é‡Š"},{"categories":["Kubernetes"],"content":" 2.2 operator å·¥ä½œæµç¨‹ä¾‹å¦‚å½“ä¸€ä¸ª CRD åˆ›å»ºï¼Œä¼šç»è¿‡ä»€ä¹ˆæ ·çš„æµç¨‹ ä¸€ä¸ª crd èµ„æºåˆ›å»ºï¼Œé¦–å…ˆ kubernetes api ä¼šç›‘å¬åˆ°è¿™ä¸ªèµ„æºçš„åˆ›å»ºï¼Œinformer ä¼šä» kuberntes api æ”¶åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œå¹¶è·å–å¯¹åº”çš„ crd èµ„æºï¼Œå°†è¿™ä¸ªèµ„æºååºåˆ—åŒ–æˆå¯¹åº”çš„ go typeï¼Œç„¶åè§¦å‘æ§åˆ¶å™¨ä¸­çš„ reconcile é€»è¾‘ï¼Œå®Œæˆé¢„å®šçš„æ“ä½œ åŠ¨ç”»æ¼”ç¤º[^1] crd åˆ›å»ºè¯·æ±‚å‘é€åˆ° API Server API Server æ ¡éªŒè¯·æ±‚æ˜¯å¦åˆæ³•ï¼Œæ˜¯å¦æœ‰åˆ›å»ºè¿™ä¸ªèµ„æºçš„æƒé™ é€šè¿‡ API Server åï¼Œåˆ°è¾¾å‡†å…¥æ§åˆ¶å™¨ï¼ˆAdmission Controllerï¼‰ï¼Œæ ¹æ® crd å¯¹åº”çš„æ ¡éªŒè§„åˆ™è¿›è¡Œ crd èµ„æºçš„æ ¡éªŒã€‚æ­¤å¤– Admission Controller è¿˜å¯èƒ½å¯¹èµ„æºè¿›è¡Œä¿®æ”¹æ“ä½œ è‡³æ­¤ï¼Œcrd çš„åˆ›å»ºå·²ç»è¢«å…è®¸ï¼Œä¸€ä¸ª crd å®ä¾‹è¢«åˆ›å»ºï¼Œå¹¶ä¿å­˜åˆ° etcd ä¸­ Controller Manager å¯åŠ¨å¯¹åº”çš„ Controller Controller æ‰§è¡Œç›¸åº”çš„ reconcile é€»è¾‘ï¼Œä¼šç›‘å¬ crd çš„å˜åŒ–ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„é€»è¾‘ ","date":"2023-05-09","objectID":"/202305080937-operator/:2:2","series":["kubernetesåˆè¯†"],"tags":["operator"],"title":"operator","uri":"/202305080937-operator/#22-operator-å·¥ä½œæµç¨‹"},{"categories":["Kubernetes"],"content":" ä¸‰ã€å®è·µ åˆ›å»º operator é¡¹ç›®çš„ä¸¤ä¸ªè„šæ‰‹æ¶ï¼š kubebuilder OperatorSDK è¯¥å®è·µä½¿ç”¨ kubebuilder æ¥å®Œæˆï¼Œå¯å‚è€ƒï¼š kubebuilder quick start ç¯å¢ƒä¿¡æ¯ï¼š go1.17.10 kubelet v1.19.4 docker 20.10.12 kubebuilder 3.4.0 kustomize v4.5.4 åˆå§‹åŒ–é¡¹ç›® kubebuilder init --domain example.com --repo demo.domain/demo-operator kubebuilder create api --group demo --version v1 --kind Demo ä¿®æ”¹api/v1/xxx_types.go make manifests ä¼šç”Ÿæˆå¯¹åº”çš„ crd yaml æ–‡ä»¶ ./ â”œâ”€â”€ ... â”œâ”€â”€ config ..Â â”œâ”€â”€ crd â”œâ”€â”€ bases â””â”€â”€ demo.example.com_demoes.yaml æ„å»º operator é•œåƒ docker build -t 904566722/kubebuilder-demo-operator:1.0.0 . docker push 904566722/kubebuilder-demo-operator:1.0.0 éƒ¨ç½² crd make install # $(KUSTOMIZE) build config/crd | kubectl apply -f - éƒ¨ç½² rbac ç›¸å…³ yaml kubectl apply -f config/rbac/ åˆ›å»º manager controller ä¿®æ”¹ image ä¸ºä¸Šé¢åˆ¶ä½œçš„ operator é•œåƒ kubectl apply -f config/manager/manager.yaml pod æˆåŠŸè¿è¡Œä¹‹åï¼Œåˆ›å»º cr å®ä¾‹ apiVersion: demo.example.com/v1 kind: Demo metadata: name: demo-sample spec: size: 19 type: demo config_map_name: demo kubectl apply -f config/samples/demo_v1_demo.yaml operator ç›‘å¬åˆ° Demo kind èµ„æºçš„åˆ›å»ºï¼Œå‡ºå‘ reconcileï¼š ","date":"2023-05-09","objectID":"/202305080937-operator/:3:0","series":["kubernetesåˆè¯†"],"tags":["operator"],"title":"operator","uri":"/202305080937-operator/#ä¸‰å®è·µ"},{"categories":["Kubernetes"],"content":" å‚è€ƒèµ„æ–™ Kubernetes Operator å¼€å‘æ•™ç¨‹ kustomizationç®¡ç†k8så¯¹è±¡ ","date":"2023-05-09","objectID":"/202305080937-operator/:0:0","series":["kubernetesåˆè¯†"],"tags":["operator"],"title":"operator","uri":"/202305080937-operator/#å‚è€ƒèµ„æ–™"},{"categories":["Golang"],"content":"#Golang åœ¨ä½¿ç”¨ for-range éå† string ä¸­æ¯ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œå–å‡ºæ¥çš„å€¼æ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿ func isAlienSorted(words []string, order string) bool { // é¦–å…ˆè¦å°† order é¡ºåºæ˜ å°„æˆæ•°å€¼ï¼Œæ¥åšæ¯”è¾ƒ orderNums := make(map[rune]int, len(order)) for i, ch := range order { fmt.Println(reflect.TypeOf(order[i])) // uint8 fmt.Printf(\"%c\", order[i]) fmt.Println(reflect.TypeOf(ch)) // int32 fmt.Printf(\"%c\", ch) orderNums[ch] = i } return false } å¯¹æ¯”ï¼šåœ¨éå†å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§è·å–å€¼çš„æ–¹å¼ï¼Œå¦‚ä¸Šé¢ä»£ç ä¸­çš„ chã€order[id]ï¼ˆç´¢å¼•çš„æ–¹å¼ï¼‰ ch å®é™…ä¸Šçš„ç±»å‹æ˜¯ int32ï¼ˆä¸ rune ç›¸åŒï¼Œåº”è¯¥æ˜¯è€ƒè™‘åˆ° string ä¸­å¦‚æœå­˜å‚¨äº†ä¸­æ–‡å­—ç¬¦ï¼Œèƒ½å¤Ÿç›´æ¥ä½¿ç”¨ â€œ%câ€ çš„è¡¨è¾¾å¼å°†è¿™ä¸ªä¸­æ–‡è¾“å‡ºï¼‰ order[i] å®é™…ä¸Šçš„ç±»å‹æ˜¯ uint8 ï¼ˆä¸ byte ç›¸åŒï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—ç¬¦çš„å¤§å°ï¼Œå ä¸€ä¸ªå­—èŠ‚ï¼Œä½†æ²¡æ³•è¾“å‡ºä¸­æ–‡å­—ç¬¦ï¼‰ ","date":"2023-05-09","objectID":"/202304231751-string-%E9%81%8D%E5%8E%86/:0:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["string","for range"],"title":"string éå†","uri":"/202304231751-string-%E9%81%8D%E5%8E%86/#"},{"categories":["Golang"],"content":"#Golang #struct ç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œç†Ÿæ‚‰ struct çš„ç®€å•ä½¿ç”¨ï¼š // ** struct practice type person struct { name string age int32 } func structPractice() { people := \u0026person{ name: \"ç´¢éš†ä¸å–é…’\", age: 20, } fmt.Println(people) // \u0026{ç´¢éš†ä¸å–é…’ 20} fmt.Println(*people) // {ç´¢éš†ä¸å–é…’ 20} fmt.Println(\u0026people) // 0x1400000e038 fmt.Printf(\"[value]\\tname:%s\\tage:%d\\n\", people.name, people.age) // [value] name:ç´¢éš†ä¸å–é…’ age:20 fmt.Printf(\"[value]\\tname:%s\\tage:%d\\n\", (*people).name, (*people).age) // [value] name:ç´¢éš†ä¸å–é…’ age:20 fmt.Printf(\"[addr]\\tname:%d\\tage:%d\\n\", \u0026people.name, \u0026people.age) // [addr] name:1374389584016 age:1374389584032 } struct å­˜åœ¨æ–¹æ³•é›†çš„æ¦‚å¿µï¼Œå³æ‰€å±äºä¸€ä¸ªç±»å‹çš„æ–¹æ³•çš„é›†åˆ 202304241738 struct æ–¹æ³•é›† ","date":"2023-05-09","objectID":"/202304241633-struct/:0:0","series":["Golangåˆè¯†"],"tags":["struct"],"title":"struct","uri":"/202304241633-struct/#"},{"categories":["Golang"],"content":"#Golang #struct Go è¯­è¨€ä¸­ struct å­˜åœ¨æ–¹æ³•é›†ï¼ˆmethod setï¼‰çš„æ¦‚å¿µï¼Œçœ‹ä¸‹é¢ä¸€æ®µä»£ç  type T struct { a int } func (t T) M1() { t.a++ } func (t *T) M2() { t.a++ } func structPractice2() { var t1 T var t2 = \u0026T{} fmt.Println(reflect.TypeOf(t1)) // T fmt.Println(reflect.TypeOf(t2)) // *T t1.M1() t1.M2() // (\u0026t1).M2() t2.M1() // (*t2).M1() t2.M2() } å˜é‡ ç±»å‹ æ–¹æ³•é›† t1 T {M1} t2 *T {M1,M2} é‚£ä¹ˆä¸ºä»€ä¹ˆ t1.M2() ä¸æŠ¥é”™ï¼Ÿ å¯ä»¥çœ‹åˆ° t1 çš„æ–¹æ³•é›†åªæœ‰ M1ï¼ŒM2æ–¹æ³•çš„æ¥æ”¶è€…ç±»å‹æ˜¯ *T ä½†æ˜¯ä¸ºä»€ä¹ˆ t1.M2() è¿™æ®µä»£ç ä¸æŠ¥é”™ï¼Œè¿™æ˜¯ç”±äº Go è¯­è¨€æä¾›çš„è¯­æ³•ç³–ï¼ŒGo çš„ç¼–è¯‘å™¨åˆ¤æ–­ t1 çš„ç±»å‹ä¸º Tï¼Œè·Ÿ M2 æ–¹æ³•çš„æ¥æ”¶è€…ä¸ä¸€è‡´ï¼Œè‡ªåŠ¨è½¬åŒ–æˆäº† (\u0026t1).M2()ï¼›åŒç†å¯è§£é‡Š t2.M1() é‚£ä¹ˆæ—¢ç„¶å­˜åœ¨è¿™æ ·çš„è¯­æ³•ç³–ï¼Œæ¥çœ‹çœ‹è¿™æ ·è°ƒç”¨æ˜¯ä¸æ˜¯å¯è¡Œçš„ï¼š T{}.M2() // Cannot call a pointer method on 'T{}' (\u0026T{}).M2()//OK (\u0026T{}).M1()//ok ä¼šç›´æ¥æŠ¥é”™ï¼šæ— æ³•é€šè¿‡ T{} æ¥è°ƒç”¨ä¸€ä¸ªæŒ‡é’ˆæ–¹æ³• åŸå› å…¶å®æ˜¯ä¸Šé¢æåˆ°çš„è¯­æ³•ç³–æœ‰ä¸€ä¸ªå‰æï¼š T ç±»å‹çš„å®ä¾‹ï¼Œéœ€è¦æ˜¯å¯è¢«å–åœ°å€çš„ï¼ˆaddressableï¼‰ ã€Šä¸ºä»€ä¹ˆè¿™ä¸ªTç±»å‹å®ä¾‹æ— æ³•è°ƒç”¨*Tç±»å‹çš„æ–¹æ³• | Tony Baiã€‹. è§äº 2023å¹´4æœˆ24æ—¥. https://tonybai.com/2022/02/27/go-addressable/. é¸Ÿçª. ã€Šgo addressable è¯¦è§£ã€‹, 2018å¹´2æœˆ27æ—¥. https://colobu.com/2018/02/27/go-addressable/. å´æ¶¦å†™å­—çš„åœ°æ–¹. ã€ŠGolang ä¸å¯å¯»å€çš„ç†è§£ã€‹, 2021å¹´11æœˆ12æ—¥. http://www.wu.run/2021/11/12/not-addressable-in-golang/index.html. ","date":"2023-05-09","objectID":"/202304241738-struct-%E6%96%B9%E6%B3%95%E9%9B%86/:0:0","series":["Golangä¸ºä»€ä¹ˆ"],"tags":["struct"],"title":"struct æ–¹æ³•é›†æ¦‚å¿µ","uri":"/202304241738-struct-%E6%96%B9%E6%B3%95%E9%9B%86/#"},{"categories":["Golang"],"content":"#Golang #unsafe æ¦‚å¿µï¼šPointer è¡¨ç¤ºä¸€ä¸ªæŒ‡é’ˆï¼Œå¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹ å››ä¸ªç‰¹æ®Šæ“ä½œï¼š ä»»ä½•ç±»å‹çš„æŒ‡é’ˆå€¼ å¯è½¬åŒ–ä¸º Pointer Pointer å¯è½¬åŒ–ä¸º ä»»ä½•ç±»å‹çš„æŒ‡é’ˆå€¼ uintptr å¯è½¬åŒ–ä¸º Pointer Pointer å¯è½¬åŒ–ä¸º uinptr ç”±äºä»¥ä¸Šå››ä¸ªç‰¹æ€§ï¼ŒPointer èƒ½å¤Ÿå®ç°è®©ç¨‹åºç»•è¿‡ç±»å‹ç³»ç»Ÿï¼Œè¯»å†™ä»»æ„å†…å­˜ï¼ˆä½¿ç”¨æ—¶éœ€æ ¼å¤–å°å¿ƒï¼‰ ","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:0:0","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#"},{"categories":["Golang"],"content":" ä¸‹é¢åˆ—ä¸¾ unsafe åŒ…ä¸­åˆ—ä¸¾çš„ unsafe.Pointer ä½¿ç”¨çš„å…­ç§åœºæ™¯","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:1:0","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#ä¸‹é¢åˆ—ä¸¾-unsafe-åŒ…ä¸­åˆ—ä¸¾çš„-unsafepointer-ä½¿ç”¨çš„å…­ç§åœºæ™¯"},{"categories":["Golang"],"content":" ï¼ˆ1ï¼‰*T1 â€“\u003e Pointer â€“\u003e *T2éœ€è¦æ»¡è¶³è¦æ±‚ï¼š T2 ä¸å¤§äº T1 T1ã€T2 å…±äº«ç›¸åŒçš„å†…å­˜å¸ƒå±€ (202304242150 å†…å­˜å¸ƒå±€) åˆ™è¿™ç§è½¬æ¢æ˜¯å…è®¸çš„ ä¾‹å­1. ä¸€ä¸ª float64 å€¼è½¬ä¸º uint64 çš„å€¼ func float64bits(f float64) uint64 { return *(*uint64)(unsafe.Pointer(\u0026f)) } å¦å¤–ä¸€ä¸ªä¾‹å­ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚åˆ‡ç‰‡ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨ 64 ä½ç³»ç»Ÿä¸­ä¸¤è€…çš„å°ºå¯¸ var s string var bs []byte fmt.Println(unsafe.Sizeof(s)) // 16 fmt.Println(unsafe.Sizeof(bs)) // 24 å­—ç¬¦ä¸² 16 å­—èŠ‚ å­—èŠ‚åˆ‡ç‰‡ 24 å­—èŠ‚ å­—ç¬¦ä¸²ä¸å­—èŠ‚åˆ‡ç‰‡çš„å†…å­˜å¸ƒå±€ç±»ä¼¼ï¼Œä¸”å­—èŠ‚åˆ‡ç‰‡çš„å°ºå¯¸ä¸å°äºå­—ç¬¦ä¸²çš„å°ºå¯¸ï¼Œå› æ­¤å°†å­—èŠ‚åˆ‡ç‰‡è½¬åˆ°å­—ç¬¦ä¸²æ˜¯å®‰å…¨çš„ï¼Œè®©æˆ‘ä»¬æ¥çœ‹å®ç°ï¼š func byteSlice2String(bs []byte) string { return *(*string)(unsafe.Pointer(\u0026bs)) } è¿™ç§å®ç°çš„ä¼˜ç‚¹æ˜¯é¿å…äº†åº•å±‚å¯¹å­—èŠ‚åºåˆ—çš„ä¸€æ¬¡å¼€è¾Ÿå’Œå¤åˆ¶ è€Œå¦‚æœè¦ç”¨æ­¤æ–¹å¼æ¥å®ç°ä» string åˆ° []byte åˆ™æ˜¯ä¸å®‰å…¨çš„ï¼š // è¿™ç§è½¬æ¢æ˜¯ä¸å®‰å…¨çš„ func string2Bytes(s string) []byte { return *(*[]byte)(unsafe.Pointer(\u0026s)) } ","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:1:1","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#1t1----pointer----t2"},{"categories":["Golang"],"content":" ï¼ˆ2ï¼‰Pointer â€“\u003e uintptr ï¼ˆç”¨é€”å°‘ï¼‰ä»æŒ‡é’ˆè½¬åˆ° uintptr ç±»å‹å®é™…ä¸Šäº§ç”Ÿäº†ä¸€ä¸ªæ²¡æœ‰æŒ‡é’ˆè¯­ä¹‰çš„æ•´æ•°ï¼ˆä»£è¡¨æŒ‡é’ˆæŒ‡å‘å€¼çš„å†…å­˜åœ°å€ï¼Œåªæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¸æ˜¯å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ï¼Œå†å°† uintptr è½¬å›æŒ‡é’ˆæ˜¯æ— æ•ˆçš„ï¼Œé€šå¸¸çš„ç”¨æ³•æ˜¯å°†è¿™ä¸ª uintptr æ‰“å°å‡ºæ¥ å³ä½¿uintpträ¿å­˜äº†æŸä¸ªå¯¹è±¡çš„åœ°å€ï¼Œå¦‚æœå¯¹è±¡ç§»åŠ¨ï¼Œåƒåœ¾æ”¶é›†å™¨ä¹Ÿä¸ä¼šæ›´æ–°è¯¥uintptrçš„å€¼ï¼Œä¹Ÿä¸ä¼šé˜»æ­¢è¯¥å¯¹è±¡è¢«å›æ”¶ ä¸‹é¢çš„æƒ…å†µè¯´æ˜äº†ä» uintptr è½¬åˆ° Pointer çš„å¯èƒ½åœºæ™¯ ","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:1:2","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#2pointer----uintptr-ç”¨é€”å°‘"},{"categories":["Golang"],"content":" ï¼ˆ3ï¼‰ç®—æ•°è¿ç®— ï¼ˆPointer â€“\u003e uintptr â€“\u003e è¿ç®— â€“\u003e Pointerï¼‰è¿™ç§æ“ä½œé€šå¸¸æ˜¯ç”¨æ¥è®¿é—®ï¼š ç»“æ„çš„å­—æ®µ æ•°ç»„çš„å…ƒç´  ä¸€ä¸ªä¾‹å­ï¼š // ** é€šè¿‡ uintptr æ¥è®¿é—®ç»“æ„ä¸­çš„å­—æ®µã€æ•°ç»„çš„å…ƒç´  ** type T struct { a int16 arr [3]int32 } func uintptr2PointerPractice() { // unsafe.Sizeof(T{}.a) // 2 M := unsafe.Offsetof(T{}.arr) // 4 N := unsafe.Sizeof(T{}.arr[0]) // 4 fmt.Println(unsafe.Sizeof(T{}.a)) // 2 fmt.Println(unsafe.Sizeof(T{}.arr)) // 3 * 4 = 12 fmt.Println(unsafe.Sizeof(T{})) // 16 t := \u0026T{ arr: [3]int32{1, 2, 3}, } // ç›´æ¥è®¿é—® t.arr çš„æœ€åä¸€ä¸ªå…ƒç´  tp := unsafe.Pointer(t) // å…ˆå°† t è½¬ä¸ºéå®‰å…¨æŒ‡é’ˆ // å°† uintptr è¿›è¡Œç®—æ•°è¿ç®—åå†è½¬ä¸ºéå®‰å…¨æŒ‡é’ˆ arrp := unsafe.Pointer(uintptr(tp) + M + N + N) // å°†éå®‰å…¨æŒ‡é’ˆè½¬ä¸ºæ•°ç»„å…ƒç´ ç±»å‹æŒ‡é’ˆ ans := (*int32)(arrp) // ans := (*int32)(unsafe.Pointer(uintptr(tp) + M + N + N)) fmt.Println(*ans) // output: 3 } ç‰¹åˆ«æ³¨æ„åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šå‘ç”Ÿçš„å¾ˆéšç§˜çš„ bugï¼š func uintptr2PointerPractice2() { // unsafe.Sizeof(T{}.a) // 2 M := unsafe.Offsetof(T{}.arr) // 4 N := unsafe.Sizeof(T{}.arr[0]) // 4 t := T{ arr: [3]int32{1, 2, 3}, } uptr := uintptr(unsafe.Pointer(\u0026t)) + M + N + N // ä¸­é—´å…¶ä»–æ“ä½œ elemP := (*int32)(unsafe.Pointer(uptr)) fmt.Println(*elemP) // output: 3 } å‰é¢æåˆ°äº†ï¼Œè™½ç„¶ uintptr ä¿å­˜äº† t çš„åœ°å€çš„å€¼ï¼Œä½†æ˜¯å¹¶ä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶æœºåˆ¶å°† t å›æ”¶ï¼Œæ‰€ä»¥åœ¨ä¸­é—´å…¶ä»–æ“ä½œçš„æ—¶å€™ï¼Œä¸€æ—¦ t è¢«å›æ”¶ï¼Œåé¢çš„åœ°å€å°†æŒ‡å‘ä¸å¯é¢„æµ‹çš„å†…å®¹ã€‚ å®é™…ä¸Šï¼Œåƒ Goland ç¼–ç å·¥å…·åœ¨ç¼–ç çš„æ—¶å€™å°±ä¼šç»™å‡ºæç¤ºï¼š ","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:1:3","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#3ç®—æ•°è¿ç®—-pointer----uintptr----è¿ç®—----pointer"},{"categories":["Golang"],"content":" ï¼ˆ4ï¼‰Pointer â€“\u003e uintptr â€“\u003e syscallåœ¨ syscall ç³»ç»Ÿè°ƒç”¨ä¸­ï¼Œå¯èƒ½ä¼šæ ¹æ®è°ƒç”¨çš„å…·ä½“å®ç°å°† uintptr é‡æ–°è½¬ä¸ºæŒ‡é’ˆ æ³¨æ„ï¼šè½¬æ¢å¿…é¡»åœ¨è°ƒç”¨çš„è¡¨è¾¾å¼ä¸­å‡ºç°ï¼Œåœ¨ç³»ç»Ÿè°ƒç”¨æœŸé—´éšå¼è½¬æ¢ä¸ºæŒ‡é’ˆä¹‹å‰ï¼Œuintptr ä¸èƒ½ä¿å­˜åœ¨å˜é‡ä¸­ æ­£ç¡®ï¼š syscall.Syscall(SYS_READ, uintptr(fd), uintptr(unsafe.Pointer(p)), uintptr(n)) é”™è¯¯ u := uintptr(unsafe.Pointer(p)) // p æ‰€å¼•ç”¨çš„å¯¹è±¡å¯èƒ½åœ¨è¿™ä¸ªæ—¶å€™è¢«åƒåœ¾å›æ”¶ï¼Œæˆ–è€… p çš„åœ°å€å‘ç”Ÿæ”¹å˜ syscall.Syscall(SYS_READ, uintptr(fd), u, uintptr(n)) ","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:1:4","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#4pointer----uintptr----syscall"},{"categories":["Golang"],"content":" ï¼ˆ5ï¼‰å°† reflect.Value.Pointer æˆ–è€… reflect.Value.UnsafeAddr çš„ç»“æœä» uintptr è½¬åˆ° Pointer","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:1:5","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#5å°†-reflectvaluepointer-æˆ–è€…-reflectvalueunsafeaddr-çš„ç»“æœä»-uintptr-è½¬åˆ°-pointer"},{"categories":["Golang"],"content":" ï¼ˆ6ï¼‰å°†ä¸€ä¸ªreflect.SliceHeaderæˆ–è€…reflect.StringHeaderå€¼çš„Dataå­—æ®µè½¬æ¢ä¸ºéç±»å‹å®‰å…¨æŒ‡é’ˆï¼Œä»¥åŠå…¶é€†è½¬æ¢é¦–å…ˆæˆ‘ä»¬æ¥çœ‹reflect.SliceHeader å’Œ reflect.StringHeader çš„å®šä¹‰ï¼š // StringHeaderæ˜¯å­—ç¬¦ä¸²çš„è¿è¡Œæ—¶è¡¨ç¤ºå½¢å¼ã€‚ // å®ƒä¸èƒ½å®‰å…¨æˆ–å¯ç§»æ¤åœ°ä½¿ç”¨ï¼Œå¹¶ä¸”å®ƒçš„è¡¨ç¤ºå¯èƒ½åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­æ›´æ”¹ã€‚ // æ­¤å¤–ï¼ŒDataå­—æ®µä¸è¶³ä»¥ä¿è¯å®ƒå¼•ç”¨çš„æ•°æ®ä¸ä¼šè¢«åƒåœ¾æ”¶é›†ï¼Œ // å› æ­¤ç¨‹åºå¿…é¡»ä¿ç•™ä¸€ä¸ªå•ç‹¬çš„ã€ç±»å‹æ­£ç¡®çš„æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆã€‚ type StringHeader struct { Data uintptr Len int } // SliceHeaderæ˜¯åˆ‡ç‰‡çš„è¿è¡Œæ—¶è¡¨ç¤ºã€‚ // å®ƒä¸èƒ½å®‰å…¨æˆ–å¯ç§»æ¤åœ°ä½¿ç”¨ï¼Œå¹¶ä¸”å®ƒçš„è¡¨ç¤ºå¯èƒ½åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­æ›´æ”¹ã€‚ // æ­¤å¤–ï¼ŒDataå­—æ®µä¸è¶³ä»¥ä¿è¯å®ƒå¼•ç”¨çš„æ•°æ®ä¸ä¼šè¢«åƒåœ¾æ”¶é›†ï¼Œ // å› æ­¤ç¨‹åºå¿…é¡»ä¿ç•™ä¸€ä¸ªå•ç‹¬çš„ã€ç±»å‹æ­£ç¡®çš„æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆã€‚ type SliceHeader struct { Data uintptr Len int Cap int } ä¸€ä¸ªä½¿ç”¨ StringHeader çš„ä¾‹å­ï¼š func uintptrPractice4() { a := [...]byte{'a', 'b', 'c', 'd', 'e'} b := \"java\" hdr := (*reflect.StringHeader)(unsafe.Pointer(\u0026b)) hdr.Data = uintptr(unsafe.Pointer(\u0026a)) hdr.Len = len(a) // è‡³æ­¤ï¼Œa å’Œ b å…±äº«åº•å±‚çš„å­—èŠ‚åºåˆ— a[1], a[2], a[3], a[4] = 'a', 'a', 'a', 'a' fmt.Println(b) // out: aaaaa } å°†å­—ç¬¦ä¸²æŒ‡é’ˆè½¬ä¸º*StringHeaderï¼Œä»è€Œå¯ä»¥å¯¹å­—ç¬¦ä¸²çš„å†…éƒ¨è¿›è¡Œä¿®æ”¹ ","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:1:6","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#6å°†ä¸€ä¸ªreflectsliceheaderæˆ–è€…reflectstringheaderå€¼çš„dataå­—æ®µè½¬æ¢ä¸ºéç±»å‹å®‰å…¨æŒ‡é’ˆä»¥åŠå…¶é€†è½¬æ¢"},{"categories":["Golang"],"content":" æ€»ç»“ä¸‹ uintptr å’Œ Pointer çš„åŒºåˆ« Pointerï¼šé€šç”¨ç±»å‹æŒ‡é’ˆï¼Œä¸å¯ä»¥å‚ä¸æŒ‡é’ˆè¿ç®— uintptrï¼šç”¨äºæŒ‡é’ˆè¿ç®—ï¼Œä¸æŒæœ‰å¯¹è±¡ï¼Œä¼šè¢«åƒåœ¾å›æ”¶ ã€Šéç±»å‹å®‰å…¨æŒ‡é’ˆ -Goè¯­è¨€101ã€‹. è§äº 2023å¹´4æœˆ25æ—¥. https://gfw.go101.org/article/unsafe.html. ","date":"2023-05-09","objectID":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/:2:0","series":["Golangæºç å­¦ä¹ "],"tags":["unsafeåŒ…"],"title":"unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯","uri":"/202304241708-unsafe.pointer-%E7%9A%84%E5%85%AD%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/#æ€»ç»“ä¸‹-uintptr-å’Œ-pointer-çš„åŒºåˆ«"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• é€’å½’èƒ½å¤Ÿè§£å†³çš„é—®é¢˜çš„ç‰¹ç‚¹ï¼š åŸé—®é¢˜èƒ½å¤Ÿåˆ†è§£æˆä¸€ä¸ªæ›´å°çš„ä¸åŸé—®é¢˜è§£å†³æ€è·¯ç›¸åŒçš„å­é—®é¢˜ é€’å½’çš„æ­¥éª¤ï¼š æ‹†åˆ†é—®é¢˜ï¼Œæ‰¾ä½¿ç”¨å­é—®é¢˜è§£å†³åŸé—®é¢˜çš„æ–¹æ³•ï¼ˆåŸé—®é¢˜ä¸å­é—®é¢˜çš„å…³ç³»ï¼‰ æ‰¾å­é—®é¢˜çš„è§£å†³æ–¹æ³•ï¼Œå½“ä¸åŸé—®é¢˜çš„è§£å†³æ–¹æ³•ä¸€è‡´ï¼Œä¾¿èƒ½å¤Ÿé€’å½’ ç»“æŸçš„æ¡ä»¶ æ—¶é—´å¤æ‚åº¦ å¯ä»¥å°†ç¼–ç çš„è¿‡ç¨‹æ€»ç»“ä¸ºï¼š 1. å®šä¹‰æ–¹æ³• 2. å†™æ˜ç»“æŸæ¡ä»¶ 3. æ ¹æ®åŸé—®é¢˜ã€å­é—®é¢˜ä¹‹é—´çš„é€»è¾‘å…³ç³»å†™ä¸»è¦çš„é€’å½’é€»è¾‘ é€’å½’å­˜åœ¨çš„é—®é¢˜ï¼š æ ˆæº¢å‡º é‡å¤è®¡ç®— ","date":"2023-05-09","objectID":"/202304300007-%E9%80%92%E5%BD%92/:0:0","series":["ç®—æ³•"],"tags":[],"title":"é€’å½’","uri":"/202304300007-%E9%80%92%E5%BD%92/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/:0:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"äºŒå‰æœç´¢æ ‘","uri":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" äºŒå‰æœç´¢æ ‘æ ‘æ¦‚è¿°äºŒå‰æœç´¢æ ‘ï¼šå·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ \u003c æ ¹èŠ‚ç‚¹ \u003c å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ äºŒå‰æœç´¢æ ‘çš„ç›¸å…³æ“ä½œï¼š æ„å»º åˆ¤æ–­ åˆ é™¤èŠ‚ç‚¹ å¢åŠ èŠ‚ç‚¹ ","date":"2023-05-09","objectID":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/:1:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"äºŒå‰æœç´¢æ ‘","uri":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/#äºŒå‰æœç´¢æ ‘æ ‘æ¦‚è¿°"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ç›¸å…³æ“ä½œ","date":"2023-05-09","objectID":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/:2:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"äºŒå‰æœç´¢æ ‘","uri":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/#ç›¸å…³æ“ä½œ"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" åˆ¤æ–­æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘é€’å½’å®ç° //Â é€’å½’å®ç° //Â ä»äºŒå‰æœç´¢æ ‘å½“å‰èŠ‚ç‚¹çš„å€¼å¯ä»¥æ¨å‡ºå·¦å³èŠ‚ç‚¹çš„å–å€¼åŒºé—´ï¼Œé€’å½’åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹å³å¯ funcÂ isValidBST(rootÂ *TreeNode)Â boolÂ { ifÂ rootÂ ==Â nilÂ { returnÂ true } returnÂ jud(root,Â math.MinInt,Â math.MaxInt) } funcÂ jud(rootÂ *TreeNode,Â start,Â endÂ int)Â boolÂ { ifÂ rootÂ ==Â nilÂ { returnÂ true } ifÂ root.ValÂ \u003c=Â startÂ ||Â root.ValÂ \u003e=Â endÂ { returnÂ false } returnÂ jud(root.Left,Â start,Â root.Val)Â \u0026\u0026Â jud(root.Right,Â root.Val,Â end) } ","date":"2023-05-09","objectID":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/:2:1","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"äºŒå‰æœç´¢æ ‘","uri":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/#åˆ¤æ–­æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ’å…¥èŠ‚ç‚¹é€’å½’å®ç° func insertIntoBST(root *TreeNode, val int) *TreeNode { if root == nil { return \u0026TreeNode{ Val: val, } } if val \u003c root.Val { root.Left = insertIntoBST(root.Left, val) } else { root.Right = insertIntoBST(root.Right, val) } return root } éé€’å½’å®ç° func insertIntoBST2(root *TreeNode, val int) *TreeNode { if root == nil { return \u0026TreeNode{ Val: val, } } pre := root tmpRoot := root for tmpRoot != nil { if val \u003c tmpRoot.Val { pre = tmpRoot tmpRoot = tmpRoot.Left } else { pre = tmpRoot tmpRoot = tmpRoot.Right } } newNode := \u0026TreeNode{Val: val} if val \u003c pre.Val { pre.Left = newNode } else { pre.Right = newNode } return root } ","date":"2023-05-09","objectID":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/:2:2","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"äºŒå‰æœç´¢æ ‘","uri":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/#æ’å…¥èŠ‚ç‚¹"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" åˆ é™¤èŠ‚ç‚¹ // å¦‚æœæ‰¾åˆ°è¯¥èŠ‚ç‚¹ï¼Œæœ‰å››ç§æƒ…å†µï¼š // æ²¡æœ‰å·¦èŠ‚ç‚¹ï¼Œç›´æ¥å°†å³å­æ ‘ä»£æ›¿è¯¥èŠ‚ç‚¹çš„ä½ç½® // æ²¡æœ‰å³èŠ‚ç‚¹ï¼Œç›´æ¥å°†å·¦å­æ ‘ä»£æ›¿è¯¥èŠ‚ç‚¹çš„ä½ç½® // å‡æœ‰å·¦å³èŠ‚ç‚¹ï¼Œæ ¹æ®ä¸­åºèŠ‚ç‚¹çš„æ€§è´¨ï¼Œå½“å‰çš„åºåˆ—ä¸ºï¼šå·¦å­æ ‘ã€å½“å‰èŠ‚ç‚¹ã€å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ // åˆ é™¤å½“å‰èŠ‚ç‚¹ä¹‹åï¼Œä¸ºäº†ä¿æŒä¸­åºï¼Œéœ€è¦å°†å·¦å­æ ‘å«æ¥åˆ°å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œç„¶åå°†å³å­æ ‘çš„æ ¹èŠ‚ç‚¹æ›¿æ¢å½“å‰èŠ‚ç‚¹çš„ä½ç½® // å‡æ²¡æœ‰å·¦å³èŠ‚ç‚¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰ï¼Œç›´æ¥åˆ é™¤è¯¥èŠ‚ç‚¹ func deleteNode(root *TreeNode, key int) *TreeNode { if root == nil { return nil } var curParent *TreeNode = nil cur := root for cur != nil \u0026\u0026 cur.Val != key { curParent = cur if key \u003c cur.Val { cur = cur.Left } else { cur = cur.Right } } // not found if cur == nil { return root } if cur.Left != nil \u0026\u0026 cur.Right != nil { rightMinNode := cur.Right for rightMinNode.Left != nil { rightMinNode = rightMinNode.Left } rightMinNode.Left = cur.Left cur = cur.Right } else if cur.Left != nil { cur = cur.Left } else if cur.Right != nil { cur = cur.Right } else { cur = nil } if curParent == nil { return cur } if curParent.Left != nil \u0026\u0026 curParent.Left.Val == key { curParent.Left = cur } else { curParent.Right = cur } return root } ","date":"2023-05-09","objectID":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/:2:3","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"äºŒå‰æœç´¢æ ‘","uri":"/202305040442-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/#åˆ é™¤èŠ‚ç‚¹"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202304300231-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/:0:0","series":["ç®—æ³•"],"tags":[],"title":"å½’å¹¶æ’åº","uri":"/202304300231-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å½’å¹¶æ’åºçš„æ€æƒ³å½’å¹¶æ’åºæ˜¯ä¸€ç§é‡‡ç”¨äº†é€’å½’æ€æƒ³çš„æ’åºï¼Œé‡‡ç”¨é€’å½’[[202304300007 é€’å½’]]çš„æ€æƒ³æ¥åˆ†æå°±æ˜¯ï¼š åŸé—®é¢˜ \u0026 è§£å†³æ–¹æ³• åŸé—®é¢˜ï¼šå°† nums æ’åº è§£å†³åŠæ³•ï¼šå°†æ•°ç»„ nums åˆ†æˆä¸¤ä¸ªåºåˆ— nums1ã€nums2ï¼Œå°† nums1ã€nums2 æ’åºååˆå¹¶ å­é—®é¢˜ \u0026 è§£å†³æ–¹æ³• å­é—®é¢˜ï¼šå°† nums1ã€nums2 æ’åº è§£å†³åŠæ³•ï¼šä¸¤ä¸ªå­æ•°ç»„éƒ½èƒ½å¤Ÿé€šè¿‡åŸé—®é¢˜çš„è§£å†³åŠæ³•è§£å†³ ç»“æŸæ¡ä»¶ï¼šå½“æ•°ç»„ä¸èƒ½å†åˆ’åˆ†ï¼ˆé•¿åº¦=1ï¼‰ æ—¶é—´å¤æ‚åº¦ï¼š åˆå¹¶çš„å¹³å‡æ—¶é—´å¤æ‚åº¦O(n) x æ‹†åˆ†çš„æ·±åº¦ logn = O(nlogn) ","date":"2023-05-09","objectID":"/202304300231-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/:1:0","series":["ç®—æ³•"],"tags":[],"title":"å½’å¹¶æ’åº","uri":"/202304300231-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/#å½’å¹¶æ’åºçš„æ€æƒ³"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å®ç°Golangï¼š // 1. å®šä¹‰æ–¹æ³•ï¼šå°†å·¦å³ä¸¤ä¸ªå·²ç»æœ‰åºçš„åºåˆ—åˆå¹¶æˆä¸€ä¸ªåºåˆ—ï¼ˆåŸé—®é¢˜å¾—è§£ï¼šåŸæ•°ç»„æœ‰åºï¼‰ // 2. å­é—®é¢˜ï¼šå·¦å³çš„æ•°ç»„éœ€è¦æœ‰åºï¼Œä¸åŸé—®é¢˜è§£å†³æ–¹æ³•ç›¸åŒ // 3. ç»“æŸæ¡ä»¶ï¼šæ•°ç»„çš„é•¿åº¦ä¸º 1 func mergeSort(nums []int) []int { // ç»“æŸæ¡ä»¶ if len(nums) \u003c= 1 { return nums } // å­é—®é¢˜å…³ç³» mid := len(nums) / 2 left := mergeSort(nums[:mid]) right := mergeSort(nums[mid:]) // æ–¹æ³•å®šä¹‰ return merge(left, right) } // å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶ func merge(nums1, nums2 []int) []int { n1, n2 := len(nums1), len(nums2) nums := make([]int, n1 + n2) i, j, idx := 0, 0, 0 for i \u003c n1 \u0026\u0026 j \u003c n2 { if nums1[i] \u003c nums2[j] { nums[idx] = nums1[i] i++ } else { nums[idx] = nums2[j] j++ } idx++ } for ; i \u003c n1; i++ { nums[idx] = nums1[i] idx++ } for ; j \u003c n2; j++ { nums[idx] = nums2[j] idx++ } return nums } 1.ã€Šå›¾è§£æ’åºç®—æ³•(å››)ä¹‹å½’å¹¶æ’åº - dreamcatcher-cx - åšå®¢å›­ã€‹. è§äº 2023å¹´4æœˆ30æ—¥. https://www.cnblogs.com/chengxiao/p/6194356.html. ","date":"2023-05-09","objectID":"/202304300231-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/:2:0","series":["ç®—æ³•"],"tags":[],"title":"å½’å¹¶æ’åº","uri":"/202304300231-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/#å®ç°"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/:0:0","series":["ç®—æ³•"],"tags":[],"title":"åç¼€æ•°ç»„ä¸SA-ISç®—æ³•","uri":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸€ã€åç¼€æ•°ç»„æ¦‚å¿µï¼šå°† s çš„æ‰€æœ‰åç¼€æ’åºåçš„æ•°ç»„ è§ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­ï¼š ","date":"2023-05-09","objectID":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/:1:0","series":["ç®—æ³•"],"tags":[],"title":"åç¼€æ•°ç»„ä¸SA-ISç®—æ³•","uri":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/#ä¸€åç¼€æ•°ç»„"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" åœ¨ Go ä¸­è·å¾—åç¼€æ•°ç»„çš„æ–¹æ³• type Index struct { _ []byte sa []int32 } func lastSubstring3(s string) string { index := suffixarray.New([]byte(s)) idx := (*Index)(unsafe.Pointer(index)) fmt.Println(idx.sa) // s=\"aabaaaab\" output:[3 4 5 0 6 1 7 2] return \"\" } æ€è€ƒï¼š unsafe.Pointer çš„ä½¿ç”¨ (202304241708 unsafe.Pointer çš„å…­ç§ä½¿ç”¨åœºæ™¯) ä¸ºä»€ä¹ˆæ˜¯ (*Index) è¿™æ ·çš„å†™æ³•ï¼Ÿ é¡ºä¾¿å¤ä¹ ä¸‹ struct ç»“æ„ä½“ï¼ˆ202304241633 structï¼‰ ","date":"2023-05-09","objectID":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/:1:1","series":["ç®—æ³•"],"tags":[],"title":"åç¼€æ•°ç»„ä¸SA-ISç®—æ³•","uri":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/#åœ¨-go-ä¸­è·å¾—åç¼€æ•°ç»„çš„æ–¹æ³•"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" äºŒã€SA-IS ç®—æ³•æ¦‚å¿µï¼šï¼ˆSuffix Array Induce Sortï¼›SA-ISï¼‰ todo å‚è€ƒèµ„æ–™ï¼š ã€Šè¯±å¯¼æ’åºä¸SA-ISç®—æ³• - riteme.siteã€‹. è§äº 2023å¹´4æœˆ24æ—¥. https://riteme.site/blog/2016-6-19/sais.html. ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°åç¼€æ•°ç»„ä»¥åŠSA-ISç®—æ³•æ˜¯åœ¨leetcodeæ¯æ—¥ä¸€é¢˜ï¼ˆ1163.æŒ‰å­—å…¸åºæ’åœ¨æœ€åçš„å­—ä¸²ï¼‰ä¸­ ","date":"2023-05-09","objectID":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/:2:0","series":["ç®—æ³•"],"tags":[],"title":"åç¼€æ•°ç»„ä¸SA-ISç®—æ³•","uri":"/202304241453-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%E4%B8%8Esa-is%E7%AE%97%E6%B3%95/#äºŒsa-is-ç®—æ³•"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• å¤ä¹ ä¸€ä¸‹åŸºæœ¬çš„æ’åºç®—æ³• æœ‰å‡ ç§åŸºæœ¬çš„æ’åºç®—æ³•ï¼š å†’æ³¡æ’åº é€‰æ‹©æ’åº æ’å…¥æ’åº å¸Œå°”æ’åºï¼ˆé€’å‡å¢é‡çš„æ’åºï¼›æ’å…¥æ’åºçš„æ”¹è¿›ç‰ˆæœ¬ï¼‰ å½’å¹¶æ’åº å¿«é€Ÿæ’åº æ¡¶æ’åº å †æ’åº è®¡æ•°æ’åº åŸºæ•°æ’åº ","date":"2023-05-09","objectID":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:0:0","series":["ç®—æ³•"],"tags":[],"title":"åŸºæœ¬çš„æ’åºç®—æ³•","uri":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸€ã€å†’æ³¡æ­¥éª¤ï¼š ä¸€ç›´å¾€å‰èµ°ï¼Œæ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªæ•°ï¼Œå¤§æ•°å¾€åæ”¾ func bubbleSort(nums []int) { if len(nums) \u003c= 1 { return } // nums: 6 10 2 4 7 3 2 1 2 // loop1 j (loop2æ¯è¿›è¡Œä¸€è½®å¾€å‰ç§»ï¼Œç›´åˆ°1) // loop2 i for j := len(nums)-1; j \u003e= 1; j--{ for i := 0; i \u003c j; i++ { if nums[i] \u003e nums[i+1] { swap(\u0026nums[i], \u0026nums[i+1]) } } } } æ—¶é—´å¤æ‚åº¦åˆ†æï¼šO(n^2) ç¬¬ä¸€è½®æ¯”è¾ƒ n-1 æ¬¡ ç¬¬äºŒè½®æ¯”è¾ƒ n-2 æ¬¡ â€¦. ç¬¬n-1è½®æ¯”è¾ƒ 1 æ¬¡ 1 + 2 + â€¦ + (n-1) = n (n-1 + 1) / 2 ","date":"2023-05-09","objectID":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:1:0","series":["ç®—æ³•"],"tags":[],"title":"åŸºæœ¬çš„æ’åºç®—æ³•","uri":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#ä¸€å†’æ³¡"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" äºŒã€é€‰æ‹©æ’åºæ­¥éª¤ï¼š æ¯æ¬¡ä»æœªæ’åºæ‰¾æœ€å° func selectSort(nums []int) { for i := 0; i \u003c len(nums)-1; i++ { minIdx := i for j := i+1; j \u003c len(nums); j++ { if nums[j] \u003c nums[i] { minIdx = j } } swap(\u0026nums[i], \u0026nums[minIdx]) } } æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(n^2) ","date":"2023-05-09","objectID":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:2:0","series":["ç®—æ³•"],"tags":[],"title":"åŸºæœ¬çš„æ’åºç®—æ³•","uri":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#äºŒé€‰æ‹©æ’åº"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸‰ã€æ’å…¥æ’åºæ­¥éª¤ï¼š ä»å·²æ’åºæ‰¾åˆé€‚çš„ä½ç½® func insertSort(nums []int) { // nums 1 2 5 3 4 // i (iæå…¶å³è¾¹ä¸ºä¸€ä¸ª æœªæ’åºçš„åºåˆ—) // j=i-1 (j è´Ÿè´£å¾€å‰æ‰¾å¤§äºç­‰äºcurçš„å€¼) for i := 1; i \u003c len(nums); i++ { cur := nums[i] j := i-1 for ; j\u003e=0 \u0026\u0026 nums[j]\u003ecur; j-- { nums[j+1] = nums[j] } // ç”±äº j å½“å‰çš„ä½ç½®å°äºæˆ–è€…ç­‰äºcur or è¶Šç•Œ // æ•…æŠŠå‰é¢ä¸€ä¸ªä½ç½®ï¼Œç»™åˆ°curï¼ˆå‰é¢çš„æ•°å·²ç»å¾€å‰å‰çš„ä½ç½®ç§»åŠ¨ï¼‰ nums[j+1] = cur } } ","date":"2023-05-09","objectID":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:3:0","series":["ç®—æ³•"],"tags":[],"title":"åŸºæœ¬çš„æ’åºç®—æ³•","uri":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#ä¸‰æ’å…¥æ’åº"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å››ã€å½’å¹¶æ’åº202304300231 å½’å¹¶æ’åº ","date":"2023-05-09","objectID":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:4:0","series":["ç®—æ³•"],"tags":[],"title":"åŸºæœ¬çš„æ’åºç®—æ³•","uri":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#å››å½’å¹¶æ’åº"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" äº”ã€å¿«é€Ÿæ’åº202304300312 å¿«é€Ÿæ’åº ","date":"2023-05-09","objectID":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:5:0","series":["ç®—æ³•"],"tags":[],"title":"åŸºæœ¬çš„æ’åºç®—æ³•","uri":"/202304291858-%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#äº”å¿«é€Ÿæ’åº"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":"#ChatGPT ","date":"2023-05-09","objectID":"/202305070218-%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%BB%80%E4%B9%88%E5%B9%B3%E5%8F%B0%E4%B8%8A%E4%BD%BF%E7%94%A8-openai/:0:0","series":["ChatGPT"],"tags":["jupyter"],"title":"å¯ä»¥åœ¨ä»€ä¹ˆå¹³å°ä¸Šä½¿ç”¨ openai","uri":"/202305070218-%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%BB%80%E4%B9%88%E5%B9%B3%E5%8F%B0%E4%B8%8A%E4%BD%BF%E7%94%A8-openai/#"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" ä¸€ã€ä½¿ç”¨ jupyter notebookå‰ç½®ï¼š å®‰è£… python å®‰è£… jupyter notebook åŠ è½½ç¯å¢ƒã€å®šä¹‰æ–¹æ³•ï¼š import openai import os from dotenv import load_dotenv, find_dotenv _ = load_dotenv(find_dotenv()) openai.api_key = 'sk-xxxxx' def get_completion(prompt, model=\"gpt-3.5-turbo\"): messages = [{\"role\": \"user\", \"content\": prompt}] response = openai.ChatCompletion.create( model=model, messages=messages, temperature=0, # this is the degree of randomness of the model's output ) return response.choices[0].message[\"content\"] ä½¿ç”¨æ—¶ä¼ å…¥ prompt å‚æ•°ï¼š prompt = f\"\"\" She no went to the market ä¸Šé¢è¿™å¥è‹±æ–‡å­˜åœ¨ä»€ä¹ˆæ ·çš„è¯­æ³•é”™è¯¯ \"\"\" response = get_completion(prompt) print(response) æ•ˆæœï¼š åœ¨çº¿æ¼”ç¤ºï¼šhttps://learn.deeplearning.ai/chatgpt-prompt-eng/lesson/2/guidelines ","date":"2023-05-09","objectID":"/202305070218-%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%BB%80%E4%B9%88%E5%B9%B3%E5%8F%B0%E4%B8%8A%E4%BD%BF%E7%94%A8-openai/:1:0","series":["ChatGPT"],"tags":["jupyter"],"title":"å¯ä»¥åœ¨ä»€ä¹ˆå¹³å°ä¸Šä½¿ç”¨ openai","uri":"/202305070218-%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%BB%80%E4%B9%88%E5%B9%B3%E5%8F%B0%E4%B8%8A%E4%BD%BF%E7%94%A8-openai/#ä¸€ä½¿ç”¨-jupyter-notebook"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/:0:0","series":["ç®—æ³•"],"tags":[],"title":"å¿«é€Ÿæ’åº","uri":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å¿«é€Ÿæ’åºçš„æ€æƒ³å¿«é€Ÿæ’åºé‡‡ç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼Œå¯ä»¥é€šè¿‡é€’å½’æ¥å®ç° ","date":"2023-05-09","objectID":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/:1:0","series":["ç®—æ³•"],"tags":[],"title":"å¿«é€Ÿæ’åº","uri":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/#å¿«é€Ÿæ’åºçš„æ€æƒ³"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ­¥éª¤ åŸé—®é¢˜ \u0026 è§£å†³åŠæ³• åŸé—®é¢˜ï¼šnums æ•°ç»„æ’åº è§£å†³åŠæ³•ï¼šé€‰ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œå°†å°äºåŸºå‡†çš„æ•°æ”¾åˆ°å·¦è¾¹ï¼Œå¤§äºåŸºå‡†çš„æ•°æ”¾åˆ°å³è¾¹ï¼ˆåˆ†åŒºé—´ï¼‰ å­é—®é¢˜ \u0026 è§£å†³åŠæ³• å­é—®é¢˜ï¼šå·¦å³åŒºé—´çš„æ’åº è§£å†³åŠæ³•ï¼šåŒåŸé—®é¢˜ ç»“æŸæ¡ä»¶ï¼šæ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´  ","date":"2023-05-09","objectID":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/:2:0","series":["ç®—æ³•"],"tags":[],"title":"å¿«é€Ÿæ’åº","uri":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/#æ­¥éª¤"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å®ç° // nums æ•°ç»„æ’åº func quickSort(nums []int, start, end int) { // ç»“æŸæ¡ä»¶ if start \u003e= end { return } // å­é—®é¢˜å…³ç³» pivot := partition(nums, start, end) quickSort(nums, start, pivot) quickSort(nums, pivot+1, end) return } func partition(nums []int, start, end int) int { if start == end { } pivot := start idx := start + 1 for i := start+1; i \u003c= end; i++ { if nums[i] \u003c nums[pivot] { swap(\u0026nums[i], \u0026nums[idx]) idx++ } } swap(\u0026nums[pivot], \u0026nums[idx-1]) return idx-1 } ã€Š1.6 å¿«é€Ÿæ’åº | èœé¸Ÿæ•™ç¨‹ã€‹. è§äº 2023å¹´4æœˆ30æ—¥. https://www.runoob.com/w3cnote/quick-sort-2.html. ","date":"2023-05-09","objectID":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/:3:0","series":["ç®—æ³•"],"tags":[],"title":"å¿«é€Ÿæ’åº","uri":"/202304300312-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/#å®ç°"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":"#ChatGPT è¯¥ç¯‡ç¬”è®°æºäºè¯¾ç¨‹ï¼šhttps://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:0:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" ä¸€ã€åŒ…å«ä»€ä¹ˆå†…å®¹ï¼Ÿä¸¤ä¸ªäº§å‡ºï¼š ä½¿ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Modelï¼ŒLLMï¼‰å¿«é€Ÿæ„å»ºåŠŸèƒ½å¼ºå¤§çš„åº”ç”¨ç¨‹åº æ„å»ºä¸¤é¡¹èƒ½åŠ›ï¼š å­¦ä¹ åˆ›æ–° åˆ›é€ ä»·å€¼ äº†è§£ LLM çš„å·¥ä½œåŸç† æç¤ºå·¥ç¨‹çš„æœ€ä½³å®è·µ å¦‚ä½•ç¼–å†™æœ‰æ•ˆçš„æç¤ºï¼ˆä¸¤ä¸ªåŸåˆ™ï¼‰ å¦‚ä½•è®¾è®¡å¥½çš„æç¤º å¦‚ä½•æ„å»ºè‡ªå·±çš„èŠå¤©æœºå™¨äºº ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:1:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#ä¸€åŒ…å«ä»€ä¹ˆå†…å®¹"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" äºŒã€æç¤ºè¯å‡†åˆ™","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:2:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#äºŒæç¤ºè¯å‡†åˆ™"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" 2.1 æŒ‡ä»¤è¦æ¸…æ™° è¾“å…¥æ¸…æ™° è¾“å‡ºæ¸…æ™° è¿‡ç¨‹æ¸…æ™° è¾“å…¥è¦æ¸…æ™° æ¸…æ¥šè¡¨æ˜æˆ‘æƒ³è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿä»¥æ­¤å¼•å¯¼æ¨¡å‹äº§å‡ºæ›´ç¬¦åˆæˆ‘ä»¬æœŸå¾…çš„ç»“æœï¼Œé¿å…è·‘é¢˜ã€‚æ³¨æ„æ¸…æ™° != ç®€çŸ­ï¼Œå¦‚æœè¾ƒé•¿çš„æè¿°æ›´èƒ½å‡†ç¡®è¡¨è¾¾æˆ‘ä»¬çš„æ„å›¾ï¼Œé‚£ä¹ˆè¿™æ˜¯å¿…è¦çš„ã€‚ ä¸€äº›å¸®åŠ©ç¬¦å·ï¼š â€œâ€ ``` --- \u003c\u003e â€¦ æœ‰æ—¶å€™ä¸ºäº†èƒ½å¤Ÿæ›´æ¸…æ™°çš„è¡¨æ˜æ„å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›ç¬¦å·æ¥è¾…ä½è¯´æ˜ã€‚ ä¾‹å­ï¼š ä½ ç°åœ¨ä½œä¸ºä¸€åå­¦ç”Ÿï¼Œéœ€è¦å¯¹æˆ‘çš„æé—®åšå‡ºå›ç­”ï¼ŒChatGPT Prompt Engineering for Developers è¿™é—¨è¯¾è®²è¿°äº†ä»€ä¹ˆ â€œæ‚¨åº”è¯¥æ¸…æ™°ä¸”å°½å¯èƒ½å…·ä½“åœ°è¡¨è¾¾æ‚¨å¸Œæœ›æ¨¡å‹æ‰§è¡Œçš„æ“ä½œï¼Œè¿™å°†å¼•å¯¼æ¨¡å‹è¾¾åˆ°æ‰€é¢„æœŸçš„è¾“å‡ºï¼Œå¹¶å‡å°‘ä¸ç›¸å…³çš„è¾“å‡ºï¼Œæˆ–è€…ä¸æ­£ç¡®çš„è¾“å‡ºã€‚ä¸è¦æŠŠå†™ä¸€ä¸ªæ¸…æ™°çš„æç¤ºå’Œå†™ä¸€ä¸ªç®€çŸ­çš„æç¤ºæ··ä¸ºä¸€è°ˆï¼Œè®¸å¤šæƒ…å†µä¸‹ï¼Œè¾ƒé•¿çš„æç¤ºä¸ºæ¨¡å‹æä¾›äº†æ›´æ¸…æ™°çš„èƒŒæ™¯ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ›´åŠ è¯¦ç»†å’Œç›¸å…³çš„äº§å‡ºâ€ å°†ç”±åŒå¼•å·é™å®šçš„æ–‡å­—æ¦‚æ‹¬æˆä¸€å¥è¯ ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ°äº†åŒå¼•å·æ¥ç•Œå®šåº”è¯¥è¦æ€»ç»“çš„å†…å®¹ï¼Œå¼•å¯¼æ¨¡å‹äº§ç”Ÿæˆ‘ä»¬æƒ³è¦çš„è¾“å‡ºï¼Œå½“ç„¶è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®é™…ä¸­å¯ä»¥æ›´çµæ´»åœ°æ¥ä½¿ç”¨ è¾“å‡ºè¦æ¸…æ™° ä¸Šé¢çš„æåˆ°äº†å¦‚ä½•æ›´æ¸…æ™°åœ°å‘Šè¯‰æ¨¡å‹åº”è¯¥è¾“å…¥çš„å†…å®¹ï¼Œä¸‹é¢æˆ‘ä»¬åº”è¯¥å‘Šè¯‰æ¨¡å‹æˆ‘ä»¬æƒ³è¦ä»€ä¹ˆæ ·çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ç»“æ„åŒ–æˆ‘ä»¬çš„è¾“å‡ºï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯ä»¥å°†è¾“å‡ºæ ¼å¼åŒ–ä¸º htmlã€jsonã€markdown ç­‰æ ¼å¼ çœ‹è¿™æ ·çš„ä¸€ä¸ªä¾‹å­ å½“ç„¶ï¼Œæ›´å¤šæ—¶å€™ json çš„ key åº”è¯¥æ˜¯è‹±æ–‡ï¼Œæˆ‘ä»¬å¯ä»¥æ¥ç€å‘Šè¯‰ gptï¼š æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½æ²¡æœ‰åŠæ³•ä¸€æ¬¡å°±æè¿°æ¸…æ¥šæˆ‘ä»¬æƒ³è¦çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­è¡¥å……ï¼Œè¿™æ˜¯ä¸€ä¸ªè¿­ä»£çš„è¿‡ç¨‹ è¿‡ç¨‹è¦æ¸…æ™° åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ¨¡å‹ä¸€äº›åˆ¤æ–­æ¡ä»¶ çœ‹ä¸‹é¢çš„ä¾‹å­ â€œæ³¡ä¸€æ¯èŒ¶å¾ˆç®€å•ï¼ é¦–å…ˆï¼Œä½ éœ€è¦è®©æ°´æ²¸è…¾ã€‚ å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼Œ æ‹¿ä¸€ä¸ªæ¯å­ï¼Œåœ¨é‡Œé¢æ”¾ä¸€ä¸ªèŒ¶åŒ…ã€‚ ä¸€æ—¦æ°´è¶³å¤Ÿçƒ­ï¼Œåªéœ€å°†å…¶å€’åœ¨èŒ¶åŒ…ä¸Šå³å¯ã€‚ è®©å®ƒé™ç½®ä¸€ä¼šå„¿ã€‚ å†è¿‡å‡ åˆ†é’Ÿï¼Œå–å‡ºèŒ¶åŒ…ã€‚ å¦‚æœä½ å–œæ¬¢ï¼Œå¯ä»¥åŠ ç‚¹ç³–æˆ–è€…ç‰›å¥¶è°ƒå‘³ã€‚ å°±æ˜¯è¿™æ ·ï¼ ä½ æœ‰äº†è‡ªå·±çš„ç¾å‘³çš„ä¸€æ¯èŒ¶æ¥äº«å—ã€‚â€ å°†ä¸Šé¢ç”±åŒå¼•å·é™å®šçš„æ–‡æœ¬ä»¥ä¸‹é¢çš„æ ¼å¼æ¥é‡å†™ï¼š ç¬¬ä¸€æ­¥ - ... ç¬¬äºŒæ­¥ - ... ç¬¬ä¸‰æ­¥ - ... ç¬¬Næ­¥ - ... å¦‚æœæ–‡æœ¬ä¸åŒ…å«é¡ºåºæŒ‡ç¤ºï¼Œé‚£ä¹ˆåªéœ€è¦å†™ä¸Šâ€œæ²¡æœ‰æä¾›æ­¥éª¤â€ ä¸Šé¢çš„æ–‡æœ¬è¯†åˆ«åˆ°äº†é¡ºåºæŒ‡ç¤ºï¼Œå› æ­¤å°†æ–‡æœ¬ä»¥åˆ†æ­¥çš„å½¢å¼é‡æ–°ç»„ç»‡äº†ï¼ŒåŒæ ·çš„å¤„ç†æ–¹å¼ï¼Œæˆ‘ä»¬æ¥çœ‹å¦å¤–ä¸€æ®µæ–‡æœ¬ï¼š ä»Šå¤©é˜³å…‰æ˜åªšï¼Œé¸Ÿå„¿ä»¬åœ¨å”±æ­Œã€‚è¿™æ˜¯ä¸€ä¸ªç¾ä¸½çš„æ—¥å­ï¼Œå¯ä»¥å»å…¬å›­é‡Œæ•£æ­¥ã€‚æ ‘æœ¨åœ¨å¾®é£ä¸­è½»è½»æ‘‡æ›³ã€‚ ä¸€äº›äººæ­£åœ¨é‡é¤ï¼Œè€Œå¦ä¸€äº›äººæ­£åœ¨ç©æ¸¸æˆæˆ–åªæ˜¯åœ¨è‰åœ°ä¸Šæ”¾æ¾ã€‚è¿™æ˜¯ä¸€ä¸ª è¿™æ˜¯ä¸€ä¸ªå®Œç¾çš„æ—¥å­ï¼Œå¯ä»¥èŠ±æ—¶é—´åœ¨æˆ·å¤–ï¼Œæ¬£èµè‡ªç„¶ä¹‹ç¾ã€‚ å°†ä¸Šé¢ç”±åŒå¼•å·é™å®šçš„æ–‡æœ¬ä»¥ä¸‹é¢çš„æ ¼å¼æ¥é‡å†™ï¼š ç¬¬ä¸€æ­¥ - ... ç¬¬äºŒæ­¥ - ... ç¬¬ä¸‰æ­¥ - ... ç¬¬Næ­¥ - ... å¦‚æœæ–‡æœ¬ä¸åŒ…å«æŒ‡ä»¤åºåˆ—ï¼Œé‚£ä¹ˆåªéœ€è¦å†™ä¸Šâ€œæ²¡æœ‰æä¾›æ­¥éª¤â€ å¯ä»¥çœ‹åˆ°é€šè¿‡åˆ¤æ–­ï¼Œè¾¾åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„ç»“æœ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:2:1","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#21-æŒ‡ä»¤è¦æ¸…æ™°"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" 2.2 ç»™æ¨¡å‹æ€è€ƒçš„æ—¶é—´ æŒ‡å®šæ­¥éª¤æ¥å®Œæˆä»»åŠ¡ çœ‹è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼š â€œåœ¨ä¸€ä¸ªè¿·äººçš„æ‘åº„é‡Œï¼Œå…„å¦¹æ°å…‹å’Œå‰å°”å‡ºå‘å»å±±é¡¶çš„äº•é‡Œå–æ°´ã€‚ä»–ä»¬ä¸€è¾¹å”±ç€æ¬¢å¿«çš„æ­Œï¼Œä¸€è¾¹çˆ¬å±±ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œæ°å…‹ç»Šå€’åœ¨çŸ³å¤´ä¸Šï¼Œä»å±±ä¸Šæ»šäº†ä¸‹æ¥ï¼Œå‰å°”ä¹Ÿè·Ÿç€æ‘”å€’ã€‚è™½ç„¶æœ‰äº›å—ä¼¤ï¼Œä½†ä»–ä»¬è¿˜æ˜¯å›å®¶å—åˆ°å®‰æ…°çš„æ‹¥æŠ±ã€‚å°½ç®¡é­é‡äº†ä¸å¹¸ï¼Œä½†ä»–ä»¬çš„å†’é™©ç²¾ç¥ä»ç„¶æ²¡æœ‰æ¶ˆå¤±ï¼Œä»–ä»¬ç»§ç»­æ„‰å¿«åœ°æ¢ç´¢ã€‚â€ æ‰§è¡Œä¸‹é¢çš„åŠ¨ä½œï¼š 1 - ç”¨ä¸€å¥è¯æ€»ç»“ä¸Šé¢å¼•å·æ‹¬èµ·æ¥çš„æ–‡æœ¬ 2 - å°†ç¬¬ä¸€æ­¥å¾—åˆ°çš„æ€»ç»“ç¿»è¯‘æˆéŸ©è¯­ 3 - åœ¨éŸ©è¯­æ€»ç»“ä¸­åˆ—å‡ºæ¯ä¸ªåå­— ç”¨æ¢è¡ŒæŠŠæ¯ä¸€æ­¥çš„ç­”æ¡ˆåˆ†å¼€ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦å®Œæˆçš„å¹¶ä¸åªæ˜¯ä¸€ç§æ“ä½œï¼Œæˆ‘ä»¬å¯¹äºä¸€æ®µæ–‡æœ¬å¯èƒ½æƒ³åšå¥½å‡ ä»¶äº‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ†æˆå‡ ä¸ªæ­¥éª¤ï¼Œå‘Šè¯‰æ¨¡å‹åˆ†åˆ«è¦åšä»€ä¹ˆ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:2:2","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#22-ç»™æ¨¡å‹æ€è€ƒçš„æ—¶é—´"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" * æ¨¡å‹çš„é™åˆ¶åœ¨æ¨¡å‹è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸ä¼šå®Œç¾çš„è®°ä½è‡ªå·±æ¥è§¦çš„æ¯ä¸ªä¿¡æ¯ï¼Œå› æ­¤å®ƒå¯¹è‡ªå·±çš„çŸ¥è¯†è¾¹ç•Œå¹¶ä¸æ˜¯ååˆ†äº†è§£ï¼Œè¿™æ„å‘³ç€å®ƒå¯èƒ½ä¼šå°è¯•å›ç­”ä¸€äº›æ™¦æ¶©éš¾æ‡‚çš„é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ç¼–é€ ä¸€äº›å¬èµ·æ¥å¾ˆæœ‰é“ç†ï¼Œä½†å®é™…ä¸Šå¹¶ä¸çœŸå®çš„äº‹æƒ…ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ è¿™å¹¶ä¸æ˜¯çœŸå®çš„ï¼Œä½†çœ‹èµ·æ¥éå¸¸çœŸå®ï¼Œè¿™æ˜¯éå¸¸å±é™©çš„ï¼Œä¹Ÿæ˜¯æ¨¡å‹å·²çŸ¥çš„ä¸€ä¸ªé—®é¢˜ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:2:3","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#-æ¨¡å‹çš„é™åˆ¶"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" ä¸‰ã€æç¤ºè¯çš„è¿­ä»£ç”±äºæŸäº›åŸå› ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡è·å¾—çš„ç»“æœå¯èƒ½å¯¹äºæˆ‘ä»¬æ¥è¯´å¹¶ä¸æ˜¯æœ‰æ•ˆã€æœ‰ç”¨çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è·å¾—çš„ç»“æœï¼Œåå¤å®Œå–„æˆ‘ä»¬çš„æç¤ºè¯ï¼Œä¸€æ­¥æ­¥èµ°å‘æˆ‘ä»¬çš„æƒ³è¦çš„ç»“æœã€‚ å› æ­¤è¿­ä»£çš„è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š å…ˆè¯•è¯• åˆ†æç»“æœï¼Œæ˜¯å¦ç¬¦åˆæˆ‘ä»¬é¢„æœŸ ç»™å‡ºæ¸…æ¥šçš„è¯´æ˜ï¼ˆæŒ‡ç¤ºï¼‰ï¼Œç»™æ¨¡å‹æ›´å¤šæ—¶é—´æ€è€ƒ å®Œå–„æç¤ºè¯­ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:3:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#ä¸‰æç¤ºè¯çš„è¿­ä»£"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" å››ã€æ€»ç»“æ‘˜è¦ä¾‹å­1ï¼š æŠŠä»¥ä¸‹äº§å“è¯„è®ºè¿›è¡Œæ€»ç»“ï¼Œæ€»ç»“çš„å­—æ•°ä¸è¶…è¿‡30ä¸ªå­—ã€‚ äº§å“è¯„è®ºï¼š\"æˆ‘ä¸ºå¥³å„¿çš„ç”Ÿæ—¥ä¹°äº†è¿™åªç†ŠçŒ«æ¯›ç»’ç©å…·ï¼Œå¥¹éå¸¸å–œæ¬¢ï¼Œå¹¶ä¸”éšèº«æºå¸¦ã€‚å®ƒæ‘¸èµ·æ¥å¾ˆè½¯ï¼Œéå¸¸å¯çˆ±ï¼Œè„¸ä¸Šè¿˜æœ‰å‹å¥½çš„è¡¨æƒ…ã€‚ä½†æ˜¯ï¼Œç›¸å¯¹äºä»·æ ¼æ¥è¯´ï¼Œå®ƒæœ‰ç‚¹å°äº†ã€‚æˆ‘è®¤ä¸ºå¯èƒ½ä¼šæœ‰å…¶ä»–åŒæ ·ä»·ä½ä½†æ›´å¤§çš„é€‰æ‹©ã€‚å®ƒæ¯”é¢„æœŸæå‰ä¸€å¤©åˆ°è¾¾ï¼Œæ‰€ä»¥åœ¨æŠŠå®ƒé€ç»™å¥³å„¿ä¹‹å‰ï¼Œæˆ‘è‡ªå·±å…ˆç©äº†ä¸€ä¸‹ã€‚\" å¦‚æœæŠŠä¸Šé¢çš„ä»»åŠ¡ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼Œ ä½ çš„ä»»åŠ¡æ˜¯å¯¹ä¸€ä¸ªç”µå­å•†åŠ¡ç½‘ç«™çš„äº§å“è¯„è®ºç”Ÿæˆä¸€ä¸ªç®€çŸ­çš„æ‘˜è¦ï¼Œä»¥åé¦ˆç»™èˆªè¿éƒ¨é—¨ã€‚ æŠŠä»¥ä¸‹äº§å“è¯„è®ºè¿›è¡Œæ€»ç»“ï¼Œæ€»ç»“çš„å­—æ•°ä¸è¶…è¿‡30ä¸ªå­—, é‡ç‚¹æ”¾åœ¨æåˆ°äº§å“è¿è¾“å’Œäº¤ä»˜çš„ä»»ä½•æ–¹é¢ã€‚ äº§å“è¯„è®ºï¼š\"æˆ‘ä¸ºå¥³å„¿çš„ç”Ÿæ—¥ä¹°äº†è¿™åªç†ŠçŒ«æ¯›ç»’ç©å…·ï¼Œå¥¹éå¸¸å–œæ¬¢ï¼Œå¹¶ä¸”éšèº«æºå¸¦ã€‚å®ƒæ‘¸èµ·æ¥å¾ˆè½¯ï¼Œéå¸¸å¯çˆ±ï¼Œè„¸ä¸Šè¿˜æœ‰å‹å¥½çš„è¡¨æƒ…ã€‚ä½†æ˜¯ï¼Œç›¸å¯¹äºä»·æ ¼æ¥è¯´ï¼Œå®ƒæœ‰ç‚¹å°äº†ã€‚æˆ‘è®¤ä¸ºå¯èƒ½ä¼šæœ‰å…¶ä»–åŒæ ·ä»·ä½ä½†æ›´å¤§çš„é€‰æ‹©ã€‚å®ƒæ¯”é¢„æœŸæå‰ä¸€å¤©åˆ°è¾¾ï¼Œæ‰€ä»¥åœ¨æŠŠå®ƒé€ç»™å¥³å„¿ä¹‹å‰ï¼Œæˆ‘è‡ªå·±å…ˆç©äº†ä¸€ä¸‹ã€‚\" æˆ‘ä»¬å¯ä»¥æ ¹æ®æƒ³è¦æ€»ç»“çš„æ–¹å¼ï¼Œè¦æ±‚å®ƒæå–ä¸åŒçš„ä¿¡æ¯ å†æ¥çœ‹ä¸€ä¸ªå¯èƒ½å®é™…ä¸­æ›´èƒ½ç¢°å€’çš„ä¾‹å­ï¼š # review for a standing lamp review_1 = \"\"\" Needed a nice lamp for my bedroom, and this one \\ had additional storage and not too high of a price \\ point. Got it fast - arrived in 2 days. The string \\ to the lamp broke during the transit and the company \\ happily sent over a new one. Came within a few days \\ as well. It was easy to put together. Then I had a \\ missing part, so I contacted their support and they \\ very quickly got me the missing piece! Seems to me \\ to be a great company that cares about their customers \\ and products. \"\"\" # review for an electric toothbrush review_2 = \"\"\" My dental hygienist recommended an electric toothbrush, \\ which is why I got this. The battery life seems to be \\ pretty impressive so far. After initial charging and \\ leaving the charger plugged in for the first week to \\ condition the battery, I've unplugged the charger and \\ been using it for twice daily brushing for the last \\ 3 weeks all on the same charge. But the toothbrush head \\ is too small. Iâ€™ve seen baby toothbrushes bigger than \\ this one. I wish the head was bigger with different \\ length bristles to get between teeth better because \\ this one doesnâ€™t. Overall if you can get this one \\ around the $50 mark, it's a good deal. The manufactuer's \\ replacements heads are pretty expensive, but you can \\ get generic ones that're more reasonably priced. This \\ toothbrush makes me feel like I've been to the dentist \\ every day. My teeth feel sparkly clean! \"\"\" # review for a blender review_3 = \"\"\" So, they still had the 17 piece system on seasonal \\ sale for around $49 in the month of November, about \\ half off, but for some reason (call it price gouging) \\ around the second week of December the prices all went \\ up to about anywhere from between $70-$89 for the same \\ system. And the 11 piece system went up around $10 or \\ so in price also from the earlier sale price of $29. \\ So it looks okay, but if you look at the base, the part \\ where the blade locks into place doesnâ€™t look as good \\ as in previous editions from a few years ago, but I \\ plan to be very gentle with it (example, I crush \\ very hard items like beans, ice, rice, etc. in the \\ blender first then pulverize them in the serving size \\ I want in the blender then switch to the whipping \\ blade for a finer flour, and use the cross cutting blade \\ first when making smoothies, then use the flat blade \\ if I need them finer/less pulpy). Special tip when making \\ smoothies, finely cut and freeze the fruits and \\ vegetables (if using spinach-lightly stew soften the \\ spinach then freeze until ready for use-and if making \\ sorbet, use a small to medium sized food processor) \\ that you plan to use that way you can avoid adding so \\ much ice if at all-when making your smoothie. \\ After about a year, the motor was making a funny noise. \\ I called customer service but the warranty expired \\ already, so I had to buy another one. FYI: The overall \\ quality has gone done in these types of products, so \\ they are kind of counting on brand recognition and \\ consumer loyalty to maintain sales. Got it in about \\ two days. \"\"\" reviews = [review_1, review_2, review_3, review_4] ä½ çš„ä»»åŠ¡æ˜¯å°†ä¸Šé¢çš„æ¯ä¸ªreviewåˆ†åˆ«åšæ€»ç»“ï¼Œæ€»ç»“ä»¥ä¸‹é¢çš„æ ¼å¼è¾“å‡ºï¼š 1. 2. å°†æ€»ç»“ç¿»è¯‘æˆä¸­æ–‡ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:4:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#å››æ€»ç»“æ‘˜è¦"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" äº”ã€AI æ¨ç†æå–æƒ…ç»ªä¿¡æ¯ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:5:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#äº”ai-æ¨ç†"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" å…­ã€AI è½¬è¯‘ ç¿»è¯‘ è¯­æ³•çº æ­£ã€æ ¡å¯¹ æ ¼å¼è½¬æ¢ï¼ˆjsonã€htmlã€markdownâ€¦ï¼‰ è¯­æ°”è½¬æ¢ ï¼ˆè¯­æ°”è½¬æ¢ï¼‰ä¸åŒçš„é‚®ä»¶å¯¹è±¡å¯èƒ½éœ€è¦ä¸åŒçš„è¯­æ°”æˆ–è€…ä¹¦é¢è¯­ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ å°†ä¸‹é¢çš„å†…å®¹ä»ä¿šè¯­è½¬æ¢æˆä¸€å°å•†åŠ¡ä¿¡å‡½ï¼š â€œä¼™è®¡ï¼Œæˆ‘æ˜¯ä¹”ï¼Œçœ‹çœ‹è¿™ä¸ªç«‹ç¯çš„è§„æ ¼ã€‚â€ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:6:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#å…­ai-è½¬è¯‘"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" ä¸ƒã€æ‰©å†™ï¼ˆæ–‡æ¡ˆç”Ÿæˆï¼‰æ‰©å†™æ˜¯æŒ‡å°†ä¸€ç¯‡è¾ƒçŸ­çš„æ–‡æœ¬è¿›è¡Œæ‰©å†™çš„å·¥ä½œï¼Œæ¯”å¦‚ä¸€å¥—æŒ‡ç¤ºæˆ–è€…ä¸€ä¸ªä¸»é¢˜åˆ—è¡¨ï¼Œç”Ÿæˆä¸€ä¸ªè¾ƒé•¿çš„æ–‡æœ¬ï¼Œå¦‚ç”µå­é‚®ä»¶æˆ–è€…æ–‡ç« ã€‚ ä¾‹å­ï¼šé€šè¿‡ä¸€åå®¢æˆ·å¯¹äºäº§å“çš„è¯„è®ºç”Ÿæˆä¸€å°å›å¤é‚®ä»¶ ä½ æ˜¯ä¸€ä¸ªå®¢æˆ·æœåŠ¡çš„AIåŠ©ç†ï¼Œä½ çš„ä»»åŠ¡æ˜¯ç»™ä¸€ä¸ªæœ‰ä»·å€¼çš„å®¢æˆ·å‘é€ç”µå­é‚®ä»¶å›å¤ã€‚ é‚®ä»¶çš„å†…å®¹éœ€è¦åŸºäºç”¨æˆ·çš„è¯„ä»·ï¼Œå¦‚æœç”¨æˆ·çš„æƒ…ç»ªæ˜¯ç§¯æçš„æˆ–è€…ä¸­æ€§çš„ï¼Œæ„Ÿè°¢ä»–ä»¬çš„è¯„è®ºï¼Œå¦‚æœæƒ…ç»ªæ˜¯è´Ÿé¢çš„ï¼Œåˆ™è¡¨ç¤ºæ­‰æ„ï¼Œå¹¶å»ºè®®ä»–ä»¬å¯ä»¥è”ç³»å®¢æœã€‚ ç¡®ä¿ä½¿ç”¨ç”¨æˆ·è¯„è®ºä¸­çš„å…·ä½“ç»†èŠ‚ã€‚ ç”¨ç®€æ˜å’Œä¸“ä¸šçš„è¯­æ°”æ¥å†™ã€‚ åœ¨é‚®ä»¶ä¸­ç½²åï¼šâ€œAI å®¢æˆ·ä»£ç†â€ å®¢æˆ·çš„è¯„è®ºï¼š\"ä»–ä»¬åœ¨11æœˆä»½ä»åœ¨å­£èŠ‚æ€§é”€å”®ä¸­ä»¥çº¦49ç¾å…ƒçš„ä»·æ ¼é”€å”®17ä»¶å¥—è£…ï¼ŒæŠ˜æ‰£çº¦ä¸ºä¸€åŠï¼Œä½†å‡ºäºæŸäº›åŸå› ï¼ˆç§°å…¶ä¸ºä»·æ ¼æŠ¬é«˜ï¼‰ï¼Œåˆ°äº†12æœˆçš„ç¬¬äºŒå‘¨ï¼ŒåŒæ ·çš„ç³»ç»Ÿçš„ä»·æ ¼éƒ½æ¶¨åˆ°äº†çº¦70-89ç¾å…ƒå·¦å³ã€‚ 11ä»¶å¥—è£…çš„ä»·æ ¼ä¹Ÿæ¯”ä¹‹å‰çš„29ç¾å…ƒæ¶¨äº†å¤§çº¦10ç¾å…ƒå·¦å³ã€‚ çœ‹èµ·æ¥è¿˜ä¸é”™ï¼Œä½†å¦‚æœæ‚¨çœ‹åº•åº§ï¼Œé”å®šåˆ€ç‰‡çš„éƒ¨åˆ†çœ‹èµ·æ¥ä¸å‡ å¹´å‰çš„å…ˆå‰ç‰ˆæœ¬ä¸å¤ªä¸€æ ·ï¼Œä½†æˆ‘æ‰“ç®—éå¸¸å°å¿ƒï¼ˆä¾‹å¦‚ï¼Œæˆ‘å°†åƒè±†å­ï¼Œå†°ï¼Œç±³é¥­ç­‰éå¸¸ç¡¬çš„ç‰©å“å…ˆæ”¾å…¥æ…æ‹Œæœºä¸­å‹ç¢ï¼Œç„¶åæŠŠå®ƒä»¬ç²‰ç¢æˆæˆ‘æƒ³è¦çš„é£Ÿç”¨é‡ï¼Œç„¶ååˆ‡æ¢åˆ°æ…æ‹Œé¤çš„é­æ‰“åˆ€ï¼Œä»¥è·å¾—æ›´ç»†çš„é¢ç²‰ï¼Œå¹¶åœ¨åˆ¶ä½œå†°æ²™æ—¶å…ˆä½¿ç”¨äº¤å‰åˆ‡å‰²åˆ€ï¼Œç„¶åå¦‚æœéœ€è¦æ›´ç»†/è¾ƒå°‘çº¤ç»´çš„è¯ï¼Œå†ä½¿ç”¨å¹³åˆ€ï¼‰ã€‚åˆ¶ä½œå†°æ²™çš„ç‰¹æ®Šæç¤ºï¼šå°†è¦ä½¿ç”¨çš„æ°´æœå’Œè”¬èœåˆ‡ç¢å¹¶å†·å†»ï¼ˆå¦‚æœä½¿ç”¨è èœ-è½»è½»ç…®è½¯è èœç„¶åå†·å†»ç›´åˆ°ä½¿ç”¨-å¦‚æœåˆ¶ä½œé›ªæ³¥ï¼Œè¯·ä½¿ç”¨å°åˆ°ä¸­å‹é£Ÿå“å¤„ç†å™¨ï¼‰ï¼Œä»¥æ­¤æ¥é¿å…æ·»åŠ æ‰å¤ªå¤šå†°å—ã€‚å¤§çº¦ä¸€å¹´åï¼Œé©¬è¾¾å‘å‡ºå¥‡æ€ªçš„å™ªéŸ³ã€‚æˆ‘æ‰“ç”µè¯ç»™å®¢æœï¼Œä½†ä¿ä¿®å·²ç»è¿‡æœŸäº†ï¼Œæ‰€ä»¥æˆ‘ä¸å¾—ä¸å†ä¹°ä¸€ä¸ªã€‚ FYIï¼šè¿™äº›äº§å“çš„æ•´ä½“è´¨é‡å·²ç»ä¸‹é™ï¼Œæ‰€ä»¥ä»–ä»¬åœ¨å“ç‰Œè®¤çŸ¥å’Œæ¶ˆè´¹è€…å¿ è¯šåº¦ä¸Šè¿›è¡Œè¥é”€ã€‚å¤§çº¦ä¸¤å¤©åæ”¶åˆ°äº†äº§å“ã€‚\" ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:7:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#ä¸ƒæ‰©å†™æ–‡æ¡ˆç”Ÿæˆ"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" temperaturetemperature ä½œä¸ºæ¨¡å‹çš„ä¸€ä¸ªå‚æ•°ï¼Œå°†å½±å“æ¨¡å‹è¾“å‡ºçš„éšæœºæ€§ æ˜¾ç„¶ï¼šè¶Šä½ temperature æ„å‘³ç€è¶Šé«˜å¯é æ€§ï¼Œè¶Šé«˜ temperature æ„å‘³ç€è¶Šé«˜åˆ›æ„æ€§ ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:7:1","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#temperature"},{"categories":["æ‰©å±•å­¦ä¹ "],"content":" å…«ã€èŠå¤©æœºå™¨äººå¾…è¡¥å……â€¦ ã€ŠChatGPT Prompt Engineering for Developersã€‹. è§äº 2023å¹´5æœˆ7æ—¥. https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/. äºŒæ¬¡å…ƒçš„Datawhale. ã€Šã€ä¸“ä¸šç¿»è¯‘ï¼Œé…å¥—ä»£ç ç¬”è®°ã€‘01.è¯¾ç¨‹ä»‹ç»_å“”å“©å“”å“©_bilibiliã€‹. è§äº 2023å¹´5æœˆ7æ—¥. https://www.bilibili.com/video/BV1Bo4y1A7FU/. ","date":"2023-05-09","objectID":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/:8:0","series":["ChatGPT"],"tags":["æç¤ºè¯"],"title":"é¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹","uri":"/202305062133-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-chatgpt-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/#å…«èŠå¤©æœºå™¨äºº"},{"categories":["Golang"],"content":"#Golang é—®é¢˜ï¼šä¸¤ä¸ªæ•°æ®æœ‰ç›¸åŒçš„å†…å­˜å¸ƒå±€ï¼Œåº”è¯¥æ»¡è¶³ä»€ä¹ˆæ¡ä»¶ï¼Ÿ ","date":"2023-05-09","objectID":"/202304242150-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/:0:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":["å†…å­˜å¸ƒå±€"],"title":"å†…å­˜å¸ƒå±€","uri":"/202304242150-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#"},{"categories":["Golang"],"content":" ç±»å‹å¯¹é½ä¿è¯å‡ºäºå¯¹ç¨‹åºæ€§èƒ½çš„è€ƒè™‘ï¼Œæ¯ä¸ªç±»å‹éƒ½ä¼šæœ‰å¯¹åº”çš„å¯¹é½ä¿è¯ï¼Œæ ¹æ®è¯¥ç±»å‹æ˜¯å¦è¢«ä½œä¸ºç»“æ„å­—æ®µï¼Œå¯¹é½ä¿è¯åˆ†ä¸ºä¸¤ç±»ï¼š å­—æ®µå¯¹é½ä¿è¯ ä¸€èˆ¬å¯¹é½ä¿è¯ è¯´æ³•ï¼šå¦‚æœä¸€ä¸ªç±»å‹çš„å¯¹é½ä¿è¯ä¸ºNï¼Œé‚£ä¹ˆå°±è¯´è¿™ä¸ªç±»å‹æ˜¯ N å­—èŠ‚å¯¹é½çš„ è¿™ä¸¤ç±»å¯¹é½ä¿è¯å¯¹åº”çš„è·å–æ–¹å¼ï¼š unsafe.Alignof(t) ï¼ˆç¼–è¯‘çš„æ—¶å€™ä¼°å€¼ï¼‰ reflect.TypeOf(t).Align() reflect.TypeOf(t).FieldAlign() type X struct { c int32 d int64 } func getAlignmentGuarantee() { var a int32 // ä½¿ç”¨ unsafe.Alignof() fmt.Println(unsafe.Alignof(a)) // 4 ï¼ˆè·å– int32 çš„ä¸€èˆ¬å¯¹é½ä¿è¯ï¼‰ fmt.Println(unsafe.Alignof(X{}.c)) // 4 ï¼ˆè·å– int32 çš„å­—æ®µå¯¹é½ä¿è¯ï¼‰ fmt.Println(unsafe.Alignof(X{}.d)) // 8 fmt.Println(unsafe.Alignof(X{})) // 8 // ä½¿ç”¨ reflect.TypeOf(a).Align() ä»¥åŠ reflect.TypeOf(a).FieldAlign() fmt.Println(reflect.TypeOf(a).Align()) // 4 fmt.Println(reflect.TypeOf(a).FieldAlign()) // 4 } æ³¨æ„ä¸Šé¢ç¨‹åºçš„è¾“å‡ºå¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œç›¸åŒçš„ç¼–è¯‘å™¨åœ¨ä¸åŒçš„æ¶æ„ä¸Šã€ä¸åŒçš„ç¼–è¯‘å™¨åœ¨ç›¸åŒçš„æ¶æ„ä¸Šï¼Œéƒ½æœ‰å¯èƒ½äº§ç”Ÿä¸åŒçš„è¾“å‡º Go ç¼–è¯‘å™¨ä¸­ï¼Œå¯¹ç±»å‹å¯¹é½ä¿è¯è¦æ±‚ï¼š unsafe.Alignof(t) \u003e= 1 unsafe.Alignof(ç»“æ„) = ç»“æ„ä½“å­—æ®µçš„å­—æ®µå¯¹é½ä¿è¯çš„æœ€å¤§å€¼ unsafe.Alignof(æ•°ç»„) = unsafe.Alignof(å…ƒç´ ç±»å‹) ","date":"2023-05-09","objectID":"/202304242150-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/:0:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":["å†…å­˜å¸ƒå±€"],"title":"å†…å­˜å¸ƒå±€","uri":"/202304242150-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#ç±»å‹å¯¹é½ä¿è¯"},{"categories":["Golang"],"content":" ç»“æ„ä½“çš„å­—èŠ‚å¡«å……ä¸ºäº†èƒ½å¤Ÿè®©ç»“æ„ä½“çš„å°ºå¯¸ä¸ºç±»å‹å¯¹é½ä¿è¯çš„ N å€ï¼Œæœ‰æ—¶å€™éœ€è¦å¯¹ç»“æ„è¿›è¡Œå­—èŠ‚è¡¥é½ï¼Œçœ‹ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­ï¼Œå±•ç¤ºäº†ä¸¤ä¸ªå†…å®¹ï¼š ç»“æ„ä½“å°ºå¯¸çš„è®¡ç®— ç»“æ„ä½“çš„å­—èŠ‚å¡«å…… // å‡è®¾åœ¨ 64 ä½æœºå™¨ä¸Šçš„æƒ…å†µ type T1 struct { a int8 // ä¸ºäº†è®© b èƒ½å¤Ÿ8å­—èŠ‚å¯¹é½ï¼Œè¿™é‡Œè¦å¡«å…… 7 ä¸ªå­—èŠ‚ b int64 c int16 // å‰é¢ä¸€å…±çš„å°ºå¯¸ä¸º 1 + 7 + 8 + 2 = 18 ä¸ªå­—èŠ‚ // ä¸ºäº†è®© T1 çš„å°ºå¯¸ä¸º 8 çš„å€æ•°ï¼Œè¿™é‡Œéœ€è¦å¡«å…… 24 - 18 = 6 ä¸ªå­—èŠ‚ } // å› æ­¤ T1 ç±»å‹çš„å°ºå¯¸ä¸º 24 ä¸ªå­—èŠ‚ type T2 struct { a int8 // ä¸ºäº†è®© b èƒ½å¤Ÿ 2 å­—èŠ‚å¯¹é½ï¼Œè¿™é‡Œå¡«å…… 1 å­—èŠ‚ b int16 // ä¸ºäº†è®© c èƒ½å¤Ÿ 8 å­—èŠ‚å¯¹é½ï¼Œè¿™é‡Œå¡«å…… 4 å­—èŠ‚ c int64 // å‰é¢ä¸€å…± 1 + 1 + 2 + 4 + 8 = 16 å­—èŠ‚ï¼Œå› æ­¤è¿™é‡Œä¸éœ€è¦å†å¡«å…… } // å› æ­¤ T2 ç±»å‹çš„å°ºå¯¸ä¸º 16 ä¸ªå­—èŠ‚ ä»ä¸Šé¢è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œå°½ç®¡ T1 è·Ÿ T2 æ‹¥æœ‰ä¸€æ ·çš„å­—æ®µç±»å‹ï¼Œä½†å› ä¸ºæ’åˆ—çš„ä¸åŒï¼Œå¯¼è‡´å­—èŠ‚å¡«å……çš„æ•°é‡ä¸åŒï¼Œå› æ­¤å…¶å°ºå¯¸ä¹Ÿä¸åŒã€‚ é—®é¢˜ï¼š[[202304242320 ä¸€ä¸ªé›¶å°ºå¯¸çš„ç±»å‹æœ‰æ²¡æœ‰å¯èƒ½å½±å“åˆ°ç»“æ„ä½“çš„å°ºå¯¸]] ã€Šå†…å­˜å¸ƒå±€ -Goè¯­è¨€101ã€‹. è§äº 2023å¹´4æœˆ24æ—¥. https://gfw.go101.org/article/memory-layout.html. ã€ŠThe Go Programming Language Specification - The Go Programming Languageã€‹. è§äº 2023å¹´4æœˆ24æ—¥. https://go.dev/ref/spec. The Go Programming Language Specification ä¸­æ–‡ï¼šhttps://github.com/saberuster/Go-Language-Specification ","date":"2023-05-09","objectID":"/202304242150-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/:0:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":["å†…å­˜å¸ƒå±€"],"title":"å†…å­˜å¸ƒå±€","uri":"/202304242150-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#ç»“æ„ä½“çš„å­—èŠ‚å¡«å……"},{"categories":["Golang"],"content":"#Golang ","date":"2023-05-09","objectID":"/202304201947-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/:0:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"æ·±æµ…æ‹·è´","uri":"/202304201947-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/#"},{"categories":["Golang"],"content":" æ·±æµ…æ‹·è´çš„åŒºåˆ« æ·±æ‹·è´ï¼šä¸¤ä¸ªå¯¹è±¡ä¸å…±äº«å†…å­˜ï¼Œå„è‡ªåˆ†å¼€ å€¼ç±»å‹çš„æ•°æ®éƒ½æ˜¯æ·±æ‹·è´ï¼ŒIntã€Floatã€Stringã€Boolã€Struct æµ…æ‹·è´ï¼šä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€ä¸ªåœ°å€ å¼•ç”¨ç±»å‹çš„éƒ½æ˜¯æµ…æ‹·è´ï¼ŒSliceã€Map ","date":"2023-05-09","objectID":"/202304201947-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/:1:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"æ·±æµ…æ‹·è´","uri":"/202304201947-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/#æ·±æµ…æ‹·è´çš„åŒºåˆ«"},{"categories":["Golang"],"content":" å¦‚æœæ˜¯ Slice åˆ‡ç‰‡ç±»å‹ï¼Œæƒ³åšæ·±æ‹·è´æ€ä¹ˆåŠï¼ˆä½¿ç”¨ copy æ–¹æ³•ï¼‰ score := []int{1,2,3} scoreTmp := make([]int, len(score)) copy(scoreTmp, score) æ³¨æ„ç‚¹ï¼š ç›®çš„åˆ‡é¢éœ€è¦æå‰ç”³è¯·ç©ºé—´ï¼ˆä¸€èˆ¬ä¸æºåˆ‡ç‰‡ç­‰é•¿ï¼Œè‹¥æ›´å°ï¼Œåªæ‹·è´éƒ¨åˆ†ï¼Œè‹¥æ›´å¤§ï¼Œå‰©ä½™ç©ºé—´è¡¥é½ç±»å‹é»˜è®¤å€¼ï¼‰ è‹¥æºåˆ‡ç‰‡å­˜çš„æ˜¯å¼•ç”¨ï¼Œåˆ™æ‹·è´è¿‡å»ä¹‹åï¼Œç›®çš„åˆ‡ç‰‡ä¿å­˜çš„æ˜¯è·Ÿæºåˆ‡ç‰‡ä¸€æ ·çš„å¼•ç”¨ï¼ˆäºŒç»´æ•°ç»„çš„æ‹·è´ï¼‰ï¼Œå› æ­¤æƒ³äºŒç»´æ•°ç»„å¦‚æœè¦æ·±æ‹·è´éœ€è¦äºŒé‡å¾ªç¯ ","date":"2023-05-09","objectID":"/202304201947-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/:2:0","series":["Golangåº•å±‚è®¤çŸ¥"],"tags":[],"title":"æ·±æµ…æ‹·è´","uri":"/202304201947-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/#å¦‚æœæ˜¯-slice-åˆ‡ç‰‡ç±»å‹æƒ³åšæ·±æ‹·è´æ€ä¹ˆåŠä½¿ç”¨-copy-æ–¹æ³•"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:0:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸€äº›åŸºæœ¬æ¦‚å¿µæ ‘å››åº¦ï¼š åº¦ èŠ‚ç‚¹çš„åº¦ï¼šèŠ‚ç‚¹æ‹¥æœ‰çš„å­èŠ‚ç‚¹æ•°é‡ æ ‘çš„åº¦ï¼šèŠ‚ç‚¹çš„åº¦çš„æœ€å¤§å€¼ æ·±åº¦ï¼šæ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·ç¦» é«˜åº¦ï¼šæ ¹èŠ‚ç‚¹åˆ°æœ€ä½èŠ‚ç‚¹çš„è·ç¦» æ ‘çš„å®é™…åº”ç”¨ï¼š å¸®åŠ©åˆ†ææ—¶é—´å¤æ‚åº¦ æœç´¢ æ’åº è·¯å¾„æŸ¥æ‰¾ ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:1:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#ä¸€äº›åŸºæœ¬æ¦‚å¿µ"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å‡ ç§å¸¸è§çš„æ ‘ äºŒå‰æ ‘ æ»¡äºŒå‰æ ‘ å®Œå…¨äºŒå‰æ ‘ äºŒå‰æœç´¢æ ‘ [[202305040442 äºŒå‰æœç´¢æ ‘]] å¹³è¡¡äºŒå‰æœç´¢æ ‘ çº¿æ®µæ ‘ å¹³è¡¡æ ‘ B æ ‘ çº¢é»‘æ ‘ ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:2:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#å‡ ç§å¸¸è§çš„æ ‘"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ ‘çš„éå†æ–¹å¼æ·±åº¦ï¼šå‰åºï¼ˆDLRï¼‰ã€ä¸­åºï¼ˆLDRï¼‰ã€ååºï¼ˆLRDï¼‰ å¹¿åº¦ï¼šå±‚åºéå† ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:3:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#æ ‘çš„éå†æ–¹å¼"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å‰åºéå†ç”¨é€’å½’çš„æ€æƒ³å¯ä»¥å°†é—®é¢˜çœ‹ä½œï¼š è®¿é—®è·ŸèŠ‚ç‚¹ å‰åºéå†å·¦èŠ‚ç‚¹ å‰åºéå†å³èŠ‚ç‚¹ // å‰åºéå†: è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œä»¥å‰åºéå†çš„æ–¹å¼è®¿é—®å·¦èŠ‚ç‚¹ï¼Œä»¥å‰åºéå†çš„æ–¹å¼è®¿é—®å³èŠ‚ç‚¹ func pOrder(root *treeNode) { // end if root == nil { return } fmt.Printf(\"%d \", root.val) pOrder(root.left) pOrder(root.right) return } ä½¿ç”¨æ ˆå®ç°ï¼š å°†æ ¹èŠ‚ç‚¹å…¥æ ˆ å‡ºæ ˆï¼ŒåŠ å…¥å³èŠ‚ç‚¹è·Ÿå·¦èŠ‚ç‚¹ é‡å¤ä»¥ä¸Šæ“ä½œï¼Œç›´åˆ°æ ˆç©º func pOrderStack(root *treeNode) { if root == nil { return } var st []*treeNode st = append(st, root) var pnt []int for len(st) \u003e 0 { // pop cur := st[len(st)-1] st = st[:len(st)-1] pnt = append(pnt, cur.val) // judge left\\right if cur.right != nil { st = append(st, cur.right) } if cur.left != nil { st = append(st, cur.left) } } fmt.Println(pnt) } ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:3:1","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#å‰åºéå†"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸­åºéå†é€’å½’å®ç°ï¼š // æŒ‰ä¸­åºéå†è®¿é—®å·¦èŠ‚ç‚¹ï¼Œè®¿é—®èŠ‚ç‚¹å…ƒç´ ï¼ŒæŒ‰ä¸­åºéå†è®¿é—®å³èŠ‚ç‚¹ func ldrOrder(root *treeNode) { if root == nil { return } ldrOrder(root.left) fmt.Printf(\"%d \", root.val) ldrOrder(root.right) return } æ ˆå®ç°ï¼š ä»æ ¹èŠ‚ç‚¹å¼€å§‹å…¥æ ˆï¼Œä¸€ç›´å¾€å·¦ï¼Œç›´åˆ°æœ€å·¦å¶å­èŠ‚ç‚¹ å‡ºæ ˆï¼Œè®¿é—®èŠ‚ç‚¹ å°†å³èŠ‚ç‚¹å½“ä½œæ­¥éª¤1çš„æ ¹èŠ‚ç‚¹ï¼ˆè‹¥å­˜åœ¨ï¼‰ func ldrOrderStack(root *treeNode) { if root == nil { return } var st []*treeNode cur := root // æ‰¾åˆ°æœ€å·¦å¶å­èŠ‚ç‚¹ for cur != nil { st = append(st, cur) cur = cur.left } // å‡ºæ ˆï¼Œè®¿é—®å…ƒç´  // å¦‚æœå­˜åœ¨å³èŠ‚ç‚¹ï¼Œç»§ç»­å…¥æ ˆï¼Œç›´åˆ°æœ€å·¦å¶å­èŠ‚ç‚¹ var pnt []int for len(st) \u003e 0 { cur := st[len(st)-1] st = st[:len(st)-1] pnt = append(pnt, cur.val) tmp := cur.right for tmp != nil { st = append(st, tmp) tmp = tmp.left } } return } // ä»£ç ä¼˜åŒ– func ldrOrderStack2(root *treeNode) { if root == nil { return } var st []*treeNode // å‡ºæ ˆï¼Œè®¿é—®å…ƒç´  // å¦‚æœå­˜åœ¨å³èŠ‚ç‚¹ï¼Œç»§ç»­å…¥æ ˆï¼Œç›´åˆ°æœ€å·¦å¶å­èŠ‚ç‚¹ var pnt []int tmp := root for len(st) \u003e 0 || tmp != nil { // å…¥æ ˆç›´åˆ°æœ€å·¦èŠ‚ç‚¹ for tmp != nil { st = append(st, tmp) tmp = tmp.left } // å‡ºæ ˆï¼Œè®¿é—®èŠ‚ç‚¹å…ƒç´  tmp = st[len(st)-1] st = st[:len(st)-1] pnt = append(pnt, tmp.val) // ç»§ç»­æ‰¾å³èŠ‚ç‚¹çš„æœ€å·¦å¶å­èŠ‚ç‚¹ tmp = tmp.right } return } ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:3:2","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#ä¸­åºéå†"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" åç»­éå†é€’å½’å®ç°ï¼š func lrdOrder(root *treeNode) { if root == nil { return } lrdOrder(root.left) lrdOrder(root.right) fmt.Printf(\"%d \", root.val) return } æ ˆå®ç°ï¼š ä»æ ¹èŠ‚ç‚¹å¼€å§‹å…¥æ ˆï¼Œç›´åˆ°æœ€å·¦èŠ‚ç‚¹ è·å–æ ˆé¡¶ï¼Œåˆ¤æ–­å³èŠ‚ç‚¹ å³èŠ‚ç‚¹ä¸å­˜åœ¨ï¼šè®¿é—®è¯¥èŠ‚ç‚¹ï¼Œå‡ºæ ˆ å³èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡ï¼šè®¿é—®è¯¥èŠ‚ç‚¹ï¼Œå‡ºæ ˆ å³èŠ‚ç‚¹æœªè®¿é—®ï¼Œè¿›å…¥æ­¥éª¤3 å°†è¯¥å³èŠ‚ç‚¹å½“ä½œæ­¥éª¤1çš„æ ¹èŠ‚ç‚¹ func lrdOrderStack(root *treeNode) { var st []*treeNode tmpRoot := root pre := root for len(st) \u003e 0 || tmpRoot != nil { for tmpRoot != nil { st = append(st, tmpRoot) tmpRoot = tmpRoot.left } tmpRoot = st[len(st)-1] // å½“èŠ‚ç‚¹å³èŠ‚ç‚¹ä¸ºç©º æˆ–è€… å³å­æ ‘å·²ç»è®¿é—®è¿‡çš„æƒ…å†µä¸‹ï¼Œè®¿é—®æ ¹èŠ‚ç‚¹ if tmpRoot.right == nil || tmpRoot.right == pre { fmt.Printf(\"%d \", tmpRoot.val) pre = tmpRoot tmpRoot = nil // å°†å½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºç©ºï¼Œé¿å…ä¸‹ä¸€ä¸ªå¾ªç¯åˆå°†è¯¥èŠ‚ç‚¹å…¥æ ˆ st = st[:len(st)-1] } else { // å³èŠ‚ç‚¹è¿˜æ²¡è®¿é—®ï¼Œååºéå†å³èŠ‚ç‚¹ tmpRoot = tmpRoot.right } } return } ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:3:3","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#åç»­éå†"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" å±‚åºéå†å±‚åºéå†ä½¿ç”¨é˜Ÿåˆ—å®ç°ï¼š func levelOrder(root *treeNode) { if root == nil { return } var queue []*treeNode queue = append(queue, root) for len(queue) \u003e 0 { cur := queue[0] queue = queue[1:] fmt.Printf(\"%d \", cur.val) if cur.left != nil { queue = append(queue, cur.left) } if cur.right != nil { queue = append(queue, cur.right) } } return } ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:3:4","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#å±‚åºéå†"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" éå†çš„å¤æ‚åº¦ éå† æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ å…ˆåº O(n) é€’å½’è°ƒç”¨çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œé€’å½’è°ƒç”¨çš„æ¬¡æ•°ä¸ºæ•°ä¸­èŠ‚ç‚¹çš„æ•°é‡n æ ˆå®ç°çš„ç©ºé—´å¤æ‚åº¦ä¸ºï¼šO(h) hä¸ºæ•°çš„é«˜åº¦ åœ¨è¾ƒå·®çš„æƒ…å†µä¸‹ï¼Œh = nï¼›å¦‚æœæ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œh = logn ä¸­åº O(n) åŒä¸Š ååº O(n) åŒä¸Š å±‚åº O(n) O(w) w ä¸ºæ ‘çš„å®½åº¦ ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:3:5","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#éå†çš„å¤æ‚åº¦"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ ‘çš„ä¸€äº›å¸¸è§é—®é¢˜202305021918 æ ‘é—®é¢˜-è·¯å¾„æ±‚å’Œ 202305031652 æ ‘é—®é¢˜-åˆ¤æ–­å­æ ‘ ã€Š02.äºŒå‰æ ‘çš„éå†çŸ¥è¯†ã€‹. è§äº 2023å¹´4æœˆ30æ—¥. https://algo.itcharge.cn/07.Tree/01.Binary-Tree/02.Binary-Tree-Traverse/. https://algo.itcharge.cn/07.Tree/01.Binary-Tree/01.Binary-Tree-Basic/ ","date":"2023-05-09","objectID":"/202304300709-%E6%A0%91/:4:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"æ ‘","uri":"/202304300709-%E6%A0%91/#æ ‘çš„ä¸€äº›å¸¸è§é—®é¢˜"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202305021918-%E6%A0%91%E9%97%AE%E9%A2%98-%E8%B7%AF%E5%BE%84%E6%B1%82%E5%92%8C/:0:0","series":["ç®—æ³•"],"tags":[],"title":"æ ‘é—®é¢˜-è·¯å¾„æ±‚å’Œ","uri":"/202305021918-%E6%A0%91%E9%97%AE%E9%A2%98-%E8%B7%AF%E5%BE%84%E6%B1%82%E5%92%8C/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ–¹æ³•ä¸€ã€ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆå±‚æ¬¡éå†ï¼‰æ€è·¯ï¼š äºŒå‰æ ‘çš„å±‚æ¬¡éå†ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥ä¿å­˜æ¯ä¸€å±‚çš„èŠ‚ç‚¹ï¼Œå†å¢åŠ ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç”¨æ¥ä¿å­˜ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„å’Œ ","date":"2023-05-09","objectID":"/202305021918-%E6%A0%91%E9%97%AE%E9%A2%98-%E8%B7%AF%E5%BE%84%E6%B1%82%E5%92%8C/:1:0","series":["ç®—æ³•"],"tags":[],"title":"æ ‘é—®é¢˜-è·¯å¾„æ±‚å’Œ","uri":"/202305021918-%E6%A0%91%E9%97%AE%E9%A2%98-%E8%B7%AF%E5%BE%84%E6%B1%82%E5%92%8C/#æ–¹æ³•ä¸€ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢å±‚æ¬¡éå†"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ–¹æ³•äºŒã€é€’å½’æ€è·¯ï¼š åŸé—®é¢˜ï¼šæ˜¯å¦å­˜åœ¨ä»å½“å‰èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œå’Œä¸º sum å­é—®é¢˜ï¼šæ˜¯å¦å­˜åœ¨ä»å½“å‰èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼‰åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œå’Œä¸º sum - valï¼ˆçˆ¶èŠ‚ç‚¹çš„å€¼ï¼‰ ç»“æŸæ¡ä»¶ï¼šå½“å‰èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ funcÂ hasPathSum(rootÂ *TreeNode,Â targetSumÂ int)Â boolÂ { ifÂ rootÂ ==Â nilÂ { returnÂ false } returnÂ havePathToLeaf(root,Â targetSum) } func havePathToLeaf(root *TreeNode, tgtSum int) bool { // end if root.Left == nil \u0026\u0026 root.Right == nil { return root.Val == tgtSum } have1, have2 := false, false if root.Left != nil { have1 = havePathToLeaf(root.Left, tgtSum - root.Val) } if root.Right != nil { have2 = havePathToLeaf(root.Right, tgtSum - root.Val) } return have1 || have2 } ","date":"2023-05-09","objectID":"/202305021918-%E6%A0%91%E9%97%AE%E9%A2%98-%E8%B7%AF%E5%BE%84%E6%B1%82%E5%92%8C/:2:0","series":["ç®—æ³•"],"tags":[],"title":"æ ‘é—®é¢˜-è·¯å¾„æ±‚å’Œ","uri":"/202305021918-%E6%A0%91%E9%97%AE%E9%A2%98-%E8%B7%AF%E5%BE%84%E6%B1%82%E5%92%8C/#æ–¹æ³•äºŒé€’å½’"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202305031652-%E6%A0%91%E9%97%AE%E9%A2%98-%E5%88%A4%E6%96%AD%E5%AD%90%E6%A0%91/:0:0","series":["ç®—æ³•"],"tags":[],"title":"æ ‘é—®é¢˜-åˆ¤æ–­å­æ ‘","uri":"/202305031652-%E6%A0%91%E9%97%AE%E9%A2%98-%E5%88%A4%E6%96%AD%E5%AD%90%E6%A0%91/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ–¹æ³•1. é€’å½’å­é—®é¢˜æ˜¯ï¼šåˆ¤æ–­å·¦å³å­æ ‘æ˜¯å¦ä¼šç­‰äºé¢„æœŸçš„å­æ ‘ï¼ˆåˆ¤æ–­å·¦å³å­æ ‘æ˜¯å¦ç›¸ç­‰çš„é—®é¢˜ä¹Ÿå¯ä»¥é€’å½’æ¥å®ç°ï¼‰ // åˆ¤æ–­æ ¹èŠ‚ç‚¹ä¸ºèµ·å§‹çš„æ ‘ä¸ç›®æ ‡æ ‘æ˜¯å¦ç›¸åŒ // å¦‚æœä¸ç›¸åŒï¼Œé€’å½’åˆ¤æ–­å·¦å­æ ‘å’Œå³å­æ ‘ func isSubtree(root *TreeNode, subRoot *TreeNode) bool { if root == nil \u0026\u0026 subRoot == nil { return true } if root == nil { return false } if isSameTree(root, subRoot) { return true } return isSubtree(root.Left, subRoot) || isSubtree(root.Right, subRoot) } func isSameTree(p *TreeNode, q *TreeNode) bool { if p == nil \u0026\u0026 q == nil { return true } if p == nil || q == nil { return false } if p.Val != q.Val { return false } return isSameTree(p.Left, q.Left) \u0026\u0026 isSameTree(p.Right, q.Right) } ","date":"2023-05-09","objectID":"/202305031652-%E6%A0%91%E9%97%AE%E9%A2%98-%E5%88%A4%E6%96%AD%E5%AD%90%E6%A0%91/:1:0","series":["ç®—æ³•"],"tags":[],"title":"æ ‘é—®é¢˜-åˆ¤æ–­å­æ ‘","uri":"/202305031652-%E6%A0%91%E9%97%AE%E9%A2%98-%E5%88%A4%E6%96%AD%E5%AD%90%E6%A0%91/#æ–¹æ³•1-é€’å½’"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ–¹æ³•2. dfsï¼ˆå…ˆåºï¼‰ + kmp202304262036 KMP ç®—æ³• è®¾ä¸»æ ‘sï¼Œå­æ ‘tï¼Œä¸»æ ‘çš„å…ˆåºåºåˆ— ssï¼Œå­æ ‘çš„å…ˆåºåºåˆ— tt åˆ©ç”¨å…ˆåºåºåˆ—çš„æ€§è´¨ï¼š å¦‚æœA.ã€ t æ˜¯ s çš„å­æ ‘ã€‘ é‚£ä¹ˆB.ã€ss ä¸­ åŒ…å« ttã€‘ å¯ä»¥çŸ¥é“ B æ˜¯ A çš„å¿…è¦æ¡ä»¶ï¼Œæ˜¯æ²¡æœ‰åŠæ³•ä» B æ¨å‡º A çš„ï¼ŒåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Œå‡è®¾ä¸»æ ‘ï¼š[4, 5]ï¼Œå­æ ‘ï¼š[4, nil, 5]ï¼Œè¿™ç§æƒ…å†µä¸‹çš„å…ˆåºåºåˆ—éƒ½æ˜¯ 4 5ï¼Œä½†æ˜¯ä¸¤é¢—æ ‘æ˜¯ä¸ä¸€æ ·çš„ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è¡¥å……ä¸¤ä¸ªä»£è¡¨ç©ºçš„å·¦å³èŠ‚ç‚¹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ // é€šè¿‡æ ‘çš„å…ˆåºéå† // è¡¥å……æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œè®©åº¦ä¸º2ï¼Œè¾“å‡ºæ ‘çš„å…ˆåºéå† // åˆ¤æ–­ä¸»æ ‘çš„åºåˆ—åŒ…å«å­æ ‘çš„åºåˆ— func isSubtree2(root *TreeNode, subRoot *TreeNode) bool { nums1 := dlrNums(root) nums2 := dlrNums(subRoot) return kmpSearch(nums1, nums2) } const lrNilVal = -10001 var leftNilNode = TreeNode{ Val: lrNilVal, } var rightNilNode = TreeNode{ Val: lrNilVal, } func dlrNums(root *TreeNode) []int { var nums []int if root == nil { return nums } var st []*TreeNode st = append(st, root) tmpRoot := root for len(st) \u003e 0 { // pop tmpRoot = st[len(st) - 1] st = st[:len(st) - 1] // visit nums = append(nums, tmpRoot.Val) if tmpRoot.Val != lrNilVal \u0026\u0026 tmpRoot.Left == nil { tmpRoot.Left = \u0026leftNilNode } if tmpRoot.Val != lrNilVal \u0026\u0026 tmpRoot.Right == nil { tmpRoot.Right = \u0026rightNilNode } if tmpRoot.Right != nil { st = append(st, tmpRoot.Right) } if tmpRoot.Left != nil { st = append(st, tmpRoot.Left) } } return nums } // i // nums a a b a a b a a c // pat // j func kmpSearch(nums, pat []int) bool { next := getNext(pat) j := 0 for i := 0; j \u003c len(pat) \u0026\u0026 i \u003c len(nums); i++ { for ; j \u003e 0 \u0026\u0026 nums[i] != pat[j]; j = next[j-1]{} if nums[i] == pat[j] { j++ } } return j == len(pat) } func getNext(pat []int) []int { next := make([]int, len(pat)) next[0] = 0 for l, j := 0, 1 ; j \u003c len(pat); j++ { for l \u003e 0 \u0026\u0026 pat[l] != pat[j] {l = next[l-1]} if pat[l] == pat[j] { l++ } next[j] = l } return next } ","date":"2023-05-09","objectID":"/202305031652-%E6%A0%91%E9%97%AE%E9%A2%98-%E5%88%A4%E6%96%AD%E5%AD%90%E6%A0%91/:2:0","series":["ç®—æ³•"],"tags":[],"title":"æ ‘é—®é¢˜-åˆ¤æ–­å­æ ‘","uri":"/202305031652-%E6%A0%91%E9%97%AE%E9%A2%98-%E5%88%A4%E6%96%AD%E5%AD%90%E6%A0%91/#æ–¹æ³•2-dfså…ˆåº--kmp"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:0:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸€ã€åŸºæœ¬æ¦‚å¿µå®šä¹‰ï¼šG = (V, E) å›¾çš„åˆ†ç±» è¾¹æ˜¯å¦æœ‰æ–¹å‘ï¼š æœ‰å‘å›¾ æ— å‘å›¾ å›¾ä¸­æ˜¯å¦æœ‰ç¯ï¼š æœ‰ç¯å›¾ æ— ç¯å›¾ è¿é€šå›¾å’Œéè¿é€šå›¾ è¿é€šå›¾ éè¿é€šå›¾ ","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:1:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#ä¸€åŸºæœ¬æ¦‚å¿µ"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" äºŒã€å›¾çš„å­˜å‚¨ é¡ºåº é“¾å¼ äº”ç§æ ‘çš„å­˜å‚¨æ–¹å¼çš„æ¯”è¾ƒï¼š æ“ä½œ é‚»æ¥çŸ©é˜µ è¾¹é›†æ•°ç»„ é‚»æ¥è¡¨ é“¾å¼å‰å‘æ˜Ÿ å“ˆå¸Œè¡¨å®ç°é‚»æ¥è¡¨ å›¾çš„åˆå§‹åŒ– n^2 m n+m n+m æŸ¥æŸæ¡è¾¹æ˜¯å¦å­˜åœ¨ 1 m TD(vi) TD(vi) éå†æŸä¸ªç‚¹çš„æ‰€æœ‰è¾¹ n m TD(vi) TD(vi) éå†æ•´å¼ å›¾ n^2 nm n+m n+m ç©ºé—´å¤æ‚åº¦ n m n+m n+m ","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:2:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#äºŒå›¾çš„å­˜å‚¨"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.1 é‚»æ¥çŸ©é˜µï¼ˆ äºŒç»´æ•°ç»„ï¼‰","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:2:1","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#21-é‚»æ¥çŸ©é˜µ-äºŒç»´æ•°ç»„"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.2 è¾¹é›†æ•°ç»„","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:2:2","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#22-è¾¹é›†æ•°ç»„"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.3 é‚»æ¥è¡¨ï¼ˆæ•°ç»„+é“¾å¼ç»“æ„ï¼‰ // é‚»æ¥ç‚¹ type AdjNode struct { AdjN int // é‚»æ¥ç‚¹æ ‡å· Weight int //é¡¶ç‚¹åˆ°è¯¥é‚»æ¥ç‚¹çš„æƒé‡ Next *AdjNode } // é¡¶ç‚¹ type VNode struct { Val int FirstAdjNode *AdjNode } type Graph struct { VNum int ENum int VNodes []VNode } type Edge struct { V1, V2 int Weight int } func InitGraph(VertexNum int) *Graph { g := \u0026Graph{ VNum: VertexNum, ENum: 0, VNodes: make([]VNode, VertexNum), } //for _, vnode := range g.VNodes { //vnode.Val = //} return g } func InsertEdge(graph *Graph, e *Edge) { v1VNode := graph.VNodes[e.V1-1] // å‡è®¾ v1 èŠ‚ç‚¹å­˜å‚¨åœ¨ä¸‹æ ‡ 0 çš„ä½ç½® // æ–°å»ºä¸€ä¸ª v2 çš„é‚»æ¥ç‚¹ v2Adj := \u0026AdjNode{ AdjN: e.V2, Weight: e.Weight, Next: v1VNode.FirstAdjNode, } v1VNode.FirstAdjNode = v2Adj // å¦‚æœæ˜¯æ— å‘å›¾ï¼Œè¿˜éœ€è¦æ·»åŠ ä» v2 åˆ° v1 çš„è¿æ¥ v2VNode := graph.VNodes[e.V2-1] v1Adj := \u0026AdjNode{ AdjN: e.V1, Weight: e.Weight, Next: v2VNode.FirstAdjNode, } v2VNode.FirstAdjNode = v1Adj } func BuildGraph(vnum int, v1s, v2s []int, weight []int) *Graph { graph := InitGraph(vnum) for i := 0; i \u003c len(v1s); i++ { e := \u0026Edge{ V1: v1s[i], V2: v2s[i], Weight: weight[i], } InsertEdge(graph, e) } return graph } func test1() { vnum := 4 v1s := []int{1,1,3,1} v2s := []int{2,3,4,4} weights := []int{1,2,3,4} graph := BuildGraph(vnum, v1s, v2s, weights) for i, vnode := range graph.VNodes { adj := vnode.FirstAdjNode for adj != nil { fmt.Printf(\"(%d,%d) æƒé‡ %d \\n\",i+1, adj.AdjN, adj.Weight) adj = adj.Next } } } ","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:2:3","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#23-é‚»æ¥è¡¨æ•°ç»„é“¾å¼ç»“æ„"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.4 é“¾å¼å‰å‘æ˜Ÿï¼ˆæ•°ç»„+é™æ€é“¾è¡¨ï¼‰","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:2:4","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#24-é“¾å¼å‰å‘æ˜Ÿæ•°ç»„é™æ€é“¾è¡¨"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 2.5 å“ˆå¸Œè¡¨å®ç°é‚»æ¥è¡¨","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:2:5","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#25-å“ˆå¸Œè¡¨å®ç°é‚»æ¥è¡¨"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" ä¸‰ã€å›¾çš„éå†","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:3:0","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#ä¸‰å›¾çš„éå†"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 3.1 DFS","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:3:1","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#31-dfs"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" 3.2 BFS","date":"2023-05-09","objectID":"/202305040737-%E5%9B%BE/:3:2","series":["æ•°æ®ç»“æ„"],"tags":[],"title":"å›¾","uri":"/202305040737-%E5%9B%BE/#32-bfs"},{"categories":["Kubernetes"],"content":"#k8s #é—®é¢˜å®šä½ ","date":"2023-05-09","objectID":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/:0:0","series":["kubernetesé—®é¢˜å®šä½"],"tags":["é—®é¢˜å®šä½"],"title":"é—®é¢˜å®šä½ï¼šEvicted","uri":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/#"},{"categories":["Kubernetes"],"content":" é—®é¢˜ç°åœº kubectl -n product-ebs get pod -o wide | grep vtype-xxx æ‰åˆ°äº†ä¸€ä¸ªçŠ¶æ€ä¸º Evicted çš„ pod ","date":"2023-05-09","objectID":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/:1:0","series":["kubernetesé—®é¢˜å®šä½"],"tags":["é—®é¢˜å®šä½"],"title":"é—®é¢˜å®šä½ï¼šEvicted","uri":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/#é—®é¢˜ç°åœº"},{"categories":["Kubernetes"],"content":" é—®é¢˜åˆ†æé€šè¿‡ç°åœºå¯ä»¥çœ‹åˆ° pod åŸå…ˆçš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹èŠ‚ç‚¹çš„æ—¥å¿— æ¥ç€å°±å‘ç°äº†èŠ‚ç‚¹æœ‰ç£ç›˜å‹åŠ›ï¼Œkubelet ä¸»åŠ¨ç»ˆæ­¢ pod ä»¥å›æ”¶èŠ‚ç‚¹ä¸Šçš„èµ„æºï¼Œä»¥æ­¤æ¥ä¿è¯èŠ‚ç‚¹çš„ç¨³å®š ","date":"2023-05-09","objectID":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/:2:0","series":["kubernetesé—®é¢˜å®šä½"],"tags":["é—®é¢˜å®šä½"],"title":"é—®é¢˜å®šä½ï¼šEvicted","uri":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/#é—®é¢˜åˆ†æ"},{"categories":["Kubernetes"],"content":" å­¦ä¹ ","date":"2023-05-09","objectID":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/:3:0","series":["kubernetesé—®é¢˜å®šä½"],"tags":["é—®é¢˜å®šä½"],"title":"é—®é¢˜å®šä½ï¼šEvicted","uri":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/#å­¦ä¹ "},{"categories":["Kubernetes"],"content":" å¯èƒ½å¯¼è‡´èŠ‚ç‚¹å‹åŠ›çš„å› ç´ æœ‰ä»€ä¹ˆcpuã€å†…å­˜ã€ç£ç›˜ç©ºé—´â€¦ ","date":"2023-05-09","objectID":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/:3:1","series":["kubernetesé—®é¢˜å®šä½"],"tags":["é—®é¢˜å®šä½"],"title":"é—®é¢˜å®šä½ï¼šEvicted","uri":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/#å¯èƒ½å¯¼è‡´èŠ‚ç‚¹å‹åŠ›çš„å› ç´ æœ‰ä»€ä¹ˆ"},{"categories":["Kubernetes"],"content":" kubelet æ˜¯å¦‚ä½•åšå‡ºé©±é€çš„å†³å®šçš„ åˆ†æè¿™ä¸ªé—®é¢˜çš„æ­¥éª¤ï¼š å›ç­”è¿™ä¸ªé—®é¢˜éœ€è¦äº†è§£ Kubernetes ä¸­ kubelet ç»„ä»¶ä»¥åŠ Eviction APIï¼Œå†ç»“åˆèŠ‚ç‚¹èµ„æºä½¿ç”¨æƒ…å†µç­‰å› ç´ æ¥åˆ¤æ–­æ˜¯å¦è¦é©±é€ Podã€‚å…·ä½“çš„åˆ†ææ­¥éª¤å¦‚ä¸‹ï¼š äº†è§£ Kubernetes ä¸­ kubelet ç»„ä»¶å’Œ Eviction API çš„ä½œç”¨å’ŒåŸç†ã€‚ ç¡®è®¤ kubelet æ˜¯å¦å¼€å¯äº† Eviction åŠŸèƒ½ã€‚ åˆ¤æ–­å½“å‰èŠ‚ç‚¹èµ„æºï¼ˆå¦‚å†…å­˜ã€CPUã€ç£ç›˜ç©ºé—´ï¼‰ä½¿ç”¨æƒ…å†µæ˜¯å¦è¾¾åˆ°äº†é¢„å®šä¹‰çš„é˜ˆå€¼ï¼Œè‹¥è¾¾åˆ°æˆ–è¶…å‡ºï¼Œåˆ™æ ¹æ®ä¼˜å…ˆçº§é€»è¾‘å¯¹ Pod è¿›è¡Œé©±é€æ“ä½œã€‚ äº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› ï¼š åœ¨ Kubernetes ä¸‹ï¼Œç”±äºå„ç§åŸå› ï¼ˆå¦‚èµ„æºç´§ç¼ºï¼ŒèŠ‚ç‚¹æ•…éšœç­‰ï¼‰ï¼Œkubelet å¯èƒ½ä¼šå†³å®šé©±é€ä¸€äº› Pod ä»¥ä¿è¯é›†ç¾¤æ­£å¸¸è¿è½¬ï¼Œå› æ­¤äº†è§£ kubelet å†³ç­–çš„åŸå› å’Œæ–¹å¼å¯¹äºæé«˜ Kubernetes é›†ç¾¤çš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§éå¸¸é‡è¦ã€‚ è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼š kubelet é©±é€ Pod æ˜¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤è¿›è¡Œçš„ï¼š kubelet å®šæœŸä¸ kube-apiserver é€šä¿¡ï¼Œè·å–å½“å‰ Node ä¸Šçš„ Pod åˆ—è¡¨ä¿¡æ¯ã€‚ kubelet æ ¹æ®å®¹å™¨çš„ QoS ç±»åˆ«ï¼ˆGuaranteed \u003e Burstable \u003e BestEffortï¼‰ å’Œä¼˜å…ˆçº§ï¼ˆpod priority/Preemptionï¼‰è¿›è¡Œæ’åºã€‚ï¼ˆPreemption æ—¶è¿‡ç¨‹ä¸­ï¼Œkubelet ä¸ä¼šé™åˆ¶ä¸€äº›ç‰¹å®š Pod ä»æ¥ä¸è¢«é©±é€ã€‚ï¼‰ kubelet åˆ¤æ–­å½“å‰ Node æ˜¯å¦å¤„äº out of memory æˆ–è€… DiskPressure çš„çŠ¶æ€ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œåˆ™ä½¿ç”¨ç›¸åº”çš„ Eviction API é©±é€ Podã€‚ å¦‚æœè¿˜æ²¡æœ‰è¾¾åˆ°é˜ˆå€¼ï¼Œåˆ™å°è¯•é©±é€ä¼˜å…ˆçº§æœ€ä½çš„ Podã€‚å¦‚æœæ­¤æ—¶èŠ‚ç‚¹æœ‰è¶³å¤Ÿçš„èµ„æºå¯ä¾›ä½¿ç”¨ï¼Œåˆ™è¯¥æ“ä½œä¸ä¼šæ‰§è¡Œã€‚å¦åˆ™ï¼Œkubelet å°†ç»§ç»­é©±é€ä¼˜å…ˆçº§ä¸‹ä¸€ä¸ªè¾ƒä½çš„ Pod ç›´åˆ°å¯ä»¥ä¿è¯ç›®æ ‡é˜ˆå€¼ã€‚ å¦‚æœä½¿ç”¨ä¸Šè¿°æ­¥éª¤æ— æ³•æ»¡è¶³ Eviction è¦æ±‚ï¼ˆå¦‚Pod å¼ºå èµ„æºï¼‰ï¼Œkubelet å¯èƒ½ä¼šå¼ºåˆ¶åˆ é™¤å…¶ä»– Pod ä»¥ä¾¿ä¸ºå½“å‰å ç”¨çš„ Pod è…¾å‡ºèµ„æºã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œkubelet æ˜¯è¢«åŠ¨çš„è¿›è¡Œé©±é€æ“ä½œçš„ï¼Œå³åªæœ‰åœ¨å½“å‰èŠ‚ç‚¹èµ„æºä½¿ç”¨æƒ…å†µè¾¾åˆ°æˆ–è¶…è¿‡äº†é¢„è®¾çš„é˜ˆå€¼æ—¶æ‰ä¼šè¿›è¡Œé©±é€ï¼Œè€Œè¿™äº›é˜ˆå€¼å¯ä»¥é€šè¿‡ä¿®æ”¹ Kubernetes é›†ç¾¤ä¸­çš„å‚æ•°æ¥è°ƒæ•´ã€‚ å®¹å™¨çš„ QoSï¼š kubectl describe pod \u003cpod-name\u003e | grep QoS è¯¥å‘½ä»¤ä¼šåˆ—å‡º Pod çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¹¶åœ¨ç»“æœä¸­æœç´¢ QoS ç›¸å…³çš„éƒ¨åˆ†ã€‚ Kubernetes ä¸­çš„ QoS (Quality of Service) æ˜¯ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒç”¨æ¥ç®¡ç†èŠ‚ç‚¹ä¸Šè¿è¡Œçš„ Pod çš„èµ„æºåˆ†é…å’Œè°ƒåº¦ã€‚åœ¨ Kubernetes ä¸­ï¼ŒQoS æœ‰ä¸‰ç§çº§åˆ«ï¼š Guaranteedï¼šè¿™ç§ç±»å‹çš„ Pod è¢«ä¿è¯èƒ½å¤Ÿè·å¾—æ‰€è¯·æ±‚çš„ CPU å’Œå†…å­˜èµ„æºã€‚å¦‚æœèŠ‚ç‚¹ä¸Šçš„èµ„æºä¸è¶³ï¼Œä¼˜å…ˆçº§è¾ƒä½çš„ Pod å°†è¢«æš‚åœæˆ–é©±é€ã€‚ Burstableï¼šè¿™ç§ç±»å‹çš„ Pod å…·æœ‰æœ€å°çš„ CPU å’Œå†…å­˜è¦æ±‚ï¼Œä½†å¯ä»¥åœ¨éœ€è¦æ—¶è¿›è¡Œæ‰©å±•ï¼Œä»¥è·å¾—æ›´å¤šèµ„æºã€‚å½“èŠ‚ç‚¹ä¸Šçš„èµ„æºä¸è¶³æ—¶ï¼ŒBurstable Pod å¯èƒ½ä¼šå—åˆ°é™åˆ¶ï¼Œä½†ä¸ä¼šè¢«å®Œå…¨æš‚åœæˆ–é©±é€ã€‚ BestEffortï¼šè¿™ç§ç±»å‹çš„ Pod ä¸ä¼šè¢«ä¿è¯ä»»ä½•èµ„æºã€‚å®ƒä»¬å°†å°½åŠ›åœ¨èŠ‚ç‚¹ä¸Šå ç”¨å°½å¯èƒ½å°‘çš„èµ„æºï¼Œå¹¶ä¸”åœ¨èŠ‚ç‚¹èµ„æºä¸è¶³æ—¶é¦–å…ˆè¢«å‰Šå‡æˆ–åˆ é™¤ã€‚ QoS ä¸»è¦çš„ä½œç”¨æ˜¯å¸®åŠ© Kubernetes ç®¡ç†èµ„æºï¼Œç¡®ä¿ç›¸åŒçº§åˆ«çš„ Pod åœ¨èŠ‚ç‚¹ä¸Šå¾—åˆ°å…¬å¹³çš„èµ„æºåˆ†é…ï¼Œå¹¶ä¸”åœ¨èµ„æºä¸è¶³çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®å…¶çº§åˆ«çš„ä¸åŒï¼Œé‡‡å–é€‚å½“çš„æªæ–½ä»¥ä¿æŒèŠ‚ç‚¹çš„å¥åº·çŠ¶æ€ã€‚ ","date":"2023-05-09","objectID":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/:3:2","series":["kubernetesé—®é¢˜å®šä½"],"tags":["é—®é¢˜å®šä½"],"title":"é—®é¢˜å®šä½ï¼šEvicted","uri":"/202305080553-%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D-evicted/#kubelet-æ˜¯å¦‚ä½•åšå‡ºé©±é€çš„å†³å®šçš„"},{"categories":["Kubernetes"],"content":"#k8s ","date":"2023-05-09","objectID":"/202305080545-kubernetes-%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/:0:0","series":["kubernetesåˆè¯†"],"tags":["å®æ“"],"title":"åœ¨ vmware ä¸Šæœ¬åœ°æ­å»º kubernetes é›†ç¾¤","uri":"/202305080545-kubernetes-%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/#"},{"categories":["Kubernetes"],"content":" ä¸€ã€ç¯å¢ƒå‡†å¤‡ å…³é—­é˜²ç«å¢™ systemctl stop firewalld systemctl disable firewalld å…³é—­ selinux sed -i 's/enforcing/disabled/' /etc/selinux/config å…³é—­ swap sed -ri 's/.*swap.*/#\u0026/' /etc/fstab æ·»åŠ  hosts cat \u003e\u003e /etc/hosts \u003c\u003c EOF 192.168.108.132 centos7-master 192.168.108.130 centos7-node1 EOF è®¾ç½®ç½‘æ¡¥å‚æ•° cat \u003e /etc/sysctl.d/k8s.conf \u003c\u003c EOF net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 EOF sysctl --system # ç”Ÿæ•ˆ æ—¶é—´åŒæ­¥ yum install ntpdate -y # æ²¡æœ‰çš„ ntpdate åˆ™å®‰è£… ntpdate time.windows.com # åŒæ­¥æ—¶é—´ ","date":"2023-05-09","objectID":"/202305080545-kubernetes-%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/:1:0","series":["kubernetesåˆè¯†"],"tags":["å®æ“"],"title":"åœ¨ vmware ä¸Šæœ¬åœ°æ­å»º kubernetes é›†ç¾¤","uri":"/202305080545-kubernetes-%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/#ä¸€ç¯å¢ƒå‡†å¤‡"},{"categories":["Kubernetes"],"content":" äºŒã€å®‰è£… å®‰è£… Dockerã€kubeadmã€kubeletã€kubectl Docker å®‰è£… wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo # æ›´æ–° docker çš„ yum æº yum install docker-ce-19.03.13 -y é…ç½®é•œåƒ mkdir /etc/docker cat \u003c\u003c EOF \u003e /etc/docker/daemon.json { \"registry-mirrors\": [\"https://kfwkfulq.mirror.aliyuncs.com\"] } EOF systemctl enable docker.service æ·»åŠ  k8s çš„yumæº cat \u003e /etc/yum.repos.d/kubernetes.repo \u003c\u003c EOF [kubernetes] name=Kubernetes baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64 enabled=1 gpgcheck=0 repo_gpgcheck=0 gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg EOF å®‰è£… kubeadmã€kubeletã€kubectl yum install kubelet-1.19.4 kubeadm-1.19.4 kubectl-1.19.4 -y systemctl enable kubelet.service # å¼€å¯æœåŠ¡ é‡å¯ centos éƒ¨ç½² master èŠ‚ç‚¹ kubeadm init --apiserver-advertise-address=ã€masteræœåŠ¡å™¨ipåœ°å€ã€‘ --image-repository registry.aliyuncs.com/google_containers --kubernetes-version v1.19.4 --service-cidr=10.96.0.0/12 --pod-network-cidr=10.244.0.0/16 mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config æ·»åŠ  node èŠ‚ç‚¹ kubeadm join 192.168.108.132:6443 --token d99d8g.3wr8skktnv3m9e46 \\ --discovery-token-ca-cert-hash sha256:0ba36403007aa7ef77b174a65a8e3de27bcbcac9fbb5b2bb31c337a565d4e16 éƒ¨ç½²ç½‘ç»œæ’ä»¶ wget https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml kubectl apply -f kube-flannel.yml ","date":"2023-05-09","objectID":"/202305080545-kubernetes-%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/:2:0","series":["kubernetesåˆè¯†"],"tags":["å®æ“"],"title":"åœ¨ vmware ä¸Šæœ¬åœ°æ­å»º kubernetes é›†ç¾¤","uri":"/202305080545-kubernetes-%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/#äºŒå®‰è£…"},{"categories":["Golang"],"content":"#Golang æ ˆçš„ç›¸å…³æ“ä½œæœ‰ï¼šå…¥æ ˆï¼ˆpushï¼‰ã€å‡ºæ ˆï¼ˆpopï¼‰ï¼ˆå‡ºæ ˆçš„åŒæ—¶åˆ é™¤ï¼‰ï¼Œè·å–æ ˆé¡¶å…ƒç´ ï¼ˆtopï¼‰ type myStack struct { Nums []int } func (s *myStack) push(n int) { s.Nums = append(s.Nums, n) } func (s *myStack) pop() int { if s.isEmpty() { return 0 } top := s.Nums[len(s.Nums)-1] s.Nums = s.Nums[:len(s.Nums)-1] // num[n:m] çš„ä¸‹æ ‡èŒƒå›´ [n,m) return top } func (s *myStack) top() int { return s.Nums[len(s.Nums)-1] } func (s *myStack) isEmpty() bool { if len(s.Nums) == 0 { return true } return false } ","date":"2023-05-09","objectID":"/202304201957-%E6%A0%88/:0:0","series":["Golangä»£ç ç‰‡æ®µ"],"tags":[],"title":"æ ˆ","uri":"/202304201957-%E6%A0%88/#"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"#ç®—æ³• ç”¨é€”ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›åŸºäºå­—å…¸åºçš„ä¸‹ä¸€ä¸ªæ•°ç»„æ’åˆ— å››ä¸ªæ­¥éª¤ï¼š æ‰¾ä¸Šå¡ æ‰¾å¤§äºä¸”æœ€å° äº¤æ¢ å€’åº Go å®ç°ï¼š func nextDicArr(nums []int) []int { if len(nums) \u003c= 1 { return } pos := -1 for i := len(nums)-2; i \u003e= 0; i-- { if nums[i] \u003c nums[i+1] { pos = i break } } // æ²¡æ‰¾åˆ°ä¸Šå¡ï¼ˆå·¦å€¼å°äºå³å€¼ï¼‰ï¼Œè¯´æ˜å·²ç»æ˜¯é™åºæ’åˆ— if pos == -1 { for i,n := 0,len(nums); i \u003c n/2; i++ { nums[i], nums[n-i-1] = nums[n-i-1], nums[i] } return nums } // æ‰¾åˆ° posï¼Œæ¥ç€æ‰¾å³è¾¹å¤§äºè¯¥å€¼çš„æœ€å°å€¼ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå¤§äºæ ‡è®°çš„å€¼ï¼‰ biggerThanPos := -1 for i := len(nums)-1; i \u003e= pos+1; i-- { if nums[i] \u003e nums[pos] { biggerThanPos = i break } } nums[pos], nums[biggerThanPos] = nums[biggerThanPos], nums[pos] // å‰©ä¸‹çš„å€’åº for i,n,cnt := pos+1, len(nums),0; i \u003c (n + pos+1)/2; i++ { nums[i], nums[n-cnt-1] = nums[n-cnt-1], nums[i] cnt++ } return nums } ä¹ é¢˜ç»ƒä¹ ï¼š https://leetcode.cn/problems/VvJkup/ ã€Šå­—å…¸åºç®—æ³•è¯¦è§£_HappyRockingçš„åšå®¢-CSDNåšå®¢ã€‹. è§äº 2023å¹´4æœˆ29æ—¥. https://blog.csdn.net/HappyRocking/article/details/83619392. ","date":"2023-05-09","objectID":"/202304290644-%E5%AD%97%E5%85%B8%E5%BA%8F%E7%AE%97%E6%B3%95/:0:0","series":["ç®—æ³•"],"tags":[],"title":"å­—å…¸åºç®—æ³•","uri":"/202304290644-%E5%AD%97%E5%85%B8%E5%BA%8F%E7%AE%97%E6%B3%95/#"}]